/**
 * Jindo Component
 * @version 1.0.2
 * NHN_Library:Jindo_Component-1.0.2;JavaScript Components for Jindo;
 * 
 * jindo.Transition
 * jindo.Timer
 * jindo.DragArea
 * jindo.LayerManager
 * jindo.RolloverArea
 * jindo.ScrollBar
 * jindo.ScrollBox
 * jindo.Slider
 * jindo.Effect
 */

	 

jindo.ScrollBar=new jindo.$Class({_bMouseEnter:false,_bIsEventAttachedForCommon:false,_bIsEventAttachedForVertical:false,_bIsEventAttachedForHorizontal:false,$init:function(el,oOption){this.option({sClassPrefix:"scrollbar-",nDelta:16,sClassNameForRollover:"rollover",bActivateOnload:true});this.option(oOption||{});this._el=jindo.$(el);this._oTimer=new jindo.Timer();this._oTransition=new jindo.Transition().fps(30);this._wfOnMouseEnter=jindo.$Fn(this._onMouseEnter,this);this._wfOnMouseLeave=jindo.$Fn(this._onMouseLeave,this);this._wfOnWheel=jindo.$Fn(this._onWheel,this);this._wfOnMouseUp=jindo.$Fn(this._onMouseUp,this);this._assignHTMLElements();this._initialize4Tablet();if(this.option("bActivateOnload")){this.activate();}},_assignHTMLElements:function(){var el=this._el,sClassPrefix=this.option("sClassPrefix");this._elBox=jindo.$$.getSingle("."+sClassPrefix+"box",el);this._elContent=jindo.$$.getSingle("."+sClassPrefix+"content",el);var welBox=jindo.$Element(this._elBox),welContent=jindo.$Element(this._elContent);this._oBoxSize={nWidth:welBox.width(),nHeight:welBox.height()};this._oContentSize={nWidth:welContent.width(),nHeight:welContent.height()};this._oHorizontal={elScrollBar:jindo.$$.getSingle("."+sClassPrefix+"h",el)};var oH=this._oHorizontal;if(oH.elScrollBar){oH.elTrack=jindo.$$.getSingle("."+sClassPrefix+"track",oH.elScrollBar);oH.elThumb=jindo.$$.getSingle("."+sClassPrefix+"thumb",oH.elTrack);oH.elThumbHead=jindo.$$.getSingle("."+sClassPrefix+"thumb-head",oH.elThumb);oH.elThumbBody=jindo.$$.getSingle("."+sClassPrefix+"thumb-body",oH.elThumb);oH.elThumbFoot=jindo.$$.getSingle("."+sClassPrefix+"thumb-foot",oH.elThumb);oH.elButtonLeft=jindo.$$.getSingle("."+sClassPrefix+"button-left",oH.elScrollBar);oH.elButtonRight=jindo.$$.getSingle("."+sClassPrefix+"button-right",oH.elScrollBar);}
this._oVertical={elScrollBar:jindo.$$.getSingle("."+sClassPrefix+"v",el)};var oV=this._oVertical;if(oV.elScrollBar){oV.elTrack=jindo.$$.getSingle("."+sClassPrefix+"track",oV.elScrollBar);oV.elThumb=jindo.$$.getSingle("."+sClassPrefix+"thumb",oV.elTrack);oV.elThumbHead=jindo.$$.getSingle("."+sClassPrefix+"thumb-head",oV.elThumb);oV.elThumbBody=jindo.$$.getSingle("."+sClassPrefix+"thumb-body",oV.elThumb);oV.elThumbFoot=jindo.$$.getSingle("."+sClassPrefix+"thumb-foot",oV.elThumb);oV.elButtonUp=jindo.$$.getSingle("."+sClassPrefix+"button-up",oV.elScrollBar);oV.elButtonDown=jindo.$$.getSingle("."+sClassPrefix+"button-down",oV.elScrollBar);}},getBox:function(){return this._elBox;},getContent:function(){return this._elContent;},getDefaultBoxSize:function(){return this._oBoxSize;},getDefaultContentSize:function(){return this._oContentSize;},getScrollBarHorizontal:function(){return this._oHorizontal;},getScrollBarVertical:function(){return this._oVertical;},getSliderHorizontal:function(){return this._oSliderHorizontal||null;},getSliderVertical:function(){return this._oSliderVertical||null;},getRolloverArea:function(){return this._oRolloverArea;},_attachEvent:function(sDirection){var sClassPrefix=this.option("sClassPrefix"),self=this,oH=this.getScrollBarHorizontal(),oV=this.getScrollBarVertical();function attach(o){if(o.elScrollBar){var sClassNameForRollover=self.option("sClassNameForRollover");jindo.$Element(o.elTrack).addClass(sClassNameForRollover);jindo.$Element(o.elThumb).addClass(sClassNameForRollover);if(o.elButtonLeft){jindo.$Element(o.elButtonLeft).addClass(sClassNameForRollover);}
if(o.elButtonRight){jindo.$Element(o.elButtonRight).addClass(sClassNameForRollover);}
if(o.elButtonUp){jindo.$Element(o.elButtonUp).addClass(sClassNameForRollover);}
if(o.elButtonDown){jindo.$Element(o.elButtonDown).addClass(sClassNameForRollover);}}}
function attachH(){if(!self._bIsEventAttachedForHorizontal){attach(oH);}
self._bIsEventAttachedForHorizontal=true;}
function attachV(){if(!self._bIsEventAttachedForVertical){attach(oV);}
self._bIsEventAttachedForVertical=true;}
if(!this._bIsEventAttachedForCommon){this._initSliders();this._initRolloverArea();this._wfOnMouseEnter.attach(this._el,"mouseenter");this._wfOnMouseLeave.attach(this._el,"mouseleave");this._wfOnWheel.attach(document,"mousewheel");this._wfOnMouseUp.attach(document,"mouseup");this._bIsEventAttachedForCommon=true;jindo.$Element(this._el).removeClass(sClassPrefix+"noscript");}
if(!sDirection){attachH();attachV();}
if(sDirection=="horizontal"){attachH();}
if(sDirection=="vertical"){attachV();}},_detachEvent:function(sDirection){var sClassPrefix=this.option("sClassPrefix"),self=this,oH=this.getScrollBarHorizontal(),oV=this.getScrollBarVertical();function detach(o){if(o.elScrollBar){var sClassNameForRollover=self.option("sClassNameForRollover");jindo.$Element(o.elTrack).removeClass(sClassNameForRollover);jindo.$Element(o.elThumb).removeClass(sClassNameForRollover);if(o.elButtonLeft){jindo.$Element(o.elButtonLeft).removeClass(sClassNameForRollover);}
if(o.elButtonRight){jindo.$Element(o.elButtonRight).removeClass(sClassNameForRollover);}
if(o.elButtonUp){jindo.$Element(o.elButtonUp).removeClass(sClassNameForRollover);}
if(o.elButtonDown){jindo.$Element(o.elButtonDown).removeClass(sClassNameForRollover);}}}
function detachH(){if(self._bIsEventAttachedForHorizontal){detach(oH);}
self._bIsEventAttachedForHorizontal=false;}
function detachV(){if(self._bIsEventAttachedForVertical){detach(oV);}
self._bIsEventAttachedForVertical=false;}
if(!sDirection){detachH();detachV();}
else if(sDirection=="horizontal"){detachH();}
else if(sDirection=="vertical"){detachV();}
if(this._bIsEventAttachedForCommon&&!this._bIsEventAttachedForHorizontal&&!this._bIsEventAttachedForVertical){this._wfOnMouseEnter.detach(this._el,"mouseenter");this._wfOnMouseLeave.detach(this._el,"mouseleave");this._wfOnWheel.detach(document,"mousewheel");this._wfOnMouseUp.detach(document,"mouseup");this._bMouseEnter=false;this._bIsEventAttachedForCommon=false;this.getRolloverArea().deactivate();jindo.$Element(this._el).addClass(sClassPrefix+"noscript");}},_activateH:function(){var oSliderH=this.getSliderHorizontal();if(oSliderH){oSliderH.activate();this.getBox().scrollLeft=0;this.setScrollLeft(0);}},_activateV:function(){var oSliderV=this.getSliderVertical();if(oSliderV){oSliderV.activate();this.getBox().scrollTop=0;this.setScrollTop(0);}},_onActivate:function(sDirection){this._attachEvent(sDirection||null);this._activate4Tablet();if(!sDirection){this._activateH();this._activateV();jindo.$Element(this._el).removeClass(this.option("sClassPrefix")+"noscript");return;}
if(sDirection=="horizontal"){this._activateH();return;}
if(sDirection=="vertical"){this._activateV();return;}},_deactivateH:function(){var oSliderH=this.getSliderHorizontal();if(oSliderH){oSliderH.deactivate();this.getContent().style.left="0px";this.getBox().scrollLeft=0;}},_deactivateV:function(){var oSliderV=this.getSliderVertical();if(oSliderV){oSliderV.deactivate();this.getContent().style.top="0px";this.getBox().scrollTop=0;}},_onDeactivate:function(sDirection){this._detachEvent(sDirection||null);this._deactivate4Tablet();if(!sDirection){this._deactivateH();this._deactivateV();jindo.$Element(this._el).addClass(this.option("sClassPrefix")+"noscript");return;}
if(sDirection=="horizontal"){this._deactivateH();return;}
if(sDirection=="vertical"){this._deactivateV();return;}},_initSliders:function(){var self=this,sClassPrefix=this.option("sClassPrefix"),oH=this.getScrollBarHorizontal(),oV=this.getScrollBarVertical();if(oH.elScrollBar){this._nScrollWidth=jindo.$Element(this._elContent).width()-jindo.$Element(this._elBox).width();this._oSliderHorizontal=new jindo.Slider(oH.elTrack,{sClassPrefix:sClassPrefix,bVertical:false,nMinValue:0,nMaxValue:this._nScrollWidth});this._oSliderHorizontal._oTransition=new jindo.Transition().fps(30);this._oSliderHorizontal.attach({beforeChange:function(oCustomEvent){var nTrackWidth=jindo.$Element(this.getTrack()).width(),nThumbWidth=jindo.$Element(this.getThumb(oCustomEvent.nIndex)).width(),nAvailWidth=nTrackWidth-nThumbWidth;oCustomEvent.nPos=Math.min(oCustomEvent.nPos,nAvailWidth);oCustomEvent.nPos=Math.max(oCustomEvent.nPos,0);if(oCustomEvent.bJump){oCustomEvent.stop();this._oTransition.abort().start(200,this.getThumb(oCustomEvent.nIndex),{"@left":jindo.Effect.easeOut(oCustomEvent.nPos+'px')}).attach({playing:function(oCustomEvent2){self.setScrollLeft(self._oSliderHorizontal._getValue(0,parseInt(oCustomEvent2.sValue,10)));}});}else{self.setScrollLeft(this._getValue(0,oCustomEvent.nPos));}}});}
if(oV.elScrollBar){this._nScrollHeight=jindo.$Element(this._elContent).height()-jindo.$Element(this._elBox).height();this._oSliderVertical=new jindo.Slider(oV.elTrack,{sClassPrefix:sClassPrefix,bVertical:true,nMinValue:0,nMaxValue:this._nScrollHeight});this._oSliderVertical._oTransition=new jindo.Transition().fps(30);this._oSliderVertical.attach({beforeChange:function(oCustomEvent){var nTrackHeight=jindo.$Element(this.getTrack()).height(),nThumbHeight=jindo.$Element(this.getThumb(oCustomEvent.nIndex)).height(),nAvailHeight=nTrackHeight-nThumbHeight;oCustomEvent.nPos=Math.min(oCustomEvent.nPos,nAvailHeight);oCustomEvent.nPos=Math.max(oCustomEvent.nPos,0);if(oCustomEvent.bJump){oCustomEvent.stop();this._oTransition.abort().start(200,this.getThumb(oCustomEvent.nIndex),{"@top":jindo.Effect.easeOut(oCustomEvent.nPos+'px')}).attach({playing:function(oCustomEvent2){self.setScrollTop(self._oSliderVertical.values(0));}});}else{self.setScrollTop(this._getValue(0,oCustomEvent.nPos));}}});}},_initRolloverArea:function(){var self=this,sClassPrefix=this.option("sClassPrefix"),sClassNameForRollover=this.option("sClassNameForRollover");this._oRolloverArea=new jindo.RolloverArea(this._el,{sClassName:sClassNameForRollover,sClassPrefix:sClassPrefix}).attach({over:function(oCustomEvent){oCustomEvent.stop();self._onRollover("over",oCustomEvent.element);},down:function(oCustomEvent){oCustomEvent.stop();self._onMouseDown(oCustomEvent.element);self._onRollover("down",oCustomEvent.element);},up:function(oCustomEvent){oCustomEvent.stop();self._onMouseUp(oCustomEvent.element);self._onRollover("up",oCustomEvent.element);},out:function(oCustomEvent){oCustomEvent.stop();self._onRollover("out",oCustomEvent.element);}});},reset:function(){var oSliderH=this.getSliderHorizontal(),oSliderV=this.getSliderVertical();if(oSliderH){this._nScrollWidth=jindo.$Element(this._elContent).width()-jindo.$Element(this._elBox).width();oSliderH.option("nMaxValue",this._nScrollWidth);this.setScrollLeft(0);}
if(oSliderV){this._nScrollHeight=jindo.$Element(this._elContent).height()-jindo.$Element(this._elBox).height();oSliderV.option("nMaxValue",this._nScrollHeight);this.setScrollTop(0);}
this._elBox.scrollLeft=0;this._elBox.scrollTop=0;},hasScrollBarHorizontal:function(){var sClassPrefix=this.option("sClassPrefix"),o=this.getScrollBarHorizontal();if(o.elScrollBar){var welScrollBar=jindo.$Element(o.elScrollBar);return welScrollBar.visible()||welScrollBar.hasClass(sClassPrefix+"show");}
return false;},hasScrollBarVertical:function(){var sClassPrefix=this.option("sClassPrefix"),o=this.getScrollBarVertical();if(o.elScrollBar){var welScrollBar=jindo.$Element(o.elScrollBar);return welScrollBar.visible()||welScrollBar.hasClass(sClassPrefix+"show");}
return false;},setScrollTop:function(n){n=Math.min(n,this._nScrollHeight);n=Math.max(n,0);n=Math.round(n);var htParam={sDirection:"top",nPosition:n};jindo.$Element(this._elContent).css("top",(htParam.nPosition*-1)+"px");var oSliderV=this.getSliderVertical();if(oSliderV){oSliderV.values(0,htParam.nPosition,false);}
this._fireScrollEvent(htParam);},setScrollLeft:function(n){n=Math.min(n,this._nScrollWidth);n=Math.max(n,0);n=Math.round(n);var htParam={sDirection:"left",nPosition:n};jindo.$Element(this._elContent).css("left",(htParam.nPosition*-1)+"px");var oSliderH=this.getSliderHorizontal();if(oSliderH){oSliderH.values(0,htParam.nPosition,false);}
this._fireScrollEvent(htParam);},setScrollTopBy:function(n){this.setScrollTop(this.getScrollTop()+n);},setScrollLeftBy:function(n){this.setScrollLeft(this.getScrollLeft()+n);},getScrollTop:function(n){return parseInt(jindo.$Element(this._elContent).css("top"),10)*-1;},getScrollLeft:function(n){return parseInt(jindo.$Element(this._elContent).css("left"),10)*-1;},_getElementType:function(wel){var sClassPrefix=this.option("sClassPrefix");if(wel.hasClass(sClassPrefix+"track")){return"track";}
else if(wel.hasClass(sClassPrefix+"thumb")){return"thumb";}
else if(wel.hasClass(sClassPrefix+"button-up")){return"button-up";}
else if(wel.hasClass(sClassPrefix+"button-up")){return"button-up";}
else if(wel.hasClass(sClassPrefix+"button-down")){return"button-down";}
else if(wel.hasClass(sClassPrefix+"button-left")){return"button-left";}
else if(wel.hasClass(sClassPrefix+"button-right")){return"button-right";}
else{return false;}},_fireScrollEvent:function(htParam){this.fireEvent("scroll",htParam);},_onWheel:function(we){if(!this._bMouseEnter){return;}
we.stop(jindo.$Event.CANCEL_DEFAULT);var nDelta=we.mouse().delta,nDirection=nDelta/Math.abs(nDelta)*-1,n=Math.ceil(Math.abs(nDelta))*nDirection*this.option("nDelta"),bH=this.hasScrollBarHorizontal(),bV=this.hasScrollBarVertical();if(!bH&&!bV){return;}
if(this.hasScrollBarVertical()&&this._bIsEventAttachedForVertical){this.setScrollTop(this.getScrollTop()+n);return;}
this.setScrollLeft(this.getScrollLeft()+n);},_onMouseDown:function(el){var wel=jindo.$Element(el),self=this,setScrollBy,sElementType=this._getElementType(wel);switch(sElementType){case"button-up":setScrollBy=function(n){self.setScrollTopBy(~~(n*-1));};break;case"button-down":setScrollBy=function(n){self.setScrollTopBy(n);};break;case"button-left":setScrollBy=function(n){self.setScrollLeftBy(~~(n*-1));};break;case"button-right":setScrollBy=function(n){self.setScrollLeftBy(n);};break;default:return;}
this._oTimer.start(function(){setScrollBy(16);return true;},100);},_onMouseUp:function(el){this._oTimer.abort();},_onMouseEnter:function(we){this._bMouseEnter=true;},_onMouseLeave:function(we){this._bMouseEnter=false;},_onRollover:function(sType,el){var wel=jindo.$Element(el),sClassPrefix=this.option("sClassPrefix"),sElementType=this._getElementType(wel);switch(sType){case"over":wel.addClass(sClassPrefix+sElementType+"-over");break;case"down":wel.addClass(sClassPrefix+sElementType+"-hold");break;case"up":wel.removeClass(sClassPrefix+sElementType+"-hold");break;case"out":wel.removeClass(sClassPrefix+sElementType+"-over");break;}},_initialize4Tablet:function(){this._fpOnTouchDragStart=$Fn(function(oEvent){this._oPos4Tablet=oEvent.pos();},this);this._fpOnTouchDragMove=$Fn(function(oEvent){if(!this._oPos4Tablet){return;}
var oOldPos=this._oPos4Tablet;var oNewPos=oEvent.pos();this.setScrollLeftBy(oOldPos.pageX-oNewPos.pageX);this.setScrollTopBy(oOldPos.pageY-oNewPos.pageY);this._oPos4Tablet=oNewPos;oEvent.stopDefault();},this);this._fpOnTouchDragEnd=$Fn(function(oEvent){this._oPos4Tablet=null;},this);},_activate4Tablet:function(){var elEl=this._elContent;jindo.$Element.prototype.preventTapHighlight&&jindo.$Element(this._el).preventTapHighlight(true);this._fpOnTouchDragStart.attach(elEl,'touchstart');this._fpOnTouchDragMove.attach(elEl,'touchmove');this._fpOnTouchDragEnd.attach(elEl,'touchend');},_deactivate4Tablet:function(){var elEl=this._elContent;jindo.$Element.prototype.preventTapHighlight&&jindo.$Element(this._el).preventTapHighlight(false);this._fpOnTouchDragStart.detach(elEl,'touchstart');this._fpOnTouchDragMove.detach(elEl,'touchmove');this._fpOnTouchDragEnd.detach(elEl,'touchend');}}).extend(jindo.UIComponent);jindo.Effect=function(fEffect){if(this instanceof arguments.callee){throw new Error("You can't create a instance of this");}
var rxNumber=/^(\-?[0-9\.]+)(%|px|pt|em)?$/,rxRGB=/^rgb\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+)\)$/i,rxHex=/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,rx3to6=/^#([0-9A-F])([0-9A-F])([0-9A-F])$/i;var getUnitAndValue=function(v){var nValue=v,sUnit;if(rxNumber.test(v)){nValue=parseFloat(v);sUnit=RegExp.$2||"";}else if(rxRGB.test(v)){nValue=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)];sUnit='color';}else if(rxHex.test(v=v.replace(rx3to6,'#$1$1$2$2$3$3'))){nValue=[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16)];sUnit='color';}
return{nValue:nValue,sUnit:sUnit};};return function(nStart,nEnd){var sUnit;if(arguments.length>1){nStart=getUnitAndValue(nStart);nEnd=getUnitAndValue(nEnd);sUnit=nEnd.sUnit;}else{nEnd=getUnitAndValue(nStart);nStart=null;sUnit=nEnd.sUnit;}
if(nStart&&nEnd&&nStart.sUnit!=nEnd.sUnit){throw new Error('unit error');}
nStart=nStart&&nStart.nValue;nEnd=nEnd&&nEnd.nValue;var fReturn=function(p){var nValue=fEffect(p),getResult=function(s,d){return(d-s)*nValue+s+sUnit;};if(sUnit=='color'){var r=Math.max(0,Math.min(255,parseInt(getResult(nStart[0],nEnd[0]),10)))<<16;r|=Math.max(0,Math.min(255,parseInt(getResult(nStart[1],nEnd[1]),10)))<<8;r|=Math.max(0,Math.min(255,parseInt(getResult(nStart[2],nEnd[2]),10)));r=r.toString(16).toUpperCase();for(var i=0;6-r.length;i++){r='0'+r;}
return'#'+r;}
return getResult(nStart,nEnd);};if(nStart===null){fReturn.setStart=function(s){s=getUnitAndValue(s);if(s.sUnit!=sUnit){throw new Error('unit eror');}
nStart=s.nValue;};}
return fReturn;};};jindo.Effect.linear=jindo.Effect(function(s){return s;});jindo.Effect.easeInSine=jindo.Effect(function(s){return(s==1)?1:-Math.cos(s*(Math.PI/2))+1;});jindo.Effect.easeOutSine=jindo.Effect(function(s){return Math.sin(s*(Math.PI/2));});jindo.Effect.easeInOutSine=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInSine(0,1)(2*s)*0.5:jindo.Effect.easeOutSine(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInSine=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOutSine(0,1)(2*s)*0.5:jindo.Effect.easeInSine(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInQuad=jindo.Effect(function(s){return s*s;});jindo.Effect.easeOutQuad=jindo.Effect(function(s){return-(s*(s-2));});jindo.Effect.easeInOutQuad=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInQuad(0,1)(2*s)*0.5:jindo.Effect.easeOutQuad(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInQuad=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOutQuad(0,1)(2*s)*0.5:jindo.Effect.easeInQuad(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInCubic=jindo.Effect(function(s){return Math.pow(s,3);});jindo.Effect.easeOutCubic=jindo.Effect(function(s){return Math.pow((s-1),3)+1;});jindo.Effect.easeInOutCubic=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeIn(0,1)(2*s)*0.5:jindo.Effect.easeOut(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInCubic=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOut(0,1)(2*s)*0.5:jindo.Effect.easeIn(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInQuart=jindo.Effect(function(s){return Math.pow(s,4);});jindo.Effect.easeOutQuart=jindo.Effect(function(s){return-(Math.pow(s-1,4)-1);});jindo.Effect.easeInOutQuart=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInQuart(0,1)(2*s)*0.5:jindo.Effect.easeOutQuart(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInQuart=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOutQuart(0,1)(2*s)*0.5:jindo.Effect.easeInQuart(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInQuint=jindo.Effect(function(s){return Math.pow(s,5);});jindo.Effect.easeOutQuint=jindo.Effect(function(s){return Math.pow(s-1,5)+1;});jindo.Effect.easeInOutQuint=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInQuint(0,1)(2*s)*0.5:jindo.Effect.easeOutQuint(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInQuint=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOutQuint(0,1)(2*s)*0.5:jindo.Effect.easeInQuint(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInCircle=jindo.Effect(function(s){return-(Math.sqrt(1-(s*s))-1);});jindo.Effect.easeOutCircle=jindo.Effect(function(s){return Math.sqrt(1-(s-1)*(s-1));});jindo.Effect.easeInOutCircle=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInCircle(0,1)(2*s)*0.5:jindo.Effect.easeOutCircle(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInCircle=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOutCircle(0,1)(2*s)*0.5:jindo.Effect.easeInCircle(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInBack=jindo.Effect(function(s){var n=1.70158;return(s==1)?1:(s/1)*(s/1)*((1+n)*s-n);});jindo.Effect.easeOutBack=jindo.Effect(function(s){var n=1.70158;return(s===0)?0:(s=s/1-1)*s*((n+1)*s+n)+1;});jindo.Effect.easeInOutBack=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInBack(0,1)(2*s)*0.5:jindo.Effect.easeOutBack(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInElastic=jindo.Effect(function(s){var p=0,a=0,n;if(s===0){return 0;}
if((s/=1)==1){return 1;}
if(!p){p=0.3;}
if(!a||a<1){a=1;n=p/4;}else{n=p/(2*Math.PI)*Math.asin(1/a);}
return-(a*Math.pow(2,10*(s-=1))*Math.sin((s-1)*(2*Math.PI)/p));});jindo.Effect.easeOutElastic=jindo.Effect(function(s){var p=0,a=0,n;if(s===0){return 0;}
if((s/=1)==1){return 1;}
if(!p){p=0.3;}
if(!a||a<1){a=1;n=p/4;}else{n=p/(2*Math.PI)*Math.asin(1/a);}
return(a*Math.pow(2,-10*s)*Math.sin((s-n)*(2*Math.PI)/p)+1);});jindo.Effect.easeInOutElastic=jindo.Effect(function(s){var p=0,a=0,n;if(s===0){return 0;}
if((s/=1/2)==2){return 1;}
if(!p){p=(0.3*1.5);}
if(!a||a<1){a=1;n=p/4;}else{n=p/(2*Math.PI)*Math.asin(1/a);}
if(s<1){return-0.5*(a*Math.pow(2,10*(s-=1))*Math.sin((s-n)*(2*Math.PI)/p));}
return a*Math.pow(2,-10*(s-=1))*Math.sin((s-n)*(2*Math.PI)/p)*0.5+1;});jindo.Effect.easeOutBounce=jindo.Effect(function(s){if(s<(1/2.75)){return(7.5625*s*s);}else if(s<(2/2.75)){return(7.5625*(s-=(1.5/2.75))*s+0.75);}else if(s<(2.5/2.75)){return(7.5625*(s-=(2.25/2.75))*s+0.9375);}else{return(7.5625*(s-=(2.625/2.75))*s+0.984375);}});jindo.Effect.easeInBounce=jindo.Effect(function(s){return 1-jindo.Effect.easeOutBounce(0,1)(1-s);});jindo.Effect.easeInOutBounce=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInBounce(0,1)(2*s)*0.5:jindo.Effect.easeOutBounce(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeInExpo=jindo.Effect(function(s){return(s===0)?0:Math.pow(2,10*(s-1));});jindo.Effect.easeOutExpo=jindo.Effect(function(s){return(s==1)?1:-Math.pow(2,-10*s/1)+1;});jindo.Effect.easeInOutExpo=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeInExpo(0,1)(2*s)*0.5:jindo.Effect.easeOutExpo(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect.easeOutInExpo=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.easeOutExpo(0,1)(2*s)*0.5:jindo.Effect.easeInExpo(0,1)((2*s)-1)*0.5+0.5;});jindo.Effect._cubicBezier=function(x1,y1,x2,y2){return function(t){var cx=3.0*x1,bx=3.0*(x2-x1)-cx,ax=1.0-cx-bx,cy=3.0*y1,by=3.0*(y2-y1)-cy,ay=1.0-cy-by;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t;}
function sampleCurveY(t){return((ay*t+by)*t+cy)*t;}
function sampleCurveDerivativeX(t){return(3.0*ax*t+2.0*bx)*t+cx;}
function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(Math.abs(x2)<epsilon){return t2;}
d2=sampleCurveDerivativeX(t2);if(Math.abs(d2)<1e-6){break;}
t2=t2-x2/d2;}
t0=0.0;t1=1.0;t2=x;if(t2<t0){return t0;}
if(t2>t1){return t1;}
while(t0<t1){x2=sampleCurveX(t2);if(Math.abs(x2-x)<epsilon){return t2;}
if(x>x2){t0=t2;}else{t1=t2;}
t2=(t1-t0)*0.5+t0;}
return t2;}
return sampleCurveY(solveCurveX(t,1/200));};};jindo.Effect.cubicBezier=function(x1,y1,x2,y2){return jindo.Effect(jindo.Effect._cubicBezier(x1,y1,x2,y2));};jindo.Effect.cubicEase=jindo.Effect.cubicBezier(0.25,0.1,0.25,1);jindo.Effect.cubicEaseIn=jindo.Effect.cubicBezier(0.42,0,1,1);jindo.Effect.cubicEaseOut=jindo.Effect.cubicBezier(0,0,0.58,1);jindo.Effect.cubicEaseInOut=jindo.Effect.cubicBezier(0.42,0,0.58,1);jindo.Effect.cubicEaseOutIn=jindo.Effect.cubicBezier(0,0.42,1,0.58);jindo.Effect.overphase=jindo.Effect(function(s){s/=0.652785;return(Math.sqrt((2-s)*s)+(0.1*s)).toFixed(5);});jindo.Effect.sinusoidal=jindo.Effect(function(s){return(-Math.cos(s*Math.PI)/2)+0.5;});jindo.Effect.mirror=jindo.Effect(function(s){return(s<0.5)?jindo.Effect.sinusoidal(0,1)(s*2):jindo.Effect.sinusoidal(0,1)(1-(s-0.5)*2);});jindo.Effect.pulse=function(nPulse){return jindo.Effect(function(s){return(-Math.cos((s*(nPulse-0.5)*2)*Math.PI)/2)+0.5;});};jindo.Effect.wave=function(nPeriod,nHeight){return jindo.Effect(function(s){return(nHeight||1)*(Math.sin(nPeriod*(s*360)*Math.PI/180)).toFixed(5);});};jindo.Effect.easeIn=jindo.Effect.easeInCubic;jindo.Effect.easeOut=jindo.Effect.easeOutCubic;jindo.Effect.easeInOut=jindo.Effect.easeInOutCubic;jindo.Effect.easeOutIn=jindo.Effect.easeOutInCubic;jindo.Effect.bounce=jindo.Effect.easeOutBounce;jindo.Effect.elastic=jindo.Effect.easeInElastic;jindo.Timer=jindo.$Class({$init:function(){this._nTimer=null;this._nLatest=null;this._nRemained=0;this._nDelay=null;this._fRun=null;this._bIsRunning=false;},start:function(fRun,nDelay){this.abort();this._nRemained=0;this._nDelay=nDelay;this._fRun=fRun;this._bIsRunning=true;this._nLatest=this._getTime();this.fireEvent('wait');this._excute(this._nDelay,false);return true;},isRunning:function(){return this._bIsRunning;},_getTime:function(){return new Date().getTime();},_clearTimer:function(){var bFlag=false;if(this._nTimer){clearInterval(this._nTimer);this._bIsRunning=false;bFlag=true;}
this._nTimer=null;return bFlag;},abort:function(){var bReturn=this._clearTimer();if(bReturn){this.fireEvent('abort');this._fRun=null;}
return bReturn;},pause:function(){var nPassed=this._getTime()-this._nLatest;this._nRemained=Math.max(this._nDelay-nPassed,0);return this._clearTimer();},_excute:function(nDelay,bResetDelay){var self=this;this._clearTimer();this._bIsRunning=true;this._nTimer=setInterval(function(){if(self._nTimer){self.fireEvent('run');var r=self._fRun();self._nLatest=self._getTime();if(!r){clearInterval(self._nTimer);self._nTimer=null;self._bIsRunning=false;self.fireEvent('end');return;}
self.fireEvent('wait');if(bResetDelay){self._excute(self._nDelay,false);}}},nDelay);},resume:function(){if(!this._fRun||this.isRunning()){return false;}
this._bIsRunning=true;this.fireEvent('wait');this._excute(this._nRemained,true);this._nRemained=0;return true;}}).extend(jindo.Component);jindo.Slider=jindo.$Class({_elTrack:null,_aThumbs:null,_aPoses:null,_htSwap:null,$init:function(el,oOptions){this.option({sClassPrefix:'slider-',bVertical:false,bJump:true,bDragOnTrack:true,fAdjustValue:null,nMinValue:0,nMaxValue:1,bActivateOnload:true});this.option(oOptions||{});if(!this.option('bVertical')){this._htSwap={y:'nY',x:'nX',clientX:'clientX',pageX:'pageX',offsetWidth:'offsetWidth',left:'left'};}else{this._htSwap={y:'nX',x:'nY',clientX:'clientY',pageX:'pageY',offsetWidth:'offsetHeight',left:'top'};}
this._elTrack=jindo.$(el);this._aThumbs=jindo.$$('.'+this.option('sClassPrefix')+'thumb',this._elTrack);this._sRand='S'+parseInt(Math.random()*100000000,10);jindo.$ElementList(this._aThumbs).addClass(this._sRand);this._aPoses=this.positions();this._onTrackMouseDownFn=jindo.$Fn(this._onTrackMouseDown,this);this._initDragArea();if(this.option("bActivateOnload")){this.activate();}},getTrack:function(){return this._elTrack;},getThumb:function(nIndex){return this._aThumbs[nIndex];},_initDragArea:function(){var self=this;var htSwap=this._htSwap;this._oDragArea=new jindo.DragArea(this._elTrack,{sClassName:this._sRand,bFlowOut:false}).attach({beforeDrag:function(oCustomEvent){var nIndex=self._getThumbIndex(oCustomEvent.elHandle);var htParam={nIndex:nIndex,nPos:oCustomEvent[htSwap.x],bJump:false};if(!self.fireEvent('beforeChange',htParam)){oCustomEvent.stop();return false;}
oCustomEvent[htSwap.x]=self._getAdjustedPos(nIndex,htParam.nPos);oCustomEvent[htSwap.y]=null;},drag:function(oCustomEvent){var nIndex=self._getThumbIndex(oCustomEvent.elHandle);var nPos=oCustomEvent[htSwap.x];if(nPos!=self._aPoses[nIndex]){self._aPoses[nIndex]=nPos;self._fireChangeEvent(nIndex);}}});},getDragArea:function(){return this._oDragArea;},_fireChangeEvent:function(nIndex){var nPos=this._getPosition(nIndex);this.fireEvent('change',{nIndex:nIndex,nPos:nPos,nValue:this._getValue(nIndex,nPos)});},_onActivate:function(){this.getDragArea().activate();jindo.$Element.prototype.preventTapHighlight&&jindo.$Element(this._elTrack).preventTapHighlight(true);this._onTrackMouseDownFn.attach(this._elTrack,'mousedown');},_onDeactivate:function(){this.getDragArea().deactivate();jindo.$Element.prototype.preventTapHighlight&&jindo.$Element(this._elTrack).preventTapHighlight(false);this._onTrackMouseDownFn.detach(this._elTrack,'mousedown');},_onTrackMouseDown:function(we){if(!this.option('bJump')){return;}
we.stop(jindo.$Event.CANCEL_DEFAULT);var nIndex=0;var htSwap=this._htSwap;var el=we.element;var sClass='.'+this.option('sClassPrefix')+'thumb';var bThumb=jindo.$$.test(el,sClass)||jindo.$$.getSingle('! '+sClass,el);if(bThumb){return;}
var nPos=we.pos()[htSwap.pageX];nPos-=jindo.$Element(this._elTrack).offset()[htSwap.left];var nMaxDistance=9999999;for(var i=0,oThumb;(oThumb=this._aThumbs[i]);i++){var nThumbPos=parseInt(jindo.$Element(oThumb).css(htSwap.left),10)||0;nThumbPos+=parseInt(oThumb[htSwap.offsetWidth]/2,10);var nDistance=Math.abs(nPos-nThumbPos);if(nDistance<nMaxDistance){nMaxDistance=nDistance;nIndex=i;}}
nPos-=parseInt(this._aThumbs[nIndex][htSwap.offsetWidth]/2,10);this.positions(nIndex,nPos);if(this.option("bDragOnTrack")){this.getDragArea().startDragging(this._aThumbs[nIndex]);}},_getTrackInfo:function(nIndex){var htSwap=this._htSwap;var oThumb=this._aThumbs[nIndex];var nThumbSize=oThumb[htSwap.offsetWidth];var nTrackSize=this._elTrack[htSwap.offsetWidth];var nMaxPos=nTrackSize-nThumbSize;var nMax=this.option('nMaxValue');var nMin=this.option('nMinValue');return{maxPos:nMaxPos,max:nMax,min:nMin};},_getValue:function(nIndex,nPos){if(typeof nPos=='undefined'){nPos=this._getPosition(nIndex);}
var oInfo=this._getTrackInfo(nIndex);var nValue=Math.min(Math.max(nPos*(oInfo.max-oInfo.min)/oInfo.maxPos+oInfo.min,oInfo.min),oInfo.max);var fAdjust=this.option('fAdjustValue');if(fAdjust){nValue=fAdjust.call(this,nValue);}
return nValue;},_getAdjustedPos:function(nIndex,nPos){var nAdjustedPos=nPos;var oInfo=this._getTrackInfo(nIndex);var fAdjust=this.option('fAdjustValue');if(fAdjust){var nValue=Math.min(Math.max(nAdjustedPos*(oInfo.max-oInfo.min)/oInfo.maxPos+oInfo.min,oInfo.min),oInfo.max);var nAfterValue=fAdjust.call(this,nValue);if(nValue!=nAfterValue){nAdjustedPos=oInfo.maxPos*(nAfterValue-oInfo.min)/(oInfo.max-oInfo.min);}}
nAdjustedPos=Math.max(nAdjustedPos,0);nAdjustedPos=Math.min(nAdjustedPos,oInfo.maxPos);return nAdjustedPos;},_getThumbIndex:function(oThumb){for(var i=0,len=this._aThumbs.length;i<len;i++){if(this._aThumbs[i]==oThumb){return i;}}
return-1;},_getPosition:function(nIndex){var sPos=jindo.$Element(this._aThumbs[nIndex]).css(this._htSwap.left);return(sPos=="auto")?0:parseInt(sPos,10);},_setPosition:function(nIndex,nPos){this._aPoses[nIndex]=nPos;jindo.$Element(this._aThumbs[nIndex]).css(this._htSwap.left,nPos+'px');},positions:function(nIndex,nPos,bFireEvent){if(typeof bFireEvent=="undefined"){bFireEvent=true;}
switch(arguments.length){case 0:var aPoses=[];jindo.$A(this._aThumbs).forEach(function(el,i){aPoses[i]=this._getPosition(i);},this);return aPoses;case 1:return this._getPosition(nIndex);default:if(bFireEvent){var htParam={nIndex:nIndex,nPos:nPos,bJump:true};if(this.fireEvent('beforeChange',htParam)){var nAfterPos=this._getAdjustedPos(nIndex,htParam.nPos);var bChanged=(nAfterPos!=this._aPoses[nIndex]);this._setPosition(nIndex,nAfterPos);if(bChanged){this._fireChangeEvent(nIndex);}}
return this;}
this._setPosition(nIndex,this._getAdjustedPos(nIndex,nPos));return this;}},values:function(nIndex,nValue,bFireEvent){if(typeof bFireEvent=="undefined"){bFireEvent=true;}
switch(arguments.length){case 0:var aValues=[];for(var i=0,len=this._aThumbs.length;i<len;i++){aValues[i]=this._getValue(i);}
return aValues;case 1:return this._getValue(nIndex,this.positions(nIndex));default:var oInfo=this._getTrackInfo(nIndex);this.positions(nIndex,(nValue-oInfo.min)*oInfo.maxPos/(oInfo.max-oInfo.min),bFireEvent);return this;}}}).extend(jindo.UIComponent);jindo.RolloverArea=jindo.$Class({$init:function(el,htOption){this.option({sClassName:"rollover",sClassPrefix:"rollover-",bCheckMouseDown:true,bActivateOnload:true,htStatus:{sOver:"over",sDown:"down"}});this.option(htOption||{});this._elArea=jindo.$(el);this._aOveredElements=[];this._aDownedElements=[];this._wfMouseOver=jindo.$Fn(this._onMouseOver,this);this._wfMouseOut=jindo.$Fn(this._onMouseOut,this);this._wfMouseDown=jindo.$Fn(this._onMouseDown,this);this._wfMouseUp=jindo.$Fn(this._onMouseUp,this);if(this.option("bActivateOnload")){this.activate();}},_addOvered:function(el){this._aOveredElements.push(el);},_removeOvered:function(el){this._aOveredElements.splice(jindo.$A(this._aOveredElements).indexOf(el),1);},_addStatus:function(el,sStatus){jindo.$Element(el).addClass(this.option('sClassPrefix')+sStatus);},_removeStatus:function(el,sStatus){jindo.$Element(el).removeClass(this.option('sClassPrefix')+sStatus);},_isInnerElement:function(elParent,elChild){return elParent===elChild?true:jindo.$Element(elParent).isParentOf(elChild);},_onActivate:function(){jindo.$Element.prototype.preventTapHighlight&&jindo.$Element(this._elArea).preventTapHighlight(true);this._wfMouseOver.attach(this._elArea,'mouseover');this._wfMouseOut.attach(this._elArea,'mouseout');if(this.option("bCheckMouseDown")){this._wfMouseDown.attach(this._elArea,'mousedown');this._wfMouseUp.attach(document,'mouseup');}},_onDeactivate:function(){jindo.$Element.prototype.preventTapHighlight&&jindo.$Element(this._elArea).preventTapHighlight(false);this._wfMouseOver.detach(this._elArea,'mouseover');this._wfMouseOut.detach(this._elArea,'mouseout');this._wfMouseDown.detach(this._elArea,'mousedown');this._wfMouseUp.detach(document,'mouseup');this._aOveredElements.length=0;this._aDownedElements.length=0;},_findRollover:function(el){var sClassName=this.option('sClassName');return jindo.$$.test(el,'.'+sClassName)?el:jindo.$$.getSingle('! .'+sClassName,el);},_onMouseOver:function(we){var el=we.element,elRelated=we.relatedElement,htParam;for(;(el=this._findRollover(el));el=el.parentNode){if(elRelated&&this._isInnerElement(el,elRelated)){continue;}
this._addOvered(el);htParam={element:el,htStatus:this.option("htStatus"),weEvent:we};if(this.fireEvent('over',htParam)){this._addStatus(htParam.element,htParam.htStatus.sOver);}}},_onMouseOut:function(we){var el=we.element,elRelated=we.relatedElement,htParam;for(;(el=this._findRollover(el));el=el.parentNode){if(elRelated&&this._isInnerElement(el,elRelated)){continue;}
this._removeOvered(el);htParam={element:el,htStatus:this.option("htStatus"),weEvent:we};if(this.fireEvent('out',htParam)){this._removeStatus(htParam.element,htParam.htStatus.sOver);}}},_onMouseDown:function(we){var el=we.element,htParam;while((el=this._findRollover(el))){htParam={element:el,htStatus:this.option("htStatus"),weEvent:we};this._aDownedElements.push(el);if(this.fireEvent('down',htParam)){this._addStatus(htParam.element,htParam.htStatus.sDown);}
el=el.parentNode;}},_onMouseUp:function(we){var el=we.element,aTargetElementDatas=[],aDownedElements=this._aDownedElements,htParam,elMouseDown,i;for(i=0;(elMouseDown=aDownedElements[i]);i++){aTargetElementDatas.push({element:elMouseDown,htStatus:this.option("htStatus"),weEvent:we});}
for(;(el=this._findRollover(el));el=el.parentNode){if(jindo.$A(aDownedElements).indexOf(el)>-1){continue;}
aTargetElementDatas.push({element:el,htStatus:this.option("htStatus"),weEvent:we});}
for(i=0;(htParam=aTargetElementDatas[i]);i++){if(this.fireEvent('up',htParam)){this._removeStatus(htParam.element,htParam.htStatus.sDown);}}
this._aDownedElements=[];}}).extend(jindo.UIComponent);jindo.Transition=jindo.$Class({_nFPS:30,_aTaskQueue:null,_oTimer:null,_bIsWaiting:true,_bIsPlaying:false,$init:function(htOption){this._aTaskQueue=[];this._oTimer=new jindo.Timer();this._oSleepTimer=new jindo.Timer();this.option({fEffect:jindo.Effect.linear,bCorrection:false});this.option(htOption||{});},fps:function(nFPS){if(arguments.length>0){this._nFPS=nFPS;return this;}
return this._nFPS;},isPlaying:function(){return this._bIsPlaying;},abort:function(){this._aTaskQueue=[];this._oTimer.abort();this._oSleepTimer.abort();if(this._bIsPlaying){this.fireEvent("abort");}
this._bIsWaiting=true;this._bIsPlaying=false;this._htTaskToDo=null;return this;},start:function(nDuration,elTarget,htInfo){if(arguments.length>0){this.queue.apply(this,arguments);}
this._prepareNextTask();return this;},queue:function(nDuration,aCommand){var htTask;if(typeof arguments[0]=='function'){htTask={sType:"function",fTask:arguments[0]};}else{var a=[];if(arguments[1]instanceof Array){a=arguments[1];}else{var aInner=[];jindo.$A(arguments).forEach(function(v,i){if(i>0){aInner.push(v);if(i%2===0){a.push(aInner.concat());aInner=[];}}});}
htTask={sType:"task",nDuration:nDuration,aList:[]};for(var i=0,nLen=a.length;i<nLen;i++){var aValue=[],htArg=a[i][1],sEnd;for(var sKey in htArg){sEnd=htArg[sKey];if(/^(@|style\.)(\w+)/i.test(sKey)){aValue.push(["style",RegExp.$2,sEnd]);}else{aValue.push(["attr",sKey,sEnd]);}}
htTask.aList.push({elTarget:a[i][0],aValue:aValue});}}
this._queueTask(htTask);return this;},pause:function(){if(this._oTimer.abort()){this.fireEvent("pause");}
return this;},resume:function(){if(this._htTaskToDo){if(this._bIsWaiting===false&&this._bIsPlaying===true){this.fireEvent("resume");}
this._doTask();this._bIsWaiting=false;this._bIsPlaying=true;var self=this;this._oTimer.start(function(){var bEnd=!self._doTask();if(bEnd){self._bIsWaiting=true;setTimeout(function(){self._prepareNextTask();},0);}
return!bEnd;},this._htTaskToDo.nInterval);}
return this;},precede:function(nDuration,elTarget,htInfo){this.start.apply(this,arguments);return this;},sleep:function(nDuration,fCallback){if(typeof fCallback=="undefined"){fCallback=function(){};}
this._queueTask({sType:"sleep",nDuration:nDuration,fCallback:fCallback});this._prepareNextTask();return this;},_queueTask:function(v){this._aTaskQueue.push(v);},_dequeueTask:function(){var htTask=this._aTaskQueue.shift();if(htTask){if(htTask.sType=="task"){var aList=htTask.aList;for(var i=0,nLength=aList.length;i<nLength;i++){var elTarget=aList[i].elTarget,welTarget=jindo.$Element(elTarget);for(var j=0,aValue=aList[i].aValue,nJLen=aValue.length;j<nJLen;j++){var sType=aValue[j][0],sKey=aValue[j][1],fFunc=aValue[j][2];if(typeof fFunc!="function"){var fEffect=this.option("fEffect");if(fFunc instanceof Array){fFunc=fEffect(fFunc[0],fFunc[1]);}else{fFunc=fEffect(fFunc);}
aValue[j][2]=fFunc;}
if(fFunc.setStart){if(this._isHTMLElement(elTarget)){switch(sType){case"style":fFunc.setStart(welTarget.css(sKey));break;case"attr":fFunc.setStart(welTarget.$value()[sKey]);break;}}else{fFunc.setStart(elTarget.getter(sKey));}}}}}
return htTask;}else{return null;}},_prepareNextTask:function(){if(this._bIsWaiting){var htTask=this._dequeueTask();if(htTask){switch(htTask.sType){case"task":if(!this._bIsPlaying){this.fireEvent("start");}
var nInterval=1000/this._nFPS,nGap=nInterval/htTask.nDuration;this._htTaskToDo={aList:htTask.aList,nRatio:0,nInterval:nInterval,nGap:nGap,nStep:0,nTotalStep:Math.ceil(htTask.nDuration/nInterval)};this.resume();break;case"function":if(!this._bIsPlaying){this.fireEvent("start");}
htTask.fTask();this._prepareNextTask();break;case"sleep":if(this._bIsPlaying){this.fireEvent("sleep",{nDuration:htTask.nDuration});htTask.fCallback();}
var self=this;this._oSleepTimer.start(function(){self.fireEvent("awake");self._prepareNextTask();},htTask.nDuration);break;}}else{if(this._bIsPlaying){this._bIsPlaying=false;this.abort();this.fireEvent("end");}}}},_isHTMLElement:function(el){return("tagName"in el);},_doTask:function(){var htTaskToDo=this._htTaskToDo,nRatio=parseFloat(htTaskToDo.nRatio.toFixed(5),1),nStep=htTaskToDo.nStep,nTotalStep=htTaskToDo.nTotalStep,aList=htTaskToDo.aList,htCorrection={},bCorrection=this.option("bCorrection");for(var i=0,nLength=aList.length;i<nLength;i++){var elTarget=aList[i].elTarget,welTarget=jindo.$Element(elTarget);for(var j=0,aValue=aList[i].aValue,nJLen=aValue.length;j<nJLen;j++){var sType=aValue[j][0],sKey=aValue[j][1],sValue=aValue[j][2](nRatio);if(this._isHTMLElement(elTarget)){if(bCorrection){var sUnit=/^\-?[0-9\.]+(%|px|pt|em)?$/.test(sValue)&&RegExp.$1||"";if(sUnit){var nValue=parseFloat(sValue);nValue+=htCorrection[sKey]||0;nValue=parseFloat(nValue.toFixed(5));if(i==nLength-1){sValue=Math.round(nValue)+sUnit;}else{htCorrection[sKey]=nValue-Math.floor(nValue);sValue=parseInt(nValue,10)+sUnit;}}}
switch(sType){case"style":welTarget.css(sKey,sValue);break;case"attr":welTarget.$value()[sKey]=sValue;break;}}else{elTarget.setter(sKey,sValue);}
if(this._bIsPlaying){this.fireEvent("playing",{element:elTarget,sKey:sKey,sValue:sValue,nStep:nStep,nTotalStep:nTotalStep});}}}
htTaskToDo.nRatio=Math.min(htTaskToDo.nRatio+htTaskToDo.nGap,1);htTaskToDo.nStep+=1;return nRatio!=1;}}).extend(jindo.Component);(function(){var b=jindo.$Element.prototype.css;jindo.$Element.prototype.css=function(k,v){if(k=="opacity"){return typeof v!="undefined"?this.opacity(parseFloat(v)):this.opacity();}else{return v!="undefined"?b.call(this,k,v):b.call(this,k);}};})();jindo.DragArea=jindo.$Class({$init:function(el,htOption){this.option({sClassName:'draggable',bFlowOut:true,bSetCapture:true,nThreshold:0});this.option(htOption||{});this._el=el;this._bIE=jindo.$Agent().navigator().ie;this._htDragInfo={"bIsDragging":false,"bPrepared":false,"bHandleDown":false,"bForceDrag":false};this._wfOnMouseDown=jindo.$Fn(this._onMouseDown,this);this._wfOnMouseMove=jindo.$Fn(this._onMouseMove,this);this._wfOnMouseUp=jindo.$Fn(this._onMouseUp,this);this._wfOnDragStart=jindo.$Fn(this._onDragStart,this);this._wfOnSelectStart=jindo.$Fn(this._onSelectStart,this);this.activate();},_findDraggableElement:function(el){if(jindo.$$.test(el,"input[type=text], textarea, select")){return null;}
var self=this;var sClass='.'+this.option('sClassName');var isChildOfDragArea=function(el){if(el===null){return false;}
if(self._el===document||self._el===el){return true;}
return jindo.$Element(self._el).isParentOf(el);};var elReturn=jindo.$$.test(el,sClass)?el:jindo.$$.getSingle('! '+sClass,el);if(!isChildOfDragArea(elReturn)){elReturn=null;}
return elReturn;},isDragging:function(){var htDragInfo=this._htDragInfo;return htDragInfo.bIsDragging&&!htDragInfo.bPrepared;},stopDragging:function(){this._stopDragging(true);return this;},_stopDragging:function(bInterupted){this._wfOnMouseMove.detach(document,'mousemove');this._wfOnMouseUp.detach(document,'mouseup');if(this.isDragging()){var htDragInfo=this._htDragInfo,welDrag=jindo.$Element(htDragInfo.elDrag);htDragInfo.bIsDragging=false;htDragInfo.bForceDrag=false;htDragInfo.bPrepared=false;if(this._bIE&&this._elSetCapture){this._elSetCapture.releaseCapture();this._elSetCapture=null;}
this.fireEvent('dragEnd',{"elArea":this._el,"elHandle":htDragInfo.elHandle,"elDrag":htDragInfo.elDrag,"nX":parseInt(welDrag.css("left"),10)||0,"nY":parseInt(welDrag.css("top"),10)||0,"bInterupted":bInterupted});}},_onActivate:function(){this._wfOnMouseDown.attach(this._el,'mousedown');this._wfOnDragStart.attach(this._el,'dragstart');this._wfOnSelectStart.attach(this._el,'selectstart');},_onDeactivate:function(){this._wfOnMouseDown.detach(this._el,'mousedown');this._wfOnDragStart.detach(this._el,'dragstart');this._wfOnSelectStart.detach(this._el,'selectstart');},attachEvent:function(){this.activate();},detachEvent:function(){this.deactivate();},isEventAttached:function(){return this.isActivating();},startDragging:function(el){var elDrag=this._findDraggableElement(el);if(elDrag){this._htDragInfo.bForceDrag=true;this._htDragInfo.bPrepared=true;this._htDragInfo.elHandle=elDrag;this._htDragInfo.elDrag=elDrag;this._wfOnMouseMove.attach(document,'mousemove');this._wfOnMouseUp.attach(document,'mouseup');return true;}
return false;},_onMouseDown:function(we){if(!we.mouse().left||we.mouse().right){this._stopDragging(true);return;}
var el=this._findDraggableElement(we.element);if(el){var oPos=we.pos(),htDragInfo=this._htDragInfo;htDragInfo.bHandleDown=true;htDragInfo.bPrepared=true;htDragInfo.nButton=we._event.button;htDragInfo.elHandle=el;htDragInfo.elDrag=el;htDragInfo.nPageX=oPos.pageX;htDragInfo.nPageY=oPos.pageY;if(this.fireEvent('handleDown',{elHandle:el,elDrag:el,weEvent:we})){this._wfOnMouseMove.attach(document,'mousemove');}
this._wfOnMouseUp.attach(document,'mouseup');we.stop(jindo.$Event.CANCEL_DEFAULT);}},_onMouseMove:function(we){var htDragInfo=this._htDragInfo,htParam,htRect,oPos=we.pos(),htGap={"nX":oPos.pageX-htDragInfo.nPageX,"nY":oPos.pageY-htDragInfo.nPageY};if(htDragInfo.bPrepared){var nThreshold=this.option('nThreshold'),htDiff={};if(!htDragInfo.bForceDrag&&nThreshold){htDiff.nPageX=oPos.pageX-htDragInfo.nPageX;htDiff.nPageY=oPos.pageY-htDragInfo.nPageY;var nDistance=Math.sqrt(htDiff.nPageX*htDiff.nPageX+htDiff.nPageY*htDiff.nPageY);if(nThreshold>nDistance){return;}}
if(this._bIE&&this.option("bSetCapture")){this._elSetCapture=(this._el===document)?document.body:this._findDraggableElement(we.element);if(this._elSetCapture){this._elSetCapture.setCapture(false);}}
htParam={elArea:this._el,elHandle:htDragInfo.elHandle,elDrag:htDragInfo.elDrag,htDiff:htDiff,weEvent:we};htDragInfo.bIsDragging=true;htDragInfo.bPrepared=false;if(this.fireEvent('dragStart',htParam)){var welDrag=jindo.$Element(htParam.elDrag),htOffset=welDrag.offset();htDragInfo.elHandle=htParam.elHandle;htDragInfo.elDrag=htParam.elDrag;htDragInfo.nX=parseInt(welDrag.css('left'),10)||0;htDragInfo.nY=parseInt(welDrag.css('top'),10)||0;htDragInfo.nClientX=htOffset.left+welDrag.width()/2;htDragInfo.nClientY=htOffset.top+welDrag.height()/2;}else{htDragInfo.bPrepared=true;return;}}
if(htDragInfo.bForceDrag){htGap.nX=oPos.clientX-htDragInfo.nClientX;htGap.nY=oPos.clientY-htDragInfo.nClientY;}
htParam={"elArea":this._el,"elFlowOut":htDragInfo.elDrag.parentNode,"elHandle":htDragInfo.elHandle,"elDrag":htDragInfo.elDrag,"weEvent":we,"nX":htDragInfo.nX+htGap.nX,"nY":htDragInfo.nY+htGap.nY,"nGapX":htGap.nX,"nGapY":htGap.nY};if(this.fireEvent('beforeDrag',htParam)){var elDrag=htDragInfo.elDrag;if(this.option('bFlowOut')===false){var elParent=htParam.elFlowOut,aSize=[elDrag.offsetWidth,elDrag.offsetHeight],nScrollLeft=0,nScrollTop=0;if(elParent==document.body){elParent=null;}
if(elParent&&aSize[0]<=elParent.scrollWidth&&aSize[1]<=elParent.scrollHeight){htRect={nWidth:elParent.clientWidth,nHeight:elParent.clientHeight};nScrollLeft=elParent.scrollLeft;nScrollTop=elParent.scrollTop;}else{var htClientSize=jindo.$Document().clientSize();htRect={nWidth:htClientSize.width,nHeight:htClientSize.height};}
if(htParam.nX!==null){htParam.nX=Math.max(htParam.nX,nScrollLeft);htParam.nX=Math.min(htParam.nX,htRect.nWidth-aSize[0]+nScrollLeft);}
if(htParam.nY!==null){htParam.nY=Math.max(htParam.nY,nScrollTop);htParam.nY=Math.min(htParam.nY,htRect.nHeight-aSize[1]+nScrollTop);}}
if(htParam.nX!==null){elDrag.style.left=htParam.nX+'px';}
if(htParam.nY!==null){elDrag.style.top=htParam.nY+'px';}
this.fireEvent('drag',htParam);}else{htDragInfo.bIsDragging=false;}},_onMouseUp:function(we){this._stopDragging(false);var htDragInfo=this._htDragInfo;htDragInfo.bHandleDown=false;this.fireEvent("handleUp",{weEvent:we,elHandle:htDragInfo.elHandle,elDrag:htDragInfo.elDrag});},_onDragStart:function(we){if(this._findDraggableElement(we.element)){we.stop(jindo.$Event.CANCEL_DEFAULT);}},_onSelectStart:function(we){if(this.isDragging()||this._findDraggableElement(we.element)){we.stop(jindo.$Event.CANCEL_DEFAULT);}}}).extend(jindo.UIComponent);jindo.LayerManager=jindo.$Class({_bIsActivating:false,_bIsHiding:false,_bIsShowing:false,_aLink:null,$init:function(el,htOption){this.option({sCheckEvent:"click",nCheckDelay:100,nShowDelay:0,nHideDelay:100});this.option(htOption||{});this.setLayer(el);this._aLink=[];this._oShowTimer=new jindo.Timer();this._oHideTimer=new jindo.Timer();this._oEventTimer=new jindo.Timer();this._wfOnEvent=jindo.$Fn(this._onEvent,this);this.getVisible();this.activate();},_onActivate:function(){this._wfOnEvent.attach(document,this.option("sCheckEvent"));},_onDeactivate:function(){this._wfOnEvent.detach(document,this.option("sCheckEvent"));},getVisible:function(){return this._wel.visible();},_check:function(el){var wel=jindo.$Element(el);for(var i=0,elLink,welLink;(elLink=this._aLink[i]);i++){welLink=jindo.$Element(elLink);if(welLink){elLink=welLink.$value();if(elLink&&(el==elLink||wel.isChildOf(elLink))){return true;}}}
return false;},_find:function(el){for(var i=0,elLink;(elLink=this._aLink[i]);i++){if(elLink==el){return i;}}
return-1;},getLayer:function(){return this._el;},setLayer:function(el){this._el=jindo.$(el);this._wel=jindo.$Element(el);return this;},getLinks:function(){return this._aLink;},setLinks:function(a){this._aLink=jindo.$A(a).unique().$value();return this;},link:function(vElement){if(arguments.length>1){for(var i=0,len=arguments.length;i<len;i++){this.link(arguments[i]);}
return this;}
if(this._find(vElement)!=-1){return this;}
this._aLink.push(vElement);return this;},unlink:function(vElement){if(arguments.length>1){for(var i=0,len=arguments.length;i<len;i++){this.unlink(arguments[i]);}
return this;}
var nIndex=this._find(vElement);if(nIndex>-1){this._aLink.splice(nIndex,1);}
return this;},_fireEventBeforeShow:function(){return this.fireEvent("beforeShow",{elLayer:this.getLayer(),aLinkedElement:this.getLinks()});},_fireEventShow:function(){this._bIsShowing=false;this.fireEvent("show",{elLayer:this.getLayer(),aLinkedElement:this.getLinks()});},_fireEventBeforeHide:function(){return this.fireEvent("beforeHide",{elLayer:this.getLayer(),aLinkedElement:this.getLinks()});},_fireEventHide:function(){this._bIsHiding=false;this.fireEvent("hide",{elLayer:this.getLayer(),aLinkedElement:this.getLinks()});},_show:function(fShow,nDelay){this._oEventTimer.abort();this._bIsShowing=true;this._bIsHiding=false;if(nDelay>0){this._oShowTimer.start(fShow,nDelay);}else{this._oHideTimer.abort();fShow();}},_hide:function(fHide,nDelay){this._bIsShowing=false;this._bIsHiding=true;if(nDelay>0){this._oHideTimer.start(fHide,nDelay);}else{this._oShowTimer.abort();fHide();}},show:function(nDelay){if(typeof nDelay=="undefined"){nDelay=this.option("nShowDelay");}
var self=this;this._show(function(){if(!self.getVisible()){if(self._fireEventBeforeShow()){self._wel.show();self._fireEventShow();}}},nDelay);return this;},hide:function(nDelay){if(typeof nDelay=="undefined"){nDelay=this.option("nHideDelay");}
var self=this;this._hide(function(){if(self.getVisible()){if(self._fireEventBeforeHide()){self._wel.hide();self._fireEventHide();}}},nDelay);return this;},toggle:function(nDelay){if(!this.getVisible()||this._bIsHiding){this.show(nDelay||this.option("nShowDelay"));}else{this.hide(nDelay||this.option("nHideDelay"));}
return this;},_onEvent:function(we){var el=we.element,self=this;this._oEventTimer.start(function(){if(!self._bIsHiding&&self.getVisible()){if(self._check(el)){if(!self._bIsShowing){self.fireEvent("ignore",{sCheckEvent:self.option("sCheckEvent")});self._oHideTimer.abort();self._bIsHiding=false;}}else{if(typeof el.tagName!="undefined"){self.hide();}}}},this.option("nCheckDelay"));}}).extend(jindo.UIComponent);jindo.ScrollBox=new jindo.$Class({$init:function(el,htOption){this.option({sClassPrefix:"scrollbar-",bActivateOnload:true,sOverflowX:"auto",sOverflowY:"auto",bAdjustThumbSize:true,nMinThumbSize:50,nDelta:16});this.option(htOption||{});this._el=jindo.$(el);if(this.option("bActivateOnload")){this.activate();this.reset();}},reset:function(){this._autoToggleScrollBar();var oStatusH=this.hasScrollBarHorizontal();var oStatusV=this.hasScrollBarVertical();this._adjustBoxSize();this._adjustContentSize();this._autoToggleScrollBar();if(oStatusH!=this.hasScrollBarHorizontal()||oStatusV!=this.hasScrollBarVertical()){this._adjustBoxSize();this._adjustContentSize();}
this._autoToggleAvailability();this._adjustTrackSize();this._adjustThumbSize();this.$super.reset();},_onActivate:function(){this.$super._onActivate();this.reset();},_onDeactivate:function(){this.$super._onDeactivate();this._adjustBoxSize();},setSize:function(nWidth,nHeight){if(nWidth){jindo.$Element(this._el).css("width",nWidth+"px");}
if(nHeight){jindo.$Element(this._el).css("height",nHeight+"px");}
this.setBoxSize(nWidth,nHeight);this._oBoxSize={nWidth:jindo.$Element(this._elBox).width(),nHeight:jindo.$Element(this._elBox).height()};this.reset();},getContentSize:function(){var welContent=jindo.$Element(this._elContent);return{nWidth:parseInt(welContent.width(),10),nHeight:parseInt(welContent.height(),10)};},setContentSize:function(nWidth,nHeight){var welContent=jindo.$Element(this._elContent);if(nWidth){if(nWidth==Infinity){welContent.css("width","");}
else{welContent.css("width",nWidth+"px");}}
if(nHeight){if(nHeight==Infinity){welContent.css("height","auto");}
else{welContent.css("height",nHeight+"px");}}
this.$super.reset();},getBoxSize:function(){var welBox=jindo.$Element(this._elBox);return{nWidth:parseInt(welBox.width(),10),nHeight:parseInt(welBox.height(),10)};},setBoxSize:function(nWidth,nHeight){var welBox=jindo.$Element(this._elBox);if(nWidth){welBox.css("width",nWidth+"px");}
if(nHeight){welBox.css("height",nHeight+"px");}
this.$super.reset();},getTrackSize:function(ht){if(!ht.elScrollBar){return{nWidth:0,nHeight:0};}
var welTrack=jindo.$Element(ht.elTrack);return{nWidth:parseInt(welTrack.width(),10),nHeight:parseInt(welTrack.height(),10)};},setTrackSize:function(o,nWidth,nHeight){var welTrack=jindo.$Element(o.elTrack);if(nWidth){welTrack.css("width",nWidth+"px");}
if(nHeight){welTrack.css("height",nHeight+"px");}},isNeededScrollBarHorizontal:function(){if(this.option("sOverflowX")=="scroll"){return true;}
var oContentSize=this.getContentSize();var oBoxSize=this.getDefaultBoxSize();if(this.getScrollBarHorizontal().elScrollBar&&this.option("sOverflowX")!="hidden"){if(this.hasScrollBarVertical()){if(oContentSize.nWidth>oBoxSize.nWidth-jindo.$Element(this.getScrollBarVertical().elScrollBar).width()){return true;}}
if(oContentSize.nWidth>oBoxSize.nWidth){return true;}}
return false;},isNeededScrollBarVertical:function(){if(this.option("sOverflowY")=="scroll"){return true;}
var oContentSize=this.getContentSize();var oBoxSize=this.getDefaultBoxSize();if(this.getScrollBarVertical().elScrollBar&&this.option("sOverflowY")!="hidden"){if(this.hasScrollBarHorizontal()){if(oContentSize.nHeight>oBoxSize.nHeight-jindo.$Element(this.getScrollBarHorizontal().elScrollBar).height()){return true;}}
if(oContentSize.nHeight>oBoxSize.nHeight){return true;}}
return false;},_autoToggleScrollBar:function(){if(!this.isActivating()){return;}
var sClassPrefix=this.option("sClassPrefix");var oH=this.getScrollBarHorizontal();var oV=this.getScrollBarVertical();var welScrollBar;var bAjustThumbSize=this.option("bAdjustThumbSize");var bV=this.isNeededScrollBarVertical();if(oV.elScrollBar){welScrollBar=jindo.$Element(oV.elScrollBar);if(bV){welScrollBar.addClass(sClassPrefix+"show");}else{welScrollBar.removeClass(sClassPrefix+"show");}
if(oV.elThumb&&bAjustThumbSize){jindo.$Element(oV.elThumb).css("height","0px");}}
var bH=this.isNeededScrollBarHorizontal();if(oH.elScrollBar){welScrollBar=jindo.$Element(oH.elScrollBar);if(bH){welScrollBar.addClass(sClassPrefix+"show");}else{welScrollBar.removeClass(sClassPrefix+"show");}
if(oH.elThumb&&bAjustThumbSize){jindo.$Element(oH.elThumb).css("width","0px");}}
if(oV.elScrollBar){welScrollBar=jindo.$Element(oV.elScrollBar);if(this.isNeededScrollBarVertical()){welScrollBar.addClass(sClassPrefix+"show");}else{welScrollBar.removeClass(sClassPrefix+"show");}
if(oV.elThumb&&bAjustThumbSize){jindo.$Element(oV.elThumb).css("height","0px");}}},_adjustTrackSize:function(){if(!this.isActivating()){return;}
var oBoxSize=this.getDefaultBoxSize();var oH=this.getScrollBarHorizontal();var oV=this.getScrollBarVertical();var bH=this.isNeededScrollBarHorizontal();if(bH&&oH.elScrollBar){var nTrackWidth=oBoxSize.nWidth;var wel=jindo.$Element(oH.elScrollBar);wel.css("top",oBoxSize.nHeight-wel.height()+"px");var nVerticalWidth=0;if(this.hasScrollBarVertical()&&oV.elScrollBar){nVerticalWidth=parseInt(jindo.$Element(oV.elScrollBar).width(),10);nTrackWidth-=nVerticalWidth;}
wel.width(nTrackWidth);var nButtonLeftWidth=0;if(oH.elButtonLeft){nButtonLeftWidth=parseInt(jindo.$Element(oH.elButtonLeft).width(),10);nTrackWidth-=nButtonLeftWidth;}
if(oH.elButtonRight){nTrackWidth-=parseInt(jindo.$Element(oH.elButtonRight).width(),10);}
jindo.$Element(oH.elTrack).css("left",nButtonLeftWidth+"px");this.setTrackSize(oH,nTrackWidth,null);}
var bV=this.isNeededScrollBarVertical();if(bV&&oV.elScrollBar){var nTrackHeight=oBoxSize.nHeight;var nHorizontalHeight=0;if(this.hasScrollBarHorizontal()&&oH.elScrollBar){nHorizontalHeight=parseInt(jindo.$Element(oH.elScrollBar).height(),10);nTrackHeight-=nHorizontalHeight;}
if(oV.elButtonUp){nTrackHeight-=parseInt(jindo.$Element(oV.elButtonUp).height(),10);}
if(oV.elButtonDown){nTrackHeight-=parseInt(jindo.$Element(oV.elButtonDown).height(),10);}
this.setTrackSize(oV,null,nTrackHeight);}},_adjustBoxSize:function(){var oBoxSize=this.getDefaultBoxSize();var oH=this.getScrollBarHorizontal();var oV=this.getScrollBarVertical();var bV=this.hasScrollBarVertical();var bH=this.hasScrollBarHorizontal();this.setBoxSize(oBoxSize.nWidth,oBoxSize.nHeight);if(this.isActivating()){if(bH&&oH.elScrollBar){var nHeight=oBoxSize.nHeight;nHeight-=parseInt(jindo.$Element(oH.elScrollBar).height(),10);this.setBoxSize(null,nHeight);}
if(bV&&oV.elScrollBar){var nWidth=oBoxSize.nWidth;nWidth-=parseInt(jindo.$Element(oV.elScrollBar).width(),10);this.setBoxSize(nWidth,null);}}},_adjustContentSize:function(){if(!this.isActivating()){return;}
var oBoxSize=this.getBoxSize();var bV=this.option("sOverflowY")!="hidden";var bH=this.option("sOverflowX")!="hidden";var nWidth,nHeight;if(bV&&!bH){nWidth=oBoxSize.nWidth;}
if(bH&&!bV){nHeight=oBoxSize.nHeight;}
this.setContentSize(nWidth||Infinity,nHeight||Infinity);},_adjustThumbSize:function(){if(!this.isActivating()){return;}
if(!this.option("bAdjustThumbSize")){return;}
var nMinThumbSize=this.option("nMinThumbSize");var oContentSize=this.getContentSize();var oBoxSize=this.getBoxSize();var nGap;var oH=this.getScrollBarHorizontal();var oV=this.getScrollBarVertical();if(oV.elScrollBar){var oTrackSizeV=this.getTrackSize(oV);var nThumbHeight=Math.floor(parseInt(oTrackSizeV.nHeight*oBoxSize.nHeight/oContentSize.nHeight,10));if(nThumbHeight<nMinThumbSize){nThumbHeight=nMinThumbSize;}
if(nThumbHeight>=oTrackSizeV.nHeight){nThumbHeight=oTrackSizeV.nHeight;}
jindo.$Element(oV.elThumb).height(nThumbHeight);nGap=0;if(oV.elThumbHead){nGap+=jindo.$Element(oV.elThumbHead).height();}
if(oV.elThumbFoot){nGap+=jindo.$Element(oV.elThumbFoot).height();}
if(oV.elThumbBody){jindo.$Element(oV.elThumbBody).height(nThumbHeight-nGap);}}
if(oH.elScrollBar){var oTrackSizeH=this.getTrackSize(oH);var nThumbWidth=Math.floor(parseInt(oTrackSizeH.nWidth*oBoxSize.nWidth/oContentSize.nWidth,10));if(nThumbWidth<nMinThumbSize){nThumbWidth=nMinThumbSize;}
if(nThumbWidth>=oTrackSizeH.nWidth){nThumbWidth=oTrackSizeH.nWidth;}
jindo.$Element(oH.elThumb).width(nThumbWidth);nGap=0;if(oH.elThumbHead){nGap+=jindo.$Element(oH.elThumbHead).width();}
if(oH.elThumbFoot){nGap+=jindo.$Element(oH.elThumbFoot).width();}
if(oH.elThumbBody){jindo.$Element(oH.elThumbBody).width(nThumbWidth-nGap);}}},_autoToggleAvailability:function(){var sClassPrefix=this.option("sClassPrefix");var oContentSize=this.getContentSize();var oBoxSize=this.getBoxSize();var oH=this.getScrollBarHorizontal();var oV=this.getScrollBarVertical();if(oH.elScrollBar){if(this.option("sOverflowX")=="scroll"&&oBoxSize.nWidth>=oContentSize.nWidth){jindo.$Element(oH.elScrollBar).addClass(sClassPrefix+"disabled");this.$super._onDeactivate("horizontal");if(this.isActivating()){jindo.$Element(this._el).removeClass(sClassPrefix+"noscript");}}else{jindo.$Element(oH.elScrollBar).removeClass(sClassPrefix+"disabled");if(this.isActivating()){this.$super._onActivate("horizontal");}}}
if(oV.elScrollBar){if(this.option("sOverflowY")=="scroll"&&oBoxSize.nHeight>=oContentSize.nHeight){jindo.$Element(oV.elScrollBar).addClass(sClassPrefix+"disabled");this.$super._onDeactivate("vertical");if(this.isActivating()){jindo.$Element(this._el).removeClass(sClassPrefix+"noscript");}}else{jindo.$Element(oV.elScrollBar).removeClass(sClassPrefix+"disabled");if(this.isActivating()){this.$super._onActivate("vertical");}}}}}).extend(jindo.ScrollBar);