var SocialPlugIn=$Class({_oOption:null,_oElement:null,_oInitializeData:null,_sReactionModuleClassName:null,
_DEFAULT_REACTION_INIT_OPTION:{type:"face",domain:"https://common.like.naver.com",staticDomain:null,dependentLibrary:"jquery",
language:"ko",authType:"nid",cssId:null,moduleClassname:"_reactionModule",iconToggleClassname:["on","off"],
contentCountPerOnceRequest:20,maxCount:9999,faceButtonMaxIconCount:2,isZeroFace:true,isMobile:true,isDuplication:false,
isHiddenIcon:false,isHiddenLabel:false,isHiddenCount:false,isHiddenZeroCount:false,isUsedLabelAsZeroCount:false,
isDebugMode:false,callback:null,clicklog:null},_oActivateInfo:{SOCIAL_PLUGIN:false,LIKE_IT:false,LIKE_REACTION:false},
$init:function(htOption){if(!htOption)return;this._oOption=htOption||{};this._oOption.linkUrl=this._oOption.linkUrl||
location.href;this._oOption.likeItDomain=this._oOption.likeItDomain||"https://common.like.naver.com";
this._oOption.socialPlugInDomain=this._oOption.socialPlugInDomain||"https://ssl.pstatic.net/spi";this._setElement();
if(this._oElement["socialPlugInButton"]){this._setInitializeData();if(typeof window.initializeSocialPlugin===
"undefined")window.initializeSocialPlugin=$Fn(this._getInitializeData,this).bind()}this._oOption.sScriptVersion=
nhn.Kin.getScriptVersionOfToday();if(document.readyState===undefined||document.readyState==="complete")this._initializeOnLoad();
else $Fn(this._initializeOnLoad,this).attach(window,"load")},
_setElement:function(){this._oElement={};this._oElement["likeItButton"]=$("likeItButton");this._oElement["likeReactionModule"]=
$$("div._reactionModule");this._oElement["socialPlugInButton"]=$$("._spi")},
_initializeOnLoad:function(){this._checkAndLoadScripts();document.addEventListener("refreshSocialPlugIn",
$Fn(this.refresh,this).bind(),false)},
_checkAndLoadScripts:function(bIsForceUpdateAllReaction){if(this._oElement["likeItButton"]&&this._oActivateInfo.LIKE_IT===
false)this._lazyLoadILikeItScript();else if(this._oOption.isNewLikeIt&&nhn.LikeIt)nhn.LikeIt.list.instance.update();
if(this._oElement["likeReactionModule"]&&this._oElement["likeReactionModule"].length>0&&this._oActivateInfo.LIKE_REACTION===
false)this._lazyLoadILikeReactionScript();else if(typeof reaction!=="undefined"&&reaction.instance&&typeof reaction.instance.update===
"function")if(bIsForceUpdateAllReaction===true)reaction.instance.update(null,true);else reaction.instance.update();
if(this._oElement["socialPlugInButton"]&&this._oActivateInfo.SOCIAL_PLUGIN===false)this._lazyLoadSocialPlugInScript();
else if(window.__splugin)window.__splugin.init()},
_lazyLoadILikeItScript:function(){var sILikeItScriptUrl=this._oOption.likeItDomain+"/static/js/likeIt.list.js?v\x3d"+
this._oOption.sScriptVersion;if(!this._oOption.isNewLikeIt){var oLikeItData={serviceId:"KIN",displayId:"KIN",
contentId:this._oOption.gdId||"",drawButton:true,domain:this._oOption.likeItDomain,lang:"ko",viewType:"like"};
window.__oLikeItData=oLikeItData;sILikeItScriptUrl=oLikeItData.domain+"/static/js/likeItService.v2.light.js?v\x3d"+
this._oOption.sScriptVersion}jindo.LazyLoading.load(sILikeItScriptUrl,$Fn(this._onLoadLikeItScript,this).bind())},
_onLoadLikeItScript:function(){if(!this._oOption.isNewLikeIt||typeof nhn.LikeIt=="undefined")return;nhn.LikeIt.list.util.init({sId:"KIN",
sDomain:this._oOption.likeItDomain,bMobile:true,bHideCount:this._oOption.likeItHideCount||false,sReplaceZeroCount:this._oOption.likeItHideCount?
null:this._oOption.likeItReplaceStrIfZero,sTemplate:this._oOption.likeItTemplate||'\x3cspan class\x3d"u_ico"\x3e\x3c/span\x3e\x3cem class\x3d"u_cnt _cnt"\x3e\x3c/em\x3e'});
this._oActivateInfo.LIKE_IT=true},
_lazyLoadILikeReactionScript:function(){var sReactionScriptUrl=this._oOption.likeItDomain+"/js/reaction/dist/reaction.js?v\x3d"+
this._oOption.sScriptVersion;if(this._oOption.reactionInitOption&&this._oOption.reactionInitOption.staticDomain)sReactionScriptUrl=
this._oOption.reactionInitOption.staticDomain+"/js/reaction/dist/reaction.js?v\x3d"+this._oOption.sScriptVersion;
jindo.LazyLoading.load(sReactionScriptUrl,$Fn(this._onLoadReactionScript,this).bind())},
_onLoadReactionScript:function(){if(typeof reaction==="undefined")return;var oReactionInitOption=this._DEFAULT_REACTION_INIT_OPTION;
var oAdditionalReactionInitOption=this._oOption.reactionInitOption;if(typeof oAdditionalReactionInitOption===
"object")for(var sKey in oAdditionalReactionInitOption)if(oAdditionalReactionInitOption.hasOwnProperty(sKey))oReactionInitOption[sKey]=
oAdditionalReactionInitOption[sKey];this._sReactionModuleClassName=oReactionInitOption.moduleClassname;
this._setLikeReactionCallback(oReactionInitOption);reaction.init(oReactionInitOption);this._oActivateInfo.LIKE_REACTION=
true},
_setLikeReactionCallback:function(oReactionInitOption){if(!oReactionInitOption.callback)oReactionInitOption.callback=
{};if(typeof oReactionInitOption.callback.updated!=="function")oReactionInitOption.callback.updated=$Fn(function(oParam){var aElReactionModule=
$ElementList("#ct div."+this._sReactionModuleClassName);if(aElReactionModule&&aElReactionModule.length()>
0)for(var i=0,len=aElReactionModule.length();i<len;i++){var wElReactionModule=aElReactionModule.get(i);
if(wElReactionModule.visible()===false){var sDisplay=wElReactionModule.attr("data-display")||"inline-block";
wElReactionModule.show(sDisplay)}}},this).bind();
if(typeof oReactionInitOption.callback.updateParent!=="function")oReactionInitOption.callback.updateParent=
$Fn(function(oParam){},this).bind();
if(typeof oReactionInitOption.callback.clicked!=="function")oReactionInitOption.callback.clicked=$Fn(function(oParam){if(!oParam)return;
var oLikeContentsInfo=oParam.content;if(!oLikeContentsInfo)return;var sContentsId=oLikeContentsInfo.contentsId;
var oLikeContentsIdInfo=nhn.Kin.getLikeContentsInfo(sContentsId);if(!oLikeContentsIdInfo)return;var sReactionType=
oLikeContentsInfo.reactionType;if(!sReactionType)return;var sActionEvent=oLikeContentsInfo.isReacted===
true?"add":"delete";this._fireLikeReactionCallbackEvent({"contentsId":sContentsId,"parentContentsId":oLikeContentsIdInfo.gdId,
"answerNo":oLikeContentsIdInfo.answerNo,"reactionType":sReactionType,"actionEvent":sActionEvent})},this).bind();
if(typeof oReactionInitOption.clicklog!=="function")oReactionInitOption.clicklog=$Fn(function(elTarget,
sNclicksCode,oEvent){if(!elTarget||!sNclicksCode)return;nclk(elTarget,sNclicksCode,"","")},this).bind()},
_fireLikeReactionCallbackEvent:function(oEventParams){var eLikeReactionCallbackEvent=document.createEvent("Event");
eLikeReactionCallbackEvent.initEvent("likeReactionCallback",true,true);if(oEventParams)for(var sKey in oEventParams)if(oEventParams.hasOwnProperty(sKey))eLikeReactionCallbackEvent[sKey]=
oEventParams[sKey];document.dispatchEvent(eLikeReactionCallbackEvent)},
_lazyLoadSocialPlugInScript:function(){var sSocialPlugInScriptUrl=this._oOption.socialPlugInDomain+"/js/release/ko_KR/splugin.m.js?"+
this._oOption.sScriptVersion;jindo.LazyLoading.load(sSocialPlugInScriptUrl,$Fn(this._onLoadSocialPlugInScript,
this).bind())},
_onLoadSocialPlugInScript:function(){if(typeof SocialPlugIn_Core=="undefined")return;window.__splugin=
SocialPlugIn_Core({"evKey":"kin","serviceName":"\uc9c0\uc2ddiN","dimmed":"fixed","onClick":function(button){},
"onShow":function(){},
"onHide":function(){},
"onResize":function(event){},
"onRotate":function(event){}});
this._oActivateInfo.SOCIAL_PLUGIN=true},
_setInitializeData:function(){var oServiceSetting=this._oOption.serviceSetting||{};var sLinkUrl=this._oOption.linkUrl;
var sTitle=this._oOption.title||"Unknown";var sSourceTitle=this._oOption.sourceTitle||"Unknown";var sSourceContents=
null;var sLoginUserId=this._oOption.userId||"";this._oInitializeData={evKey:"kin",servicName:"\uc9c0\uc2ddiN",
url:sLinkUrl,title:sTitle,me:{display:"off"},mail:{display:oServiceSetting["mail"]==="off"?"off":"on",
url:sLinkUrl,title:sTitle,srvid:"social",srvurl:""},blog:{display:oServiceSetting["blog"]==="off"?"off":
"on",url:sLinkUrl,title:sTitle,blogId:"naver",sourceType:"111",sourceTitle:sSourceTitle,sourceContents:sSourceContents,
sourceForm:2},cafe:{display:oServiceSetting["cafe"]==="off"?"off":"on",url:sLinkUrl,title:sTitle,sourceType:"111",
sourceTitle:sSourceTitle,sourceContents:sSourceContents,sourceForm:2},memo:{display:oServiceSetting["memo"]===
"off"?"off":"on",url:sLinkUrl,title:sTitle},calendar:{display:oServiceSetting["calendar"]==="off"?"off":
"on",url:sLinkUrl,title:sTitle},bookmark:{display:oServiceSetting["bookmark"]==="off"?"off":"on",url:sLinkUrl,
title:sTitle},copyurl:{display:oServiceSetting["copyurl"]==="off"?"off":"on",url:sLinkUrl},twitter:{display:oServiceSetting["twitter"]===
"off"?"off":"on",url:sLinkUrl,title:sTitle},facebook:{display:oServiceSetting["facebook"]==="off"?"off":
"on",url:sLinkUrl,title:sTitle},band:{display:oServiceSetting["band"]==="off"?"off":"on",url:sLinkUrl,
title:sTitle},line:{display:oServiceSetting["line"]==="off"?"off":"on",url:sLinkUrl,title:sTitle},kakaotalk:{display:oServiceSetting["kakaotalk"]===
"off"?"off":"on",url:sLinkUrl,title:sTitle},kakaostory:{display:oServiceSetting["kakaostory"]==="off"?
"off":"on",url:sLinkUrl,title:sTitle},score:{display:"off"}};if(this._oOption.returnUrl)$ElementList(this._oElement["socialPlugInButton"]).attr("data-return-url",
this._oOption.returnUrl)},
_getInitializeData:function(){return this._oInitializeData||null},
refresh:function(bIsForceUpdateAllReaction){this._setElement();this._checkAndLoadScripts(bIsForceUpdateAllReaction)},
destroy:function(){this._oOption=this._oElement=this._oInitializeData=null}});