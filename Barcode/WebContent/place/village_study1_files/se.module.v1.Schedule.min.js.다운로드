/*! SmartEditor3 - v1.0.0 - 2017-12-11
* Copyright (c) 2017 NAVER Corp; Licensed  */

(function(){var a={init:function(a){this._initMoment();this._initVar(a);this._assignElement();this._bindEvents();this._changeDisplayFormat(a["startDateTime"],a["endDateTime"]);if(this.isMobile){this._toggleMoreDescriptionBtn()}this.trigger("onUpdateContents",{baseEl:this._$elContainer})},_initVar:function(a){this._initData=a;this.LIMIT_REMAINING_DAY=30;this._apiUrl=se.CONFIG.VIEWER_SCHEDULE_ICS;this.isMobile=se.module.isMobile()},_assignElement:function(){this._$container=$jq("#"+this._initData.baseElId);var a=this._$container.find(".__se_schedule_head");this._$displayDate=this._$container.find(".__se_display_date");this._$dayCount=a.find("._day_count");var b=this._$container.find(".__se_detail_area");this._$description=b.find("._description");this._$descriptionMoreBtn=b.find(".__se_more_description_btn");this._$addSchedule=this._$container.find(".__se_add_schedule")},_bindEvents:function(){this._$descriptionMoreBtn.on("click",this._onClickDescriptionMoreBtn.bind(this));$jq(window).on("rotate",this._onRotate.bind(this))},_initMoment:function(){se.moment.locale("ko",{weekdaysShort:["일","월","화","수","목","금","토"],meridiem:function(a,b,c){if(a<12){return"오전"}else{return"오후"}}})},_showAddScheduleBtn:function(){this._$addSchedule.show()},_changeDisplayFormat:function(a,b){var c=this._getCurrentTime();b=b||a;if(this._isAllDay()){var d="YYYY-MM-DD";a=se.moment(a).format(d);b=se.moment(b).format(d);c=se.moment(c).format(d)}if(this._isBefore(c,a)){this._showDayCount({start:a,end:b,current:c})}else if(this._isAfter(c,b)){this._updateDisplayDate();this._$container.addClass("is-closed")}else{this._updateDisplayDate()}},_isAllDay:function(){return this._initData["isAllDay"]},_isBefore:function(a,b){return se.moment(a).isBefore(b)},_isAfter:function(a,b){return se.moment(a).isAfter(b)},_getCurrentTime:function(){return+new Date},_showDayCount:function(a){var b=function(a){return se.moment(a).format("YYYY-MM-DD")};var c=b(a["start"]);var d=b(a["current"]);var e=se.moment(c).diff(d,"days");if(e<=this.LIMIT_REMAINING_DAY&&e>0){this._$dayCount.text(e);this._$container.addClass("is-dDay")}else{this._updateDisplayDate()}},_updateDisplayDate:function(){var a=this._$displayDate;var b=this._initData["startDateTime"];var c=function(a){return se.moment(b).format(a)};a.find("._month").text(c("M월"));a.find("._date").text(c("D"))},_toggleMoreDescriptionBtn:function(){var a=80;var b=this._$descriptionMoreBtn;var c="is-on";if(!this._$description){return}if(this._$description.height()<=a){b.removeClass(c)}else{b.addClass(c)}this._onClickDescriptionMoreBtn()},_onClickDescriptionMoreBtn:function(a){var b="is-on";var c=this._$description;var d=this._$descriptionMoreBtn.find("._btn_label");if(c.hasClass(b)){d.text("자세히 보기");c.removeClass(b)}else{d.text("접기");c.addClass(b)}},_redirect:function(a){location.href=a},_onRotate:function(){this._toggleMoreDescriptionBtn()}};se.defineComponent("se.module.v1.m.Schedule",a);se.defineComponent("se.module.v1.Schedule",a)})();
//# sourceMappingURL=se.module.v1.Schedule.min.js.map