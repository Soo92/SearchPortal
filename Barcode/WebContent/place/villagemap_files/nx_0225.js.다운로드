/* release date : 2016-02-18 */
nhn=window.nhn||{};

function _settingPolyfill(a,b,c,d,e){(e||!a[b].prototype[c])&&(a[b].prototype[c]=d)}function polyfillArray(a){function b(a){if("function"!=typeof a)throw new TypeError("callback is not a function.")}_settingPolyfill(a,"Array","forEach",function(a,c){b(a);for(var d=arguments.length>=2?c:void 0,e=0,f=this.length;f>e;e++)a.call(d,this[e],e,this)}),_settingPolyfill(a,"Array","every",function(a,c){b(a);for(var d=arguments.length>=2?c:void 0,e=0,f=this.length;f>e;e++)if(!a.call(d,this[e],e,this))return!1;return!0})}function polyfillTimer(a){function b(){var b,c=a.Date.now(),d={};for(var e in k){var f=k[e];p[f.clearType](k[e].key),delete k[e],f.timerType==l&&(b=c-f.createdTime,f.delay=b>=f.delay?0:f.delay-b),f.isCall||(f.key=p[f.timerType](f.callback.bind(f),f.delay),d[e]=f)}k=d,d=null}var c,d=a.navigator.userAgent,e=/i(Pad|Phone|Pod)/.test(d);if(e){var f=d.match(/OS\s(\d)/);f&&(c=parseInt(f[1],10))}var g=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.msRequestAnimationFrame,h=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.msCancelAnimationFrame;if(g&&!h){var i={},j=g;g=function(a){function b(){i[c]&&a()}var c=j(b);return i[c]=!0,c},h=function(a){delete i[a]}}else g&&h||(g=function(b){return a.setTimeout(b,16)},h=a.clearTimeout);if(a.requestAnimationFrame=g,a.cancelAnimationFrame=h,c>=6&&a.requestAnimationFrame(function(){}),6==c){var k={},l="setTimeout",m="clearTimeout",n="setInterval",o="clearInterval",p={setTimeout:a.setTimeout.bind(a),clearTimeout:a.clearTimeout.bind(a),setInterval:a.setInterval.bind(a),clearInterval:a.clearInterval.bind(a)};[[l,m],[n,o]].forEach(function(b){a[b[0]]=function(b,c){return function(d,e){var f={key:"",isCall:!1,timerType:b,clearType:c,realCallback:d,callback:function(){var a=this.realCallback;a(),this.timerType===l&&(this.isCall=!0,delete k[this.key])},delay:e,createdTime:a.Date.now()};return f.key=p[b](f.callback.bind(f),e),k[f.key]=f,f.key}}(b[0],b[1]),a[b[1]]=function(a){return function(b){b&&k[b]&&(p[a](k[b].key),delete k[b])}}(b[1])}),a.addEventListener("scroll",function(){b()})}return a}var jindo=window.jindo||{};jindo._p_={},jindo._p_.jindoName="jindo",!function(){if(window[jindo._p_.jindoName]){var a=window[jindo._p_.jindoName];for(var b in a)jindo[b]=a[b]}}(),window.__isPolyfillTestMode||polyfillArray(window),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(d.prototype&&this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),window.__isPolyfillTestMode||polyfillTimer(window),jindo._p_._j_ag=navigator.userAgent,jindo._p_._JINDO_IS_FF=jindo._p_._j_ag.indexOf("Firefox")>-1,jindo._p_._JINDO_IS_OP=jindo._p_._j_ag.indexOf("Opera")>-1,jindo._p_._JINDO_IS_SP=/Version\/[\d\.]+\s(Mobile\/[\d\w]+\s)?(?=Safari)/.test(jindo._p_._j_ag),jindo._p_._JINDO_IS_CH=/(Chrome|CriOS)\/[\d\.]+\s(Mobile(\/[\w\d]+)?\s)?Safari\/[\d\.]+(\s\([\w\d-]+\))?$/.test(jindo._p_._j_ag),jindo._p_._JINDO_IS_WK=jindo._p_._j_ag.indexOf("WebKit")>-1,jindo._p_._JINDO_IS_MO=/(iPhone|iPod|Mobile|Tizen|Android|Nokia|webOS|BlackBerry|Opera Mobi|Opera Mini)/.test(jindo._p_._j_ag),jindo._p_.trim=function(a){var b="\\s|\\t|"+String.fromCharCode(12288),c=new RegExp(["^(?:",")+|(?:",")+$"].join(b),"g");return a.replace(c,"")},jindo.$Jindo=function(){var a=arguments.callee,b=a._cached;return b?b:this instanceof a?void(b||(a._cached=this)):new a},jindo._p_.addExtension=function(a,b,c){jindo[a][b]?jindo.$Jindo._warn(a+"."+b+" was overwrite."):/^x/.test(b)?jindo[a][b]=c:jindo.$Jindo._warn("The Extension Method("+a+"."+b+") must be used with x prefix.")},jindo.$Jindo.compatible=function(){return!1},jindo.$Jindo.mixin=function(a,b){g_checkVarType(arguments,{obj:["oDestination:Hash+","oSource:Hash+"]},"<static> $Jindo#mixin");var c={};for(var d in a)c[d]=a[d];for(d in b)b.hasOwnProperty(d)&&!jindo.$Jindo.isHash(b[d])&&(c[d]=b[d]);return c},jindo._p_._objToString=Object.prototype.toString,jindo.$Error=function(a,b){this.message="	method : "+b+"\n	message : "+a,this.type="Jindo Custom Error",this.toString=function(){return this.message+"\n	"+this.type}},jindo.$Except={CANNOT_USE_OPTION:"해당 옵션은 사용할 수 없습니다.",CANNOT_USE_HEADER:"type이 jsonp 또는 데스크탑 환경에서 CORS 호출시 XDomainRequest(IE8,9) 객체가 사용되는 경우 header메서드는 사용할 수 없습니다.",PARSE_ERROR:"파싱중 에러가 발생했습니다.",NOT_FOUND_ARGUMENT:"파라미터가 없습니다.",NOT_STANDARD_QUERY:"css셀렉터가 정상적이지 않습니다.",INVALID_DATE:"날짜 포멧이 아닙니다.",REQUIRE_AJAX:"가 없습니다.",NOT_FOUND_ELEMENT:"엘리먼트가 없습니다.",HAS_FUNCTION_FOR_GROUP:"그룹으로 지우지 않는 경우 detach할 함수가 있어야 합니다.",NONE_ELEMENT:"에 해당하는 엘리먼트가 없습니다.",NOT_SUPPORT_SELECTOR:"는 지원하지 않는 selector입니다.",NOT_SUPPORT_CORS:"현재 브라우저는 CORS를 지원하지 않습니다.",NOT_SUPPORT_METHOD:"desktop에서 지원하지 않는 메서드 입니다.",JSON_MUST_HAVE_ARRAY_HASH:"get메서드는 json타입이 hash나 array타입만 가능합니다.",MUST_APPEND_DOM:"document에 붙지 않은 엘리먼트를 기준 엘리먼트로 사용할 수 없습니다.",NOT_USE_CSS:"는 css를 사용 할수 없습니다.",NOT_WORK_DOMREADY:"domready이벤트는 iframe안에서 사용할 수 없습니다.",CANNOT_SET_OBJ_PROPERTY:"속성은 오브젝트입니다.\n클래스 속성이 오브젝트이면 모든 인스턴스가 공유하기 때문에 위험합니다.",NOT_FOUND_HANDLEBARS:"{{not_found_handlebars}}"},jindo._p_._toArray=function(a){return Array.prototype.slice.apply(a)};try{Array.prototype.slice.apply(document.documentElement.childNodes)}catch(e){jindo._p_._toArray=function(a){for(var b=[],c=a.length,d=0;c>d;d++)b.push(a[d]);return b}}jindo.$Jindo.isNumeric=function(a){return!isNaN(parseFloat(a))&&!jindo.$Jindo.isArray(a)&&isFinite(a)},function(){var a={Element:1,Document:9};for(var b in a)jindo.$Jindo["is"+b]=function(a,b){return function(c){return new RegExp(a).test(jindo._p_._objToString.call(c))?!0:"[object Object]"==jindo._p_._objToString.call(c)&&null!==c&&void 0!==c&&c.nodeType==b?!0:!1}}(b,a[b]);for(var c=["Function","Array","String","Boolean","Date","RegExp"],b=0,d=c.length;d>b;b++)jindo.$Jindo["is"+c[b]]=function(a){return function(b){return jindo._p_._objToString.call(b)=="[object "+a+"]"}}(c[b])}(),jindo.$Jindo.isNode=function(a){try{return!(!a||!a.nodeType)}catch(b){return!1}},jindo.$Jindo.isHash=function(a){return"[object Object]"==jindo._p_._objToString.call(a)&&null!==a&&void 0!==a&&!a.nodeType&&!jindo.$Jindo.isWindow(a)},jindo.$Jindo.isNull=function(a){return null===a},jindo.$Jindo.isUndefined=function(a){return void 0===a},jindo.$Jindo.isWindow=function(a){return a&&(a==window.top||a==a.window)},jindo.$Jindo.Break=function(){if(!(this instanceof arguments.callee))throw new arguments.callee},jindo.$Jindo.Continue=function(){if(!(this instanceof arguments.callee))throw new arguments.callee},jindo.$Jindo._F=function(a){return a},jindo.$Jindo._warn=function(a){window.console&&(console.warn&&void 0,!0)},jindo.$Jindo._maxWarn=function(a,b,c){a>b&&jindo.$Jindo._warn("추가적인 파라미터가 있습니다. : "+c)},jindo.$Jindo.checkVarType=function(a,b,c){var c=c||a.callee.name||"anonymous",d=jindo.$Jindo,e=d.compatible(),f=a.callee["_checkVarType_"+e];if(f)return f(a,b,c);var g=[];g.push("var nArgsLen = aArgs.length;"),g.push("var $Jindo = "+jindo._p_.jindoName+".$Jindo;"),e&&(g.push("var nMatchScore;"),g.push("var nMaxMatchScore = -1;"),g.push("var oFinalRet = null;"));var h=[],i=0;for(var j in b)b.hasOwnProperty(j)&&(i=Math.max(b[j].length,i));for(var j in b)if(b.hasOwnProperty(j)){var k=b[j],l=k.length,m=[],n=[],o=[];e||n.push(i>l?"nArgsLen === "+l:"nArgsLen >= "+l),o.push("var oRet = new $Jindo._varTypeRetObj();");for(var p=l,q=0;l>q;++q){var r=/^([^:]+):([^\+]*)(\+?)$/.exec(k[q]),s=r[1],t=r[2],u=!!r[3];if("Variant"===t)e&&n.push(q+" in aArgs"),o.push('oRet["'+s+'"] = aArgs['+q+"];"),p--;else if(d._varTypeList[t]){var v="tmp"+t+"_"+q;m.push("var "+v+" = $Jindo._varTypeList."+t+"(aArgs["+q+"], "+u+");"),n.push(v+" !== "+jindo._p_.jindoName+".$Jindo.VARTYPE_NOT_MATCHED"),o.push('oRet["'+s+'"] = '+v+";")}else if(/^\$/.test(t)&&jindo[t]){var w,x="";u&&(w={$Fn:"Function",$S:"String",$A:"Array",$H:"Hash",$ElementList:"Array"}[t]||t.replace(/^\$/,""),jindo.$Jindo["is"+w]&&(x=" || $Jindo.is"+w+"(vNativeArg_"+q+")")),n.push("(aArgs["+q+"] instanceof "+jindo._p_.jindoName+"."+t+x+")"),o.push('oRet["'+s+'"] = '+jindo._p_.jindoName+"."+t+"(aArgs["+q+"]);")}else{if(!jindo.$Jindo["is"+t])throw new Error("VarType("+t+") Not Found");var y,x="";u&&(y={Function:"$Fn",String:"$S",Array:"$A",Hash:"$H"}[t]||"$"+t,jindo[y]&&(x=" || aArgs["+q+"] instanceof "+jindo._p_.jindoName+"."+y)),n.push("($Jindo.is"+t+"(aArgs["+q+"])"+x+")"),o.push('oRet["'+s+'"] = vNativeArg_'+q+";")}}o.push('oRet.__type = "'+j+'";'),e?(o.push("nMatchScore = "+(1e3*l+10*p)+" + (nArgsLen === "+l+" ? 1 : 0);"),o.push("if (nMatchScore > nMaxMatchScore) {"),o.push("	nMaxMatchScore = nMatchScore;"),o.push("	oFinalRet = oRet;"),o.push("}")):o.push("return oRet;"),h.push(m.join("\n")),n.length&&h.push("if ("+n.join(" && ")+") {"),h.push(o.join("\n")),n.length&&h.push("}")}g.push("	$Jindo._maxWarn(nArgsLen,"+i+',"'+c+'");');for(var q=0;i>q;++q){var z="aArgs["+q+"]";g.push(["var vNativeArg_",q," = ",z," && ",z,".$value ? ",z,".$value() : ",z+";"].join(""))}return e||h.push("$Jindo.checkVarType._throwException(aArgs, oRules, sFuncName);"),h.push("return oFinalRet;"),a.callee["_checkVarType_"+e]=f=new Function("aArgs,oRules,sFuncName",g.join("\n")+h.join("\n")),f(a,b,c)};var g_checkVarType=jindo.$Jindo.checkVarType;jindo.$Jindo._varTypeRetObj=function(){},jindo.$Jindo._varTypeRetObj.prototype.toString=function(){return this.__type},jindo.$Jindo.checkVarType._throwException=function(a,b,c){for(var d=function(a){for(var b in jindo)if(jindo.hasOwnProperty(b)){var c=jindo[b];if("function"!=typeof c)continue;if(a instanceof c)return b}var d=jindo.$Jindo;for(var b in d)if(d.hasOwnProperty(b)){if(!/^is(.+)$/.test(b))continue;var e=RegExp.$1,f=d[b];if(f(a))return e}return"Unknown"},e=function(a,b,c){var d=["잘못된 파라미터입니다.",""];if(a&&(d.push("호출한 형태 :"),d.push("	"+a),d.push("")),b.length){d.push("사용 가능한 형태 :");for(var e=0,f=b.length;f>e;e++)d.push("	"+b[e]);d.push("")}return c&&(d.push("매뉴얼 페이지 :"),d.push("	"+c),d.push("")),d.unshift(),d.join("\n")},f=[],g=0,h=a.length;h>g;++g)try{f.push(d(a[g]))}catch(i){f.push("Unknown")}var j=c+"("+f.join(", ")+")",k=[];for(var l in b)if(b.hasOwnProperty(l)){var m=b[l];k.push(""+c+"("+m.join(", ").replace(/(^|,\s)[^:]+:/g,"$1")+")")}var n;throw/(\$\w+)#(\w+)?/.test(c)&&(n="http://jindo.dev.naver.com/docs/jindo/2.12.1-SEARCH/desktop/ko/classes/jindo."+encodeURIComponent(RegExp.$1)+".html#method_"+RegExp.$2),new TypeError(e(j,k,n))},jindo.$Jindo.varType=function(){var a=this.checkVarType(arguments,{s4str:["sTypeName:String+","fpFunc:Function+"],s4obj:["oTypeLists:Hash+"],g:["sTypeName:String+"]}),b=jindo.$Jindo._denyTypeListComma;switch(a+""){case"s4str":var c=","+a.sTypeName.replace(/\+$/,"")+",";if(b.indexOf(c)>-1)throw new Error("Not allowed Variable Type");return this._varTypeList[a.sTypeName]=a.fpFunc,this;case"s4obj":var d,e=a.oTypeLists;for(var f in e)e.hasOwnProperty(f)&&(d=e[f],arguments.callee.call(this,f,d));return this;case"g":return this._varTypeList[a.sTypeName]}},jindo.$Jindo.VARTYPE_NOT_MATCHED={},function(){var a=jindo.$Jindo._varTypeList={},b=jindo.$Jindo,c=b.VARTYPE_NOT_MATCHED;a.Numeric=function(a){return b.isNumeric(a)?1*a:c},a.Hash=function(a,d){return d&&jindo.$H&&a instanceof jindo.$H?a.$value():b.isHash(a)?a:c},a.$Class=function(a){return b.isFunction(a)&&a.extend?a:c};var d=[];for(var e in b)b.hasOwnProperty(e)&&/^is(.+)$/.test(e)&&d.push(RegExp.$1);b._denyTypeListComma=d.join(","),b.varType("ArrayStyle",function(a){return a&&(/(Arguments|NodeList|HTMLCollection|global|Window)/.test(jindo._p_._objToString.call(a))||/Object/.test(jindo._p_._objToString.call(a))&&b.isNumeric(a.length))?jindo._p_._toArray(a):c}),b.varType("Form",function(a,b){return a?(b&&a.$value&&(a=a.$value()),a.tagName&&"FORM"==a.tagName.toUpperCase()?a:c):c})}(),jindo._p_._createEle=function(a,b,c,d){var e="R"+(new Date).getTime()+parseInt(1e5*Math.random(),10),f=c.createElement("div");switch(a){case"select":case"table":case"dl":case"ul":case"fieldset":case"audio":f.innerHTML="<"+a+' class="'+e+'">'+b+"</"+a+">";break;case"thead":case"tbody":case"col":f.innerHTML="<table><"+a+' class="'+e+'">'+b+"</"+a+"></table>";break;case"tr":f.innerHTML='<table><tbody><tr class="'+e+'">'+b+"</tr></tbody></table>";break;default:f.innerHTML='<div class="'+e+'">'+b+"</div>"}var g;for(g=f.firstChild;g&&g.className!=e;g=g.firstChild);return d?g:g.childNodes},jindo.$=function(){if(!arguments.length)throw new jindo.$Error(jindo.$Except.NOT_FOUND_ARGUMENT,"$");var a=[],b=arguments,c=b.length,d=b[c-1],e=document,f=null,g=/^<([a-z]+|h[1-5])>$/i,h=/^<([a-z]+|h[1-5])(\s+[^>]+)?>/i;c>1&&"string"!=typeof d&&d.body&&(b=Array.prototype.slice.apply(b,[0,c-1]),e=d);for(var i=0;c>i;i++){if(f=b[i]&&b[i].$value?b[i].$value():b[i],jindo.$Jindo.isString(f)||jindo.$Jindo.isNumeric(f))if(f+="",f=f.replace(/^\s+|\s+$/g,""),f=f.replace(/<!--(.|\n)*?-->/g,""),f.indexOf("<")>-1){if(g.test(f))f=e.createElement(RegExp.$1);else if(h.test(f)){for(var j={thead:"table",tbody:"table",tr:"tbody",td:"tr",dt:"dl",dd:"dl",li:"ul",legend:"fieldset",option:"select",source:"audio"},k=RegExp.$1.toLowerCase(),l=jindo._p_._createEle(j[k],f,e),i=0,m=l.length;m>i;i++)a.push(l[i]);f=null}}else f=e.getElementById(f);f&&f.nodeType&&(a[a.length]=f)}return a.length>1?a:a[0]||null},jindo.$Class=function(oDef){function typeClass(){for(var t=this,a=[],superFunc=function(m,superClass,func){if("constructor"!=m&&func.toString().indexOf("$super")>-1){var funcArg=func.toString().replace(/function\s*\(([^\)]*)[\w\W]*/g,"$1").split(","),funcStr=func.toString().replace(/function[^{]*{/,"").replace(/(\w|\.?)(this\.\$super|this)/g,function(a,b,c){return b?a:c+".$super"});funcStr=funcStr.substr(0,funcStr.length-1),func=superClass[m]=eval("false||function("+funcArg.join(",")+"){"+funcStr+"}")}return function(){var a=this.$this[m],b=this.$this,c=(b[m]=func).apply(b,arguments);return b[m]=a,c}};void 0!==t._$superClass;){t.$super=new Object,t.$super.$this=this;for(var x in t._$superClass.prototype)t._$superClass.prototype.hasOwnProperty(x)&&(void 0===this[x]&&"$init"!=x&&(this[x]=t._$superClass.prototype[x]),t.$super[x]="constructor"!=x&&"_$superClass"!=x&&"function"==typeof t._$superClass.prototype[x]?superFunc(x,t._$superClass,t._$superClass.prototype[x]):t._$superClass.prototype[x]);"function"==typeof t.$super.$init&&(a[a.length]=t),t=t.$super}for(var i=a.length-1;i>-1;i--)a[i].$super.$init.apply(a[i].$super,arguments);if(this.$autoBind)for(var i in this)/^\_/.test(i)&&"function"==typeof this[i]&&(this[i]=jindo.$Fn(this[i],this).bind());"function"==typeof this.$init&&this.$init.apply(this,arguments)}var oArgs=g_checkVarType(arguments,{"4obj":["oDef:Hash+"]},"$Class");if(void 0!==oDef.$static){var i=0,x;for(x in oDef)oDef.hasOwnProperty(x)&&("$static"==x||i++);for(x in oDef.$static)oDef.$static.hasOwnProperty(x)&&(typeClass[x]=oDef.$static[x]);if(!i)return oDef.$static;delete oDef.$static}return typeClass.prototype=oDef,typeClass.prototype.constructor=typeClass,typeClass.prototype.kindOf=function(a){return jindo._p_._kindOf(this.constructor.prototype,a.prototype)},typeClass.extend=jindo.$Class.extend,typeClass},jindo._p_._kindOf=function(a,b){return a!=b?a._$superClass?jindo._p_._kindOf(a._$superClass.prototype,b):!1:!0},jindo.$Class.extend=function(a){g_checkVarType(arguments,{"4obj":["oDef:$Class"]},"<static> $Class#extend");this.prototype._$superClass=a;var b=a.prototype;for(var c in b)jindo.$Jindo.isHash(b[c])&&jindo.$Jindo._warn(jindo.$Except.CANNOT_SET_OBJ_PROPERTY);for(var d in a)if(a.hasOwnProperty(d)){if("prototype"==d)continue;this[d]=a[d]}return this},jindo.VERSION="2.12.1-SEARCH",jindo.TYPE="mobile",jindo.$$=jindo.cssquery=function(){function a(){var a=n._dummyWrap;a||(n._dummyWrap=a=document.createElement("div"),a.id="__jindo_cssquery_mockdiv",a.style.cssText="display:none !important;",a.className="This element is for jindo.$$.test",document.body.insertBefore(a,document.body.firstChild)),n._dummyWrap=a}function b(a){return/\[\s*(?:checked|selected|disabled)/.test(a)}function c(a,b){return a.replace(/\,/gi,b)}function d(a){return/^[~>+]/.test(a)}function e(a){var b;return a=a&&a.$value?a.$value():a,jindo.$Jindo.isString(a)&&(a=document.getElementById(a)),a||(a=document),b=a.nodeType,1!=b&&9!=b&&10!=b&&11!=b&&(a=a.ownerDocument||a.document),a||a.ownerDocument||a.document}function f(a,b){var c,d;return/^\w+$/.test(a.id)?c="#"+a.id:(d="C"+(new Date).getTime()+Math.floor(1e6*Math.random()),a.setAttribute(b,d),c="["+b+"="+d+"]"),c}function g(a){var b,c,d,e=[],f={};for(d=0;c=a[d];d++)b=h(c),f[b]||(e.push(c),f[b]=!0);return e}function h(a){var b=a._cssquery_UID;return b&&p[b]==a?b:(a._cssquery_UID=b=o++,p[b]=a,b)}function i(a){var b=[],c=a.match(q);if(c)if(r.test(c[3])){var d,e=c[3].replace(s,function(a,b){return d=b,jindo._p_.trim(a.replace(b,""))});b.push({left:c[1],com:c[2],right:jindo._p_.trim(d)});for(var f=i(e),g=0,h=f.length;h>g;g++)b.push(f[g])}else b.push({left:c[1],com:c[2],right:c[3]});else b.push({left:a,com:"",right:""});return b}function j(a,b,c){var d=b;1==b.nodeType&&(d=b.ownerDocument||b.document);for(var e=i(a),f=[d],h=0,j=e.length;j>h;h++)f=k(e[h],f,c&&c.single&&h==e.length-1);return f?g(f):[]}function k(a,b,c){var d=a.com;switch(d){case"!":case"!>":return l("parentNode",a,b,"!"==d,c);case"!~":case"!+":return l("previousElementSibling",a,b,"!~"==d,c);default:return m(a,b,c)}}function l(a,b,c,d,e){var f=[],g=[];if(b.left)for(var h=0,i=c.length;i>h;h++)f=f.concat(n(b.left,c[h]));else f=c;for(var j,k=b.right,h=0,i=f.length;i>h;h++){if(j=f[h][a],d)for(;j&&!(n.test(j,k)&&(g.push(j),g.length>0&&e));)j=j[a];else j&&n.test(j,k)&&g.push(j);if(g.length>0&&e)break}return g}function m(a,b,c){for(var d=[],e=0,f=b.length;f>e&&(d=d.concat(n(a.left,b[e])),!(d.length>0&&c));e++);return d}var n;this._dummyWrap;var o=1,p={},q=/(.*?)\s*(![>+~]?)\s*(.*)/,r=/[!>~+\s]/,s=/(.*?)[!>~+\s]/,t=document.createElement("div");return n=function(a,g,h){{var i,k,l,m,n,o,p,q;jindo.$Jindo.checkVarType(arguments,{"4str":["sQuery:String+"],"4var":["sQuery:String+","oParent:Variant"],"4var2":["sQuery:String+","oParent:Variant","oOptions:Variant"]},"cssquery")}if(g=e(g),h=h&&h.$value?h.$value():h,a=a.replace(/\[(.*?)\=(\d*)\]/g,function(a,b,c){return"["+b+"='"+c+"']"}),b(a))throw new jindo.$Error(jindo.$Except.NOT_SUPPORT_SELECTOR,h&&h.single?"<static> cssquery.getSingle":"cssquery");if(k=g.nodeType,p=(g.tagName||"").toUpperCase(),9!==k&&"HTML"!=p)11===k&&(g=g.cloneNode(!0),o=t.cloneNode(!0),o.appendChild(g),g=o,o=null),n=f(g,"queryid"),(q=g.parentNode)||"BODY"===p||jindo.$Element._contain((g.ownerDocument||g.document).body,g)?(m=g,g=q):(o=t.cloneNode(!0),m=g,o.appendChild(m),g=o),a=c(n+" "+a,", "+n+" ");else if(g=g.ownerDocument||g.document||g,d(a))return[];try{i=!/!=/.test(a)&&a.indexOf("!")>-1?j(a,g,h):h&&h.single?[g.querySelector(a)]:jindo._p_._toArray(g.querySelectorAll(a))}catch(r){throw r}finally{l&&(m.removeAttribute("queryid"),o=null)}return i},n.test=function(b,c){n._dummyWrap||a();var d=!1;if(1==b.nodeType){var e=b.cloneNode(!1);n._dummyWrap.appendChild(e),d=n.getSingle(c,n._dummyWrap)?!0:!1,n._dummyWrap.innerHTML=""}return d},n.useCache=function(){},n.clearCache=function(){},n.release=function(){},n.getSingle=function(a,b){return n(a,b,{single:!0})[0]||null},n.extreme=function(){},n._makeQueryParseTree=i,n}(),jindo.$Agent=function(){var a=arguments.callee,b=a._cached;return b?b:this instanceof a?(b||(a._cached=this),this._navigator=navigator,void(this._dm=document.documentMode)):new a},jindo.$Agent.prototype.navigator=function(){function a(a,b){return(b||"").indexOf(a)>-1}var b={},c=-1,d=-1,e=this._navigator.userAgent,f=(this._navigator.vendor||"",this._dm);b.getName=function(){var a="";for(var c in b)"mobile"!==c&&"boolean"==typeof b[c]&&b[c]&&b.hasOwnProperty(c)&&(a=c);return a},b.webkit=a("WebKit",e),b.opera=void 0!==window.opera||a("Opera",e)||a("OPR",e),b.chrome=b.webkit&&!b.opera&&a("Chrome",e)||a("CriOS",e),b.firefox=a("Firefox",e),b.mobile=(a("Mobile",e)||a("Android",e)||a("Nokia",e)||a("webOS",e)||a("Opera Mini",e)||a("Opera Mobile",e)||a("BlackBerry",e)||a("Windows",e)&&a("PPC",e)||a("Smartphone",e)||a("IEMobile",e))&&!(a("iPad",e)||a("Tablet",e)),b.msafari=(!a("IEMobile",e)&&a("Mobile",e)||a("iPad",e)&&a("Safari",e))&&!b.chrome&&!b.opera&&!b.firefox,b.mopera=a("Opera Mini",e),b.mie=a("PPC",e)||a("Smartphone",e)||a("IEMobile",e);try{if(b.mie)if(f>0)if(c=f,e.match(/(?:Trident)\/([\d.]+)/)){var g=parseInt(RegExp.$1,10);g>3&&(d=g+4)}else d=c;else d=c=e.match(/(?:MSIE) ([\d.]+)/)[1];else b.msafari?(c=parseFloat(e.match(/Safari\/([\d.]+)/)[1]),c=100==c?1.1:e.match(/Version\/([\d.]+)/)?RegExp.$1:[1,1.2,-1,1.3,2,3][Math.floor(c/100)]):b.mopera?c=e.match(/(?:Opera\sMini)\/([\d.]+)/)[1]:b.opera?c=e.match(/(?:Version|OPR|Opera)[\/\s]?([\d.]+)(?!.*Version)/)[1]:b.firefox?c=e.match(/Firefox\/([\d.]+)/)[1]:b.chrome&&(c=e.match(/Chrome[ \/]([\d.]+)/)[1]);b.version=parseFloat(c),b.nativeVersion=parseFloat(d),isNaN(b.version)&&(b.version=-1)}catch(h){b.version=-1}return this.navigator=function(){return b},b},jindo.$Agent.prototype.os=function(){var a={},b=this._navigator.userAgent,c=(this._navigator.platform,function(a,b){return b.indexOf(a)>-1}),d=null;return a.getName=function(){var b="";for(var c in a)a[c]===!0&&a.hasOwnProperty(c)&&(b=c);return b},a.ipad=c("iPad",b),a.iphone=c("iPhone",b)&&!a.ipad,a.android=c("Android",b),a.nokia=c("Nokia",b),a.blackberry=c("BlackBerry",b),a.mwin=c("PPC",b)||c("Smartphone",b)||c("IEMobile",b)||c("Windows Phone",b),a.ios=a.ipad||a.iphone,a.symbianos=c("SymbianOS",b),a.version=null,a.android?(d=b.match(/Android ([\d|\.]+)/),null!=d&&void 0!=d[1]&&(a.version=d[1])):a.ios?(d=b.match(/(iPhone )?OS ([\d|_]+)/),null!=d&&void 0!=d[2]&&(a.version=String(d[2]).split("_").join("."))):a.blackberry?(d=b.match(/Version\/([\d|\.]+)/),null==d&&(d=b.match(/BlackBerry\s?\d{4}\/([\d|\.]+)/)),null!=d&&void 0!=d[1]&&(a.version=d[1])):a.symbianos?(d=b.match(/SymbianOS\/(\d+.\w+)/),null!=d&&void 0!=d[1]&&(a.version=d[1])):a.mwin&&(d=b.match(/Windows CE ([\d|\.]+)/),null!=d&&void 0!=d[1]&&(a.version=d[1]),!a.version&&(d=b.match(/Windows Phone (OS )?([\d|\.]+)/))&&(a.version=d[2])),this.os=function(){return a},a},jindo.$A=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$A"),new b(a)}catch(c){if(c instanceof TypeError)return null;throw c}var d=g_checkVarType(arguments,{"4voi":[],"4arr":["aPram:Array+"],"4nul":["oNull:Null"],"4und":["oUndefined:Undefined"],arrt:["aPram:ArrayStyle"]},"$A");switch(null==d&&(a=[]),d+""){case"arrt":case"4arr":a=d.aPram;break;case"4nul":case"4und":case"4voi":a=[]}this._array=[];for(var e=0;e<a.length;e++)this._array[this._array.length]=a[e]},jindo.$A.checkVarTypeObj={"4fun":["fCallback:Function+"],"4thi":["fCallback:Function+","oThis:Variant"]},jindo.$A.prototype.toString=function(){return this._array.toString()},jindo.$A.prototype.get=function(a){return g_checkVarType(arguments,{"4num":["nIndex:Numeric"]},"$A#get"),this._array[a]},jindo.$A.prototype.set=function(a,b){return g_checkVarType(arguments,{"4num":["nIndex:Numeric","vValue:Variant"]},"$A#set"),this._array[a]=b,this},jindo.$A.prototype.length=function(a){var b=g_checkVarType(arguments,{"4num":[jindo.$Jindo._F("nLen:Numeric")],sv:["nLen:Numeric","vValue:Variant"],"4voi":[]},"$A#length");switch(b+""){case"4num":return this._array.length=b.nLen,this;case"sv":var c=this._array.length;this._array.length=b.nLen;for(var d=c;a>d;d++)this._array[d]=b.vValue;return this;case"4voi":return this._array.length}},jindo.$A.prototype.has=function(a){return this.indexOf(a)>-1},jindo.$A.prototype.indexOf=function(a){return this._array.indexOf(a)},jindo.$A.prototype.$value=function(){return this._array},jindo.$A.prototype.push=function(){return this._array.push.apply(this._array,jindo._p_._toArray(arguments))},jindo.$A.prototype.pop=function(){return this._array.pop()},jindo.$A.prototype.shift=function(){return this._array.shift()},jindo.$A.prototype.unshift=function(){return this._array.unshift.apply(this._array,jindo._p_._toArray(arguments)),this._array.length},jindo.$A.prototype.forEach=function(a,b){function c(){try{a.apply(b||d,jindo._p_._toArray(arguments))}catch(c){if(!(c instanceof d.constructor.Continue))throw c}}var d=(g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#forEach"),this);try{this._array.forEach(c)}catch(e){if(!(e instanceof this.constructor.Break))throw e}return this},jindo.$A.prototype.slice=function(a,b){var c=this._array.slice.call(this._array,a,b);return jindo.$A(c)},jindo.$A.prototype.splice=function(){var a=this._array.splice.apply(this._array,jindo._p_._toArray(arguments));return jindo.$A(a)},jindo.$A.prototype.shuffle=function(){return this._array.sort(function(){return Math.random()>Math.random()?1:-1}),this},jindo.$A.prototype.reverse=function(){return this._array.reverse(),this},jindo.$A.prototype.empty=function(){return this._array.length=0,this},jindo.$A.prototype.concat=function(){var a=[];if(arguments.length){a=this._array.concat();for(var b,c=0;b=arguments[c];c++)a=a.concat(b instanceof jindo.$A?b._array:b);return jindo.$A(a)}return this},jindo.$A.prototype.sort=function(a){var b=g_checkVarType(arguments,{"void":[],"4fp":["fpSort:Function+"]},"$A#sort");return a?this._array.sort(jindo.$Fn(b.fpSort,this).bind()):this._array.sort(),this},jindo.$A.Break=jindo.$Jindo.Break,jindo.$A.Continue=jindo.$Jindo.Continue,jindo.$A.prototype.map=function(a,b){function c(c){try{e.push(a.apply(b||this,jindo._p_._toArray(arguments)))}catch(d){if(!(d instanceof f.constructor.Continue))throw d;e.push(c)}}var d=g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#map");if(null==d)return this;var e=[],f=this;return this.forEach(c),jindo.$A(e)},jindo.$A.prototype.filter=function(a,b){function c(c){try{a.apply(b||f,jindo._p_._toArray(arguments))&&e.push(c)}catch(d){if(!(d instanceof f.constructor.Continue))throw d}}var d=g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#filter");if(null==d)return this;var e=[],f=this;try{this.forEach(c)}catch(g){if(!(g instanceof this.constructor.Break))throw g}return jindo.$A(e)},jindo.$A.prototype.every=function(a,b){return g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#every"),this._array.every(a,b||this)},jindo.$A.prototype.some=function(a,b){return g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#some"),this._array.some(a,b||this)},jindo.$A.prototype.refuse=function(){var a=jindo.$A(jindo._p_._toArray(arguments));return this.filter(function(b){return!(a.indexOf(b)>-1)})},jindo.$A.prototype.unique=function(){var a,b,c=this._array,d=[],e=c.length;for(a=0;e>a;a++){for(b=0;b<d.length&&c[a]!=d[b];b++);b>=d.length&&(d[b]=c[a])}return this._array=d,this},jindo.$Ajax=function(a,b){function c(){return new XMLHttpRequest}var d=arguments.callee;if(!(this instanceof d))try{return jindo.$Jindo._maxWarn(arguments.length,2,"$Ajax"),new d(a,b||{})}catch(e){if(e instanceof TypeError)return null;throw e}var f=jindo.$Ajax,g=jindo.$Error,h=jindo.$Except,i=g_checkVarType(arguments,{"4str":["sURL:String+"],"4obj":["sURL:String+","oOption:Hash+"]},"$Ajax");i+""=="for_string"&&(i.oOption={});var j=location.toString(),k="";try{k=j.match(/^https?:\/\/([a-z0-9_\-\.]+)/i)[1]}catch(e){}this._status=0,this._url=i.sURL,this._headers={},this._options={type:"xhr",method:"post",proxy:"",timeout:0,onload:function(){},onerror:null,ontimeout:function(){},jsonp_charset:"utf-8",callbackid:"",callbackname:"",async:!0,decode:!0,postBody:!1,withCredentials:!1,data:null},this._options=f._setProperties(i.oOption,this),f._validationOption(this._options,"$Ajax"),f.CONFIG&&this.option(f.CONFIG);var l=this._options;l.type=l.type.toLowerCase(),l.method=l.method.toLowerCase(),void 0===window["__"+jindo._p_.jindoName+"_callback"]&&(window["__"+jindo._p_.jindoName+"_callback"]=[],window["__"+jindo._p_.jindoName+"2_callback"]=[]);var m=this;switch(l.type){case"put":case"delete":case"get":case"post":l.method=l.type;case"xhr":this._request=c();break;case"jsonp":if(!f.JSONPRequest)throw new g(jindo._p_.jindoName+".$Ajax.JSONPRequest"+h.REQUIRE_AJAX,"$Ajax");this._request=new f.JSONPRequest(function(){return m.option.apply(m,arguments)})}this._checkCORS(this._url,l.type,"")},jindo.$Ajax.prototype._checkCORS=function(a,b,c){if(this._bCORS=!1,/^http/.test(a)&&!new RegExp("^https?://"+window.location.host,"i").test(a)&&"xhr"===b){if(!("withCredentials"in this._request))throw new jindo.$Error(jindo.$Except.NOT_SUPPORT_CORS,"$Ajax"+c);this._bCORS=!0}},jindo.$Ajax._setProperties=function(a,b){a=a||{};var c;return"put"!=a.type&&"delete"!=a.type&&"get"!=a.type&&"post"!=a.type||a.method||(a.method=a.type,c=a.type="xhr"),c=a.type=a.type||"xhr",a.onload=jindo.$Fn(a.onload||function(){},b).bind(),a.ontimeout=jindo.$Fn(a.ontimeout||function(){},b).bind(),a.onerror=jindo.$Fn(a.onerror||function(){},b).bind(),a.method=a.method||"post","xhr"==c?(a.async=void 0===a.async?!0:a.async,a.postBody=void 0===a.postBody?!1:a.postBody,a.withCredentials=void 0===a.withCredentials?!1:a.withCredentials):"jsonp"==c&&(a.method="get",a.jsonp_charset=a.jsonp_charset||"utf-8",a.callbackid=a.callbackid||"",a.callbackname=a.callbackname||""),a},jindo.$Ajax._validationOption=function(a,b){var c=(jindo.$Error,jindo.$Except),d=a.type;"jsonp"===d?"get"!==a.method&&jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n	"+b+"-method="+a.method):"flash"===d?"get"!==a.method&&"post"!==a.method&&jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n	"+b+"-method="+a.method):"xhr"===d&&a.data&&a.data.constructor!==window.FormData&&jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n	"+b+"-data="+a.data),a.postBody&&("xhr"!==d||"get"===a.method)&&jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n	"+a.method+"-postBody="+a.postBody);var e={xhr:"onload|timeout|ontimeout|onerror|async|method|postBody|type|withCredentials|data",jsonp:"onload|timeout|ontimeout|onerror|jsonp_charset|callbackid|callbackname|method|type"},f=[],g=0;for(var h in a)f[g++]=h;for(var i=e[d]||"",g=0,j=f.length;j>g;g++)-1==i.indexOf(f[g])&&jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n	"+d+"-"+f[g])},jindo.$Ajax.prototype._onload=function(){var a,b=this._request.status,c=4==this._request.readyState&&(200==b||0==b);if(4==this._request.readyState)try{!c&&jindo.$Jindo.isFunction(this._options.onerror)?this._options.onerror(new jindo.$Ajax.Response(this._request)):a=this._options.onload(new jindo.$Ajax.Response(this._request))}finally{this._status--,jindo.$Jindo.isFunction(this._oncompleted)&&this._oncompleted(c,a)}},jindo.$Ajax.prototype.request=function(a){var b=jindo.$Jindo,c=b.checkVarType(arguments,{"4voi":[],"4obj":[b._F("oData:Hash+")],"4str":["sData:String+"]},"$Ajax#request");this._status++;var d,e=this,f=this._request,g=this._options,h=[],i="",j=!1,k=null,l=this._url;this._is_abort=!1;var m=g.type.toUpperCase(),n=g.method.toUpperCase();if(g.postBody&&"XHR"==m&&"GET"!=n)i=c+""=="4str"?c.sData:c+""=="4obj"?jindo.$Json(c.oData).toString():null;else switch(c+""){case"4voi":i=null;break;case"4obj":var a=c.oData;for(var o in a)if(a.hasOwnProperty(o))if(d=a[o],b.isFunction(d)&&(d=d()),b.isArray(d)||jindo.$A&&d instanceof jindo.$A){d instanceof jindo.$A&&(d=d._array);for(var p=0;p<d.length;p++)h[h.length]=o+"="+encodeURIComponent(d[p])}else h[h.length]=o+"="+encodeURIComponent(d);i=h.join("&")}if(i&&"XHR"==m&&"GET"==n&&(l+=-1==l.indexOf("?")?"?":"&",l+=i,i=null),"XHR"==m?f.open(n,l,!!g.async):f.open(n,l),g.withCredentials&&(f.withCredentials=!0),"XHR"==m&&"POST"==n&&(g.data&&g.data.constructor===window.FormData&&(i=g.data,j=!0),f.setRequestHeader("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT")),"XHR"==m){this._headers["Content-Type"]||j||f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),this._bCORS||this._headers["X-Requested-With"]||f.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var q in this._headers)if(this._headers.hasOwnProperty(q)){if("function"==typeof this._headers[q])continue;
f.setRequestHeader(q,String(this._headers[q]))}}return f.addEventListener?(this._loadFunc&&f.removeEventListener("load",this._loadFunc,!1),this._errorFun&&f.removeEventListener("error",this._errorFun,!1),this._loadFunc=function(){clearTimeout(k),k=void 0,e._onload()},this._errorFun=function(){clearTimeout(k),k=void 0,e._options.onerror(new jindo.$Ajax.Response(e._request))},f.addEventListener("load",this._loadFunc,!1),f.addEventListener("error",this._errorFun,!1)):void 0!==f.onload?f.onload=function(){4!=f.readyState||e._is_abort||(clearTimeout(k),k=void 0,e._onload())}:f.onreadystatechange=function(){4==f.readyState&&(clearTimeout(k),k=void 0,e._onload())},g.timeout>0&&(this._timer&&clearTimeout(this._timer),k=setTimeout(function(){e._is_abort=!0,e._interval&&(clearInterval(e._interval),e._interval=void 0);try{f.abort()}catch(a){}g.ontimeout(f),b.isFunction(e._oncompleted)&&e._oncompleted(!1)},1e3*g.timeout),this._timer=k),this._test_url=l,f.send(i),this},jindo.$Ajax.prototype.isIdle=function(){return 0==this._status},jindo.$Ajax.prototype.abort=function(){try{this._interval&&clearInterval(this._interval),this._timer&&clearTimeout(this._timer),this._interval=void 0,this._timer=void 0,this._is_abort=!0,this._request.abort()}finally{this._status--}return this},jindo.$Ajax.prototype.url=function(){var a=g_checkVarType(arguments,{g:[],s:["sURL:String+"]},"$Ajax#url");switch(a+""){case"g":return this._url;case"s":return this._checkCORS(a.sURL,this._options.type,"#url"),this._url=a.sURL,this}},jindo.$Ajax.prototype.option=function(){var a=g_checkVarType(arguments,{s4var:["sKey:String+","vValue:Variant"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax#option");switch(a+""){case"s4var":a.oOption={},a.oOption[a.sKey]=a.vValue;case"s4obj":var b=a.oOption;try{for(var c in b)b.hasOwnProperty(c)&&(this._options[c]="onload"===c||"ontimeout"===c||"onerror"===c?jindo.$Fn(b[c],this).bind():b[c])}catch(d){}break;case"g":return this._options[a.sKey]}return this._checkCORS(this._url,this._options.type,"#option"),jindo.$Ajax._validationOption(this._options,"$Ajax#option"),this},jindo.$Ajax.prototype.header=function(){"jsonp"===this._options.type&&jindo.$Jindo._warn(jindo.$Except.CANNOT_USE_HEADER);var a=g_checkVarType(arguments,{s4str:["sKey:String+","sValue:String+"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax#option");switch(a+""){case"s4str":this._headers[a.sKey]=a.sValue;break;case"s4obj":var b=a.oOption;try{for(var c in b)b.hasOwnProperty(c)&&(this._headers[c]=b[c])}catch(d){}break;case"g":return this._headers[a.sKey]}return this},jindo.$Ajax.prototype.$value=function(){return this._request},jindo.$Ajax.Response=function(a){this._response=a,this._regSheild=/^for\(;;\);/},jindo.$Ajax.Response.prototype.xml=function(){return this._response.responseXML},jindo.$Ajax.Response.prototype.text=function(){return this._response.responseText.replace(this._regSheild,"")},jindo.$Ajax.Response.prototype.status=function(){var a=this._response.status;return 0==a?200:a},jindo.$Ajax.Response.prototype.readyState=function(){return this._response.readyState},jindo.$Ajax.Response.prototype.json=function(){if(this._response.responseJSON)return this._response.responseJSON;if(this._response.responseText)try{return eval("("+this.text()+")")}catch(e){throw new jindo.$Error(jindo.$Except.PARSE_ERROR,"$Ajax#json")}return{}},jindo.$Ajax.Response.prototype.header=function(a){var b=g_checkVarType(arguments,{"4str":["name:String+"],"4voi":[]},"$Ajax.Response#header");switch(b+""){case"4str":return this._response.getResponseHeader(a);case"4voi":return this._response.getAllResponseHeaders()}},jindo.$Ajax.Response.prototype.$value=function(){return this._response};var klass=jindo.$Class;jindo.$Ajax.RequestBase=klass({_respHeaderString:"",callbackid:"",callbackname:"",responseXML:null,responseJSON:null,responseText:"",status:404,readyState:0,$init:function(){},onload:function(){},abort:function(){},open:function(){},send:function(){},setRequestHeader:function(a,b){g_checkVarType(arguments,{"4str":["sName:String+","sValue:String+"]},"$Ajax.RequestBase#setRequestHeader"),this._headers[a]=b},getResponseHeader:function(a){return g_checkVarType(arguments,{"4str":["sName:String+"]},"$Ajax.RequestBase#getResponseHeader"),this._respHeaders[a]||""},getAllResponseHeaders:function(){return this._respHeaderString},_getCallbackInfo:function(){var a="";if(this.option("callbackid")&&""!=this.option("callbackid")){var b=0;do a="_"+this.option("callbackid")+"_"+b,b++;while(window["__"+jindo._p_.jindoName+"_callback"][a])}else do a="_"+Math.floor(1e4*Math.random());while(window["__"+jindo._p_.jindoName+"_callback"][a]);return""==this.option("callbackname")&&this.option("callbackname","_callback"),{callbackname:this.option("callbackname"),id:a,name:"window.__"+jindo._p_.jindoName+"_callback."+a}}}),jindo.$Ajax.JSONPRequest=klass({_headers:{},_respHeaders:{},_script:null,_onerror:null,$init:function(a){this.option=a},_callback:function(a){this._onerror&&(clearTimeout(this._onerror),this._onerror=null);var b=this;this.responseJSON=a,this.onload(this),setTimeout(function(){b.abort()},10)},abort:function(){if(this._script)try{this._script.parentNode.removeChild(this._script)}catch(a){}},open:function(a,b){g_checkVarType(arguments,{"4str":["method:String+","url:String+"]},"$Ajax.JSONPRequest#open"),this.responseJSON=null,this._url=b},send:function(a){var b=g_checkVarType(arguments,{"4voi":[],"4nul":["data:Null"],"4str":["data:String+"]},"$Ajax.JSONPRequest#send"),c=this,d=this._getCallbackInfo(),e=document.getElementsByTagName("head")[0];this._script=document.createElement("script"),this._script.type="text/javascript",this._script.charset=this.option("jsonp_charset"),e?e.appendChild(this._script):document.body&&document.body.appendChild(this._script),window["__"+jindo._p_.jindoName+"_callback"][d.id]=function(a){try{c.readyState=4,c.status=200,c._callback(a)}finally{delete window["__"+jindo._p_.jindoName+"_callback"][d.id],delete window["__"+jindo._p_.jindoName+"2_callback"][d.id]}},window["__"+jindo._p_.jindoName+"2_callback"][d.id]=function(a){window["__"+jindo._p_.jindoName+"_callback"][d.id](a)};var f=function(){c.responseJSON||(c.readyState=4,c.status=500,c._onerror=setTimeout(function(){c._callback(null)},200))};this._script.onload=this._script.onerror=function(){f(),this.onerror=null,this.onload=null};var g="&";switch(-1==this._url.indexOf("?")&&(g="?"),b+""){case"4voi":case"4nul":a="";break;case"4str":a="&"+a}this._test_url=this._script.src=this._url+g+d.callbackname+"="+d.name+a}}).extend(jindo.$Ajax.RequestBase),jindo.$Ajax.Queue=function(a){var b=arguments.callee;if(!(this instanceof b))return new b(a||{});var c=g_checkVarType(arguments,{"4voi":[],"4obj":["option:Hash+"]},"$Ajax.Queue");a=c.option,this._options={async:!1,useResultAsParam:!1,stopOnFailure:!1},this.option(a),this._queue=[]},jindo.$Ajax.Queue.prototype.option=function(){var a=g_checkVarType(arguments,{s4str:["sKey:String+","sValue:Variant"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax.Queue#option");switch(a+""){case"s4str":this._options[a.sKey]=a.sValue;break;case"s4obj":var b=a.oOption;try{for(var c in b)b.hasOwnProperty(c)&&(this._options[c]=b[c])}catch(d){}break;case"g":return this._options[a.sKey]}return this},jindo.$Ajax.Queue.prototype.add=function(a,b){var c=g_checkVarType(arguments,{"4obj":["oAjax:Hash+"],"4obj2":["oAjax:Hash+","oPram:Hash+"]},"$Ajax.Queue");switch(c+""){case"4obj2":b=c.oPram}return this._queue.push({obj:a,param:b}),this},jindo.$Ajax.Queue.prototype.request=function(){return this._requestAsync.apply(this,this.option("async")?[]:[0]),this},jindo.$Ajax.Queue.prototype._requestSync=function(a,b){var c=this,d=this._queue;d.length>a+1&&(d[a].obj._oncompleted=function(b,d){(!c.option("stopOnFailure")||b)&&c._requestSync(a+1,d)});var e=d[a].param||{};if(this.option("useResultAsParam")&&b)try{for(var f in b)void 0===e[f]&&b.hasOwnProperty(f)&&(e[f]=b[f])}catch(g){}d[a].obj.request(e)},jindo.$Ajax.Queue.prototype._requestAsync=function(){for(var a=0;a<this._queue.length;a++)this._queue[a].obj.request(this._queue[a].param||{})},jindo.$H=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$H"),new b(a||{})}catch(c){if(c instanceof TypeError)return null;throw c}g_checkVarType(arguments,{"4obj":["oObj:Hash+"],"4vod":[]},"$H");this._table={};for(var d in a)a.hasOwnProperty(d)&&(this._table[d]=a[d])},jindo.$H.prototype.$value=function(){return this._table},jindo.$H.prototype.$=function(a,b){var c=g_checkVarType(arguments,{s4var:[jindo.$Jindo._F("key:String+"),"value:Variant"],s4var2:["key:Numeric","value:Variant"],g4str:["key:String+"],s4obj:["oObj:Hash+"],g4num:["key:Numeric"]},"$H#$");switch(c+""){case"s4var":case"s4var2":return this._table[a]=b,this;case"s4obj":var d=c.oObj;for(var e in d)d.hasOwnProperty(e)&&(this._table[e]=d[e]);return this;default:return this._table[a]}},jindo.$H.prototype.length=function(){var a=0,b=this.__jindo_sorted_index;if(b)return b.length;for(var c in this._table)if(this._table.hasOwnProperty(c)){if(void 0!==Object.prototype[c]&&Object.prototype[c]===this._table[c])continue;a++}return a},jindo.$H.prototype.forEach=function(a,b){var c=(g_checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#forEach"),this._table),d=this.constructor,e=this.__jindo_sorted_index;if(e)for(var f=0,g=e.length;g>f;f++)try{var h=e[f];a.call(b||this,c[h],h,c)}catch(i){if(i instanceof d.Break)break;if(i instanceof d.Continue)continue;throw i}else for(var h in c)if(c.hasOwnProperty(h)){if(!c.propertyIsEnumerable(h))continue;try{a.call(b||this,c[h],h,c)}catch(i){if(i instanceof d.Break)break;if(i instanceof d.Continue)continue;throw i}}return this},jindo.$H.prototype.filter=function(a,b){var c=(g_checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#filter"),jindo.$H()),d=this._table,e=this.constructor;for(var f in d)if(d.hasOwnProperty(f)){if(!d.propertyIsEnumerable(f))continue;try{a.call(b||this,d[f],f,d)&&c.add(f,d[f])}catch(g){if(g instanceof e.Break)break;if(g instanceof e.Continue)continue;throw g}}return c},jindo.$H.prototype.map=function(a,b){var c=(g_checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#map"),jindo.$H()),d=this._table,e=this.constructor;for(var f in d)if(d.hasOwnProperty(f)){if(!d.propertyIsEnumerable(f))continue;try{c.add(f,a.call(b||this,d[f],f,d))}catch(g){if(g instanceof e.Break)break;if(!(g instanceof e.Continue))throw g;c.add(f,d[f])}}return c},jindo.$H.prototype.add=function(a,b){var c=(g_checkVarType(arguments,{"4str":["key:String+","value:Variant"],"4num":["key:Numeric","value:Variant"]},"$H#add"),this.__jindo_sorted_index);return c&&void 0==this._table[a]&&this.__jindo_sorted_index.push(a),this._table[a]=b,this},jindo.$H.prototype.remove=function(a){g_checkVarType(arguments,{"4str":["key:String+"],"4num":["key:Numeric"]},"$H#remove");if(void 0===this._table[a])return null;var b=this._table[a];delete this._table[a];var c=this.__jindo_sorted_index;if(c){for(var d=[],e=0,f=c.length;f>e;e++)c[e]!=a&&d.push(c[e]);this.__jindo_sorted_index=d}return b},jindo.$H.prototype.search=function(a){var b=(g_checkVarType(arguments,{"4str":["value:Variant"]},"$H#search"),!1),c=this._table;for(var d in c)if(c.hasOwnProperty(d)){if(!c.propertyIsEnumerable(d))continue;var e=c[d];if(e===a){b=d;break}}return b},jindo.$H.prototype.hasKey=function(a){g_checkVarType(arguments,{"4str":["key:String+"],"4num":["key:Numeric"]},"$H#hasKey");return void 0!==this._table[a]},jindo.$H.prototype.hasValue=function(a){g_checkVarType(arguments,{"4str":["value:Variant"]},"$H#hasValue");return this.search(a)!==!1},jindo._p_.defaultSort=function(a,b,c){var d=[],e=a.fpSort;for(var f in b._table)b._table.hasOwnProperty(f)&&!function(a,b){d.push({key:a,val:b})}(f,b._table[f]);a+""=="vo"&&(e=function(a,b){return a===b?0:a>b?1:-1}),d.sort(function(a,d){return e.call(b,a[c],d[c])});for(var g=[],h=0,i=d.length;i>h;h++)g.push(d[h].key);return g},jindo.$H.prototype.sort=function(){var a=g_checkVarType(arguments,{vo:[],"4fp":["fpSort:Function+"]},"$H#sort");return this.__jindo_sorted_index=jindo._p_.defaultSort(a,this,"val"),this},jindo.$H.prototype.ksort=function(){var a=g_checkVarType(arguments,{vo:[],"4fp":["fpSort:Function+"]},"$H#ksort");return this.__jindo_sorted_index=jindo._p_.defaultSort(a,this,"key"),this},jindo.$H.prototype.keys=function(){var a=this.__jindo_sorted_index;if(!a)if(Object.keys)a=Object.keys(this._table);else{a=[];for(var b in this._table)this._table.hasOwnProperty(b)&&a.push(b)}return a},jindo.$H.prototype.values=function(){var a=[];for(var b in this._table)this._table.hasOwnProperty(b)&&(a[a.length]=this._table[b]);return a},jindo.$H.prototype.toQueryString=function(){var a=[],b=null;for(var c in this._table)if(this._table.hasOwnProperty(c))if(b=this._table[c],jindo.$Jindo.isArray(b))for(var d=0;d<b.length;d++)a[a.length]=encodeURIComponent(c)+"[]="+encodeURIComponent(b[d]+"");else a[a.length]=encodeURIComponent(c)+"="+encodeURIComponent(this._table[c]+"");return a.join("&")},jindo.$H.prototype.empty=function(){return this._table={},delete this.__jindo_sorted_index,this},jindo.$H.Break=jindo.$Jindo.Break,jindo.$H.Continue=jindo.$Jindo.Continue,jindo.$Json=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$Json"),new b(arguments.length?a:{})}catch(c){if(c instanceof TypeError)return null;throw c}g_checkVarType(arguments,{"4var":["oObject:Variant"]},"$Json"),this._object=a},jindo.$Json._oldMakeJSON=function(sObject,sType){try{if(!jindo.$Jindo.isString(sObject)||!/^(?:\s*)[\{\[]/.test(sObject))return sObject;sObject=eval("("+sObject+")")}catch(e){throw new jindo.$Error(jindo.$Except.PARSE_ERROR,sType)}return sObject},jindo.$Json.fromXML=function(a){var b=jindo.$Jindo,c=(b.checkVarType(arguments,{"4str":["sXML:String+"]},"<static> $Json#fromXML"),{}),d=/\s*<(\/?[\w:\-]+)((?:\s+[\w:\-]+\s*=\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'))*)\s*((?:\/>)|(?:><\/\1>|\s*))|\s*<!\[CDATA\[([\w\W]*?)\]\]>\s*|\s*>?([^<]*)/gi,e=/^[0-9]+(?:\.[0-9]+)?$/,f={"&amp;":"&","&nbsp;":" ","&quot;":'"',"&lt;":"<","&gt;":">"},g={tags:["/"],stack:[c]},h=function(a){return b.isUndefined(a)?"":a.replace(/&[a-z]+;/g,function(a){return b.isString(f[a])?f[a]:a})},i=function(a,b){a.replace(/([\w\:\-]+)\s*=\s*(?:"((?:\\"|[^"])*)"|'((?:\\'|[^'])*)')/g,function(a,c,d,e){b[c]=h((d?d.replace(/\\"/g,'"'):void 0)||(e?e.replace(/\\'/g,"'"):void 0))})},j=function(a){for(var b in a)if(a.hasOwnProperty(b)){if(Object.prototype[b])continue;return!1}return!0},k=function(a,c,d,f,k,l){var m,n="",o=g.stack.length-1;if(b.isString(c)&&c)if("/"!=c.substr(0,1)){var p="string"==typeof d&&d,q="string"==typeof f&&f,r=!p&&q?"":{};if(m=g.stack[o],b.isUndefined(m[c]))m[c]=r,m=g.stack[o+1]=m[c];else if(m[c]instanceof Array){var s=m[c].length;m[c][s]=r,m=g.stack[o+1]=m[c][s]}else m[c]=[m[c],r],m=g.stack[o+1]=m[c][1];p&&i(d,m),g.tags[o+1]=c,q&&(g.tags.length--,g.stack.length--)}else g.tags.length--,g.stack.length--;else b.isString(k)&&k?n=k:b.isString(l)&&l&&(n=h(l));if(n.replace(/^\s+/g,"").length>0){var t=g.stack[o-1],u=g.tags[o];if(e.test(n)?n=parseFloat(n):"true"==n?n=!0:"false"==n&&(n=!1),b.isUndefined(t))return;if(t[u]instanceof Array){var v=t[u];b.isHash(v[v.length-1])&&!j(v[v.length-1])?(v[v.length-1].$cdata=n,v[v.length-1].toString=function(){return n}):v[v.length-1]=n}else b.isHash(t[u])&&!j(t[u])?(t[u].$cdata=n,t[u].toString=function(){return n}):t[u]=n}};return a=a.replace(/<(\?|\!-)[^>]*>/g,""),a.replace(d,k),jindo.$Json(c)},jindo.$Json.prototype.get=function(a){var b=jindo.$Jindo,c=(b.checkVarType(arguments,{"4str":["sPath:String+"]},"$Json#get"),jindo.$Json._oldMakeJSON(this._object,"$Json#get"));if(!b.isHash(c)&&!b.isArray(c))throw new jindo.$Error(jindo.$Except.JSON_MUST_HAVE_ARRAY_HASH,"$Json#get");for(var d,e,f,g,h,i=a.split("/"),j=/^([\w:\-]+)\[([0-9]+)\]$/,k=[[c]],l=k[0],m=i.length,n=0;m>n;n++)if("."!=i[n]&&""!=i[n]){if(".."==i[n])k.length--;else{if(f=[],e=-1,d=l.length,0==d)return[];for(j.test(i[n])&&(e=+RegExp.$2),g=0;d>g;g++)h=l[g][i[n]],b.isUndefined(h)||(b.isArray(h)?e>-1?e<h.length&&(f[f.length]=h[e]):f=f.concat(h):-1==e&&(f[f.length]=h));k[k.length]=f}l=k[k.length-1]}return l},jindo.$Json.prototype.toString=function(){return jindo.$Json._oldToString(this._object)},jindo.$Json._oldToString=function(a){var b=jindo.$Jindo,c={$:function(a){return b.isNull(a)||!b.isString(a)&&1/0==a?"null":b.isFunction(a)?void 0:b.isUndefined(a)?void 0:b.isBoolean(a)?a?"true":"false":b.isString(a)?this.s(a):b.isNumeric(a)?a:b.isArray(a)?this.a(a):b.isHash(a)?this.o(a):b.isDate(a)?a+"":"object"==typeof a||b.isRegExp(a)?"{}":isNaN(a)?"null":void 0},s:function(a){var b={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","	":"\\t"},c=function(a){return void 0!==b[a]?b[a]:a};return'"'+a.replace(/[\\"'\n\r\t]/g,c)+'"'},a:function(a){for(var c="[",d="",e=a.length,f=0;e>f;f++)b.isFunction(a[f])||(c+=d+this.$(a[f]),d||(d=","));return c+"]"},o:function(a){a=jindo.$H(a).ksort().$value();var c="{",d="";for(var e in a)if(a.hasOwnProperty(e)){if(b.isUndefined(a[e])||b.isFunction(a[e]))continue;c+=d+this.s(e)+":"+this.$(a[e]),d||(d=",")}return c+"}"}};return c.$(a)},jindo.$Json.prototype.toXML=function(){var a=function(b,c){var d=function(a,b){return"<"+c+(b||"")+">"+a+"</"+c+">"};switch(typeof b){case"undefined":case"null":return d("");case"number":return d(b);case"string":return d(b.indexOf("<")<0?b.replace(/&/g,"&amp;"):"<![CDATA["+b+"]]>");case"boolean":return d(String(b));case"object":var e="";if(b instanceof Array)for(var f=b.length,g=0;f>g;g++)e+=a(b[g],c);else{var h="";for(var i in b)if(b.hasOwnProperty(i)){if("$cdata"==i||"function"==typeof b[i])continue;e+=a(b[i],i)}c&&(e=d(e,h))}return e}};return a(jindo.$Json._oldMakeJSON(this._object,"$Json#toXML"),"")},jindo.$Json.prototype.toObject=function(){return jindo.$Json._oldMakeJSON(this._object,"$Json#toObject")},jindo.$Json.prototype.compare=function(a){function b(a,b){if(c.isArray(a)){if(a.length!==b.length)return!1;for(var d=0,e=a.length;e>d;d++)if(!arguments.callee(a[d],b[d]))return!1;return!0}if(c.isRegExp(a)||c.isFunction(a)||c.isDate(a))return String(a)===String(b);if("number"==typeof a&&isNaN(a))return isNaN(b);if(c.isHash(a)){var e=0;for(var f in a)e++;for(var f in b)e--;if(0!==e)return!1;for(var f in a)if(f in b==!1||!arguments.callee(a[f],b[f]))return!1;return!0}return a===b}{var c=jindo.$Jindo;c.checkVarType(arguments,{"4obj":["oData:Hash+"],"4arr":["oData:Array+"]},"$Json#compare")}try{return b(jindo.$Json._oldMakeJSON(this._object,"$Json#compare"),a)}catch(d){return!1}},jindo.$Json.prototype.$value=jindo.$Json.prototype.toObject,jindo.$Cookie=function(){{var a=arguments.callee;a._cached}if(a._cached)return a._cached;if(!(this instanceof a))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$Cookie"),arguments.length>0?new a(arguments[0]):new a}catch(b){if(b instanceof TypeError)return null;throw b}if(!(this instanceof a))return new a;a._cached=this;var c=jindo.$Jindo.checkVarType(arguments,{"4voi":[],"4bln":["bURIComponent:Boolean"]},"$Cookie");switch(c+""){case"4voi":this._bURIComponent=!1;break;case"4bln":this._bURIComponent=c.bURIComponent}},jindo.$Cookie.prototype.keys=function(){for(var a=document.cookie.split(";"),b=/^\s+|\s+$/g,c=new Array,d=0;d<a.length;d++)c[c.length]=a[d].substr(0,a[d].indexOf("=")).replace(b,"");return c},jindo.$Cookie.prototype.get=function(a){for(var b,c,d=(jindo.$Jindo.checkVarType(arguments,{"4str":["sName:String+"]},"$Cookie#get"),document.cookie.split(/\s*;\s*/)),e=new RegExp("^(\\s*"+a+"\\s*=)"),f=0;f<d.length;f++)if(e.test(d[f]))return b=d[f].substr(RegExp.$1.length),c=this._bURIComponent&&jindo.$Jindo.isNull(b.match(/%u\w{4}/))?decodeURIComponent(b):unescape(b);return null},jindo.$Cookie.prototype.set=function(a,b,c,d,e){var f,g=jindo.$Jindo,h=g.checkVarType(arguments,{"4str":["sName:String+","sValue:String+"],day_for_string:["sName:String+","sValue:String+","nDays:Numeric"],domain_for_string:["sName:String+","sValue:String+","nDays:Numeric","sDomain:String+"],path_for_string:["sName:String+","sValue:String+","nDays:Numeric","sDomain:String+","sPath:String+"],"4num":["sName:String+","sValue:Numeric"],day_for_num:["sName:String+","sValue:Numeric","nDays:Numeric"],domain_for_num:["sName:String+","sValue:Numeric","nDays:Numeric","sDomain:String+"],path_for_num:["sName:String+","sValue:Numeric","nDays:Numeric","sDomain:String+","sPath:String+"]},"$Cookie#set"),i="";return h+""!="4str"&&0!==c&&(i=";expires="+new Date((new Date).getTime()+1e3*c*60*60*24).toGMTString()),g.isUndefined(d)&&(d=""),g.isUndefined(e)&&(e="/"),f=this._bURIComponent?encodeURIComponent(b):escape(b),document.cookie=a+"="+f+i+"; path="+e+(d?"; domain="+d:""),this},jindo.$Cookie.prototype.remove=function(a){for(var b=jindo.$Jindo,c=(b.checkVarType(arguments,{"4str":["sName:String+"],domain_for_string:["sName:String+","sDomain:String+"],path_for_string:["sName:String+","sDomain:String+","sPath:String+"]},"$Cookie#remove"),jindo._p_._toArray(arguments)),d=[],e=0,f=c.length;f>e;e++)d.push(c[e]),0==e&&(d.push(""),d.push(-1));return b.isNull(this.get(a))||this.set.apply(this,d),this},jindo.$Event=function(a){var b=arguments.callee;return a instanceof b?a:this instanceof b?(this._event=this._posEvent=a,this._globalEvent=window.event,this.type=a.type.toLowerCase(),"dommousescroll"==this.type?this.type="mousewheel":"domcontentloaded"==this.type&&(this.type="domready"),this.realType=this.type,this.isTouch=!1,this.type.indexOf("touch")>-1&&(this._posEvent=a.changedTouches[0],this.isTouch=!0),this.canceled=!1,this.srcElement=this.element=a.target||a.srcElement,this.currentElement=a.currentTarget,this.relatedElement=null,this.delegatedElement=null,void(jindo.$Jindo.isUndefined(a.relatedTarget)?a.fromElement&&a.toElement&&(this.relatedElement=a["mouseout"==this.type?"toElement":"fromElement"]):this.relatedElement=a.relatedTarget)):new b(a)},jindo._p_.customEvent={},jindo._p_.customEventStore={},jindo._p_.normalCustomEvent={},jindo._p_.hasCustomEvent=function(a){return!(!jindo._p_.getCustomEvent(a)&&!jindo._p_.normalCustomEvent[a])},jindo._p_.getCustomEvent=function(a){return jindo._p_.customEvent[a]},jindo._p_.addCustomEventListener=function(a,b,c,d,e){jindo._p_.customEventStore[b]||(jindo._p_.customEventStore[b]={},jindo._p_.customEventStore[b].ele=a),jindo._p_.customEventStore[b][c]||(jindo._p_.customEventStore[b][c]={}),jindo._p_.customEventStore[b][c][d]||(jindo._p_.customEventStore[b][c][d]={custom:e})},jindo._p_.setCustomEventListener=function(a,b,c,d,e){jindo._p_.customEventStore[a][b][c].real_listener=d,jindo._p_.customEventStore[a][b][c].wrap_listener=e},jindo._p_.getCustomEventListener=function(a,b,c){var d=jindo._p_.customEventStore[a];return d&&d[b]&&d[b][c]?d[b][c]:{}},jindo._p_.getNormalEventListener=function(a,b,c){var d=jindo._p_.normalCustomEvent[b];return d&&d[a]&&d[a][c]?d[a][c]:{}},jindo._p_.hasCustomEventListener=function(a,b,c){var d=jindo._p_.customEventStore[a];return d&&d[b]&&d[b][c]?!0:!1},jindo.$Event.customEvent=function(a,b){var c=g_checkVarType(arguments,{s4str:["sName:String+"],s4obj:["sName:String+","oEvent:Hash+"]},"$Event.customEvent");switch(c+""){case"s4str":if(jindo._p_.hasCustomEvent(a))throw new jindo.$Error("The Custom Event Name have to unique.");return jindo._p_.normalCustomEvent[a]={},this;case"s4obj":if(jindo._p_.hasCustomEvent(a))throw new jindo.$Error("The Custom Event Name have to unique.");jindo._p_.normalCustomEvent[a]={},jindo._p_.customEvent[a]=function(){this.name=a,this.real_listener=[],this.wrap_listener=[]};var d=jindo._p_.customEvent[a].prototype;d.events=[];for(var e in b)d[e]=b[e],d.events.push(e);return jindo._p_.customEvent[a].prototype.fireEvent=function(a){for(var b=0,c=this.wrap_listener.length;c>b;b++)this.wrap_listener[b](a)},this}},jindo.$Event.prototype.mouse=function(){var a=this._event,b=(this.srcElement,0),c={};return a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),c={delta:b},this.mouse=function(){return c},c},jindo.$Event.prototype.key=function(){var a=this._event,b=a.keyCode||a.charCode,c={keyCode:b,alt:a.altKey,ctrl:a.ctrlKey,meta:a.metaKey,shift:a.shiftKey,up:38==b,down:40==b,left:37==b,right:39==b,enter:13==b,esc:27==b};return this.key=function(){return c},c},jindo.$Event.prototype.pos=function(a){g_checkVarType(arguments,{voi:[],bol:["bGetOffset:Boolean"]});var b=this._posEvent,c=this.srcElement.ownerDocument||document,d=c.body,e=c.documentElement,f=[d.scrollLeft||e.scrollLeft,d.scrollTop||e.scrollTop],g={clientX:b.clientX,clientY:b.clientY,pageX:"pageX"in b?b.pageX:b.clientX+f[0]-d.clientLeft,pageY:"pageY"in b?b.pageY:b.clientY+f[1]-d.clientTop};if(a&&jindo.$Element){var h=jindo.$Element(this.srcElement).offset();g.offsetX=g.pageX-h.left,g.offsetY=g.pageY-h.top}return g},jindo.$Event.prototype.stop=function(a){g_checkVarType(arguments,{voi:[],num:["nCancel:Numeric"]}),a=a||jindo.$Event.CANCEL_ALL;var b=window.event&&window.event==this._globalEvent?this._globalEvent:this._event,c=!!(a&jindo.$Event.CANCEL_BUBBLE),d=!!(a&jindo.$Event.CANCEL_DEFAULT),e=this.realType;return!c||"focusin"!==e&&"focusout"!==e||jindo.$Jindo._warn("The "+e+" event can't stop bubble."),this.canceled=!0,d&&void 0!==b.preventDefault&&b.preventDefault(),c&&void 0!==b.stopPropagation&&b.stopPropagation(),this},jindo.$Event.prototype.stopDefault=function(){return this.stop(jindo.$Event.CANCEL_DEFAULT)},jindo.$Event.prototype.stopBubble=function(){return this.stop(jindo.$Event.CANCEL_BUBBLE)},jindo.$Event.CANCEL_BUBBLE=1,jindo.$Event.CANCEL_DEFAULT=2,jindo.$Event.CANCEL_ALL=3,jindo.$Event.prototype.$value=function(){return this._event},function(a){for(var b="Touch",c="",d=0,e=a.length;e>d;d++)c=a[d]+b,a[d]||(c=c.toLowerCase()),jindo.$Event.prototype[c]=function(a){return function(){if(this.isTouch){for(var b,c=[],d=this._event[a+"es"],e=d.length,f=0;e>f;f++)b=d[f],c.push({id:b.identifier,event:this,element:b.target,_posEvent:b,pos:jindo.$Event.prototype.pos});this[a]=function(b){var d=g_checkVarType(arguments,{"void":[],"4num":["nIndex:Numeric"]},"$Event#"+a);return d+""=="void"?c:c[b]}}else this[a]=function(){throw new jindo.$Error(jindo.$Except.NOT_SUPPORT_METHOD,"$Event#"+a)};return this[a].apply(this,jindo._p_._toArray(arguments))}}(c)}(["changed","target",""]),jindo.$Element=function(a){var b=arguments.callee;if(a&&a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$Element"),new b(a)}catch(c){if(c instanceof TypeError)return null;throw c}var d=jindo.$Jindo,e=d.checkVarType(arguments,{"4str":["sID:String+"],"4nod":["oEle:Node"],"4doc":["oEle:Document+"],"4win":["oEle:Window+"]},"$Element");switch(e+""){case"4str":a=jindo.$(a);break;default:a=e.oEle}if(this._element=a,null==this._element)throw new TypeError("{not_found_element}");this._element.__jindo__id?this._key=this._element.__jindo__id:this._element.__jindo__id=this._key=jindo._p_._makeRandom(),this.tag=(this._element.tagName||"").toLowerCase()},jindo._p_.NONE_GROUP="_jindo_event_none",jindo._p_.splitEventSelector=function(a){var b=a.match(/^([a-z_]*)(.*)/i),c=jindo._p_.trim(b[1]),d=jindo._p_.trim(b[2].replace("@",""));return{type:d?"delegate":"normal",event:c,selector:d}},jindo._p_._makeRandom=function(){return"e"+(new Date).getTime()+parseInt(1e8*Math.random(),10)},jindo._p_.releaseEventHandlerForAllChildren=function(a){var b,c=a._element.all||a._element.getElementsByTagName("*"),d=c.length,e=null;for(b=0;d>b;b++)e=c[b],1==e.nodeType&&e.__jindo__id&&jindo.$Element.eventManager.cleanUpUsingKey(e.__jindo__id,!0);c=e=null},jindo._p_.canUseClassList=function(){return jindo._p_.canUseClassList=function(){return"classList"in document.body&&"classList"in document.createElementNS("http://www.w3.org/2000/svg","g")},jindo._p_.canUseClassList()},jindo._p_.vendorPrefixObj={"-moz":"Moz","-ms":"ms","-o":"O","-webkit":"webkit"},jindo._p_.cssNameToJavaScriptName=function(a){if(/^(\-(?:moz|ms|o|webkit))/.test(a)){var b=RegExp.$1;a=a.replace(b,jindo._p_.vendorPrefixObj[b])}return a.replace(/(:?-(\w))/g,function(a,a,b){return b.toUpperCase()})},jindo._p_.getStyleIncludeVendorPrefix=function(a){for(var b=["Transition","Transform","Animation","Perspective"],c=["webkit","-","Moz","O","ms"],d="",e="",f="",g={},h=a||document.body.style,i=0,j=b.length;j>i;i++){d=b[i];for(var k=0,l=c.length;l>k;k++){if(e=c[k],f="-"!=e?e+d:d.toLowerCase(),"undefined"!=typeof h[f]){g[d.toLowerCase()]=f;break}g[d.toLowerCase()]=!1}}return a?g:(jindo._p_.getStyleIncludeVendorPrefix=function(){return g},jindo._p_.getStyleIncludeVendorPrefix())},jindo._p_.getTransformStringForValue=function(a){var b=jindo._p_.getStyleIncludeVendorPrefix(a),c=b.transform;return"MozTransform"===b.transform?c="-moz-transform":"webkitTransform"===b.transform?c="-webkit-transform":"OTransform"===b.transform?c="-o-transform":"msTransform"===b.transform&&(c="-ms-transform"),a?c:(jindo._p_.getTransformStringForValue=function(){return c},jindo._p_.getTransformStringForValue())},jindo._p_.setOpacity=function(a,b){a.offsetHeight,a.style.opacity=b},jindo.$Element._eventBind=function(a,b,c,d){a.addEventListener(b,c,!!d)},jindo.$Element._unEventBind=function(a,b,c){a.removeEventListener(b,c,!1)},jindo.$Element.prototype.$value=function(){return this._element},jindo.$Element.prototype.visible=function(a,b){var c=g_checkVarType(arguments,{g:[],s4bln:[jindo.$Jindo._F("bVisible:Boolean")],s4str:["bVisible:Boolean","sDisplay:String+"]},"$Element#visible");switch(c+""){case"g":return"none"!=this._getCss(this._element,"display");case"s4bln":return this[a?"show":"hide"](),this;case"s4str":return this[a?"show":"hide"](b),this}},jindo.$Element.prototype.show=function(a){var b=g_checkVarType(arguments,{"4voi":[],"4str":["sDisplay:String+"]},"$Element#show"),c=this._element.style,d="block",e={p:d,div:d,form:d,h1:d,h2:d,h3:d,h4:d,ol:d,ul:d,fieldset:d,td:"table-cell",th:"table-cell",li:"list-item",table:"table",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",col:"table-column",colgroup:"table-column-group",caption:"table-caption",dl:d,dt:d,dd:d};try{switch(b+""){case"4voi":var f=e[this.tag];c.display=f||"inline";break;case"4str":c.display=a}}catch(g){c.display="block"}return this},jindo.$Element.prototype.hide=function(){return this._element.style.display="none",this},jindo.$Element.prototype.toggle=function(){g_checkVarType(arguments,{"4voi":[],"4str":["sDisplay:String+"]},"$Element#toggle");return this["none"==this._getCss(this._element,"display")?"show":"hide"].apply(this,arguments),this},jindo.$Element.prototype.opacity=function(a){var b,c=g_checkVarType(arguments,{g:[],s:["nOpacity:Numeric"],str:["sOpacity:String"]},"$Element#opacity"),d=this._element,e="none"!=this._getCss(d,"display");switch(c+""){case"g":return e="none"!=this._getCss(d,"display"),(b=d.style.opacity).length||(b=this._getCss(d,"opacity")),b=parseFloat(b),isNaN(b)&&(b=e?1:0),b;case"s":return a=c.nOpacity,d.style.zoom=1,a=Math.max(Math.min(a,1),0),d.style.opacity=a,this;case"str":return""===a&&(d.style.zoom=d.style.opacity=""),this}},jindo._p_._revisionCSSAttr=function(a,b){var c=jindo.$Element.hook(a);return a=c?c:jindo._p_.cssNameToJavaScriptName(a).replace(/^(animation|perspective|transform|transition)/i,function(a){return b[a.toLowerCase()]})},jindo._p_.changeTransformValue=function(a,b){return(a+"").replace(/([\s|-]*)(?:transform)/,function(a,c){return jindo._p_.trim(c).length>0?a:c+jindo._p_.getTransformStringForValue(b)})},jindo.$Element.prototype.css=function(a,b){var c=g_checkVarType(arguments,{g:["sName:String+"],s4str:[jindo.$Jindo._F("sName:String+"),jindo.$Jindo._F("vValue:String+")],s4num:["sName:String+","vValue:Numeric"],s4obj:["oObj:Hash+"]},"$Element#css"),d=this._element;switch(c+""){case"s4str":case"s4num":var e={};a=jindo._p_._revisionCSSAttr(a,jindo._p_.getStyleIncludeVendorPrefix()),e[a]=b,a=e;
break;case"s4obj":a=c.oObj;var e={},f=jindo._p_.getStyleIncludeVendorPrefix();for(var g in a)a.hasOwnProperty(g)&&(e[jindo._p_._revisionCSSAttr(g,f)]=a[g]);a=e;break;case"g":var f=jindo._p_.getStyleIncludeVendorPrefix();a=jindo._p_._revisionCSSAttr(a,f);var h=this._getCss;if("opacity"==a)return this.opacity();if("padding"==a||"margin"==a){var i=h(d,a+"Top"),j=h(d,a+"Right"),k=h(d,a+"Bottom"),l=h(d,a+"Left");return i==j&&k==l?i:i==k&&j==l?i+" "+j:i+" "+j+" "+k+" "+l}return h(d,a)}var m;for(var n in a)if(a.hasOwnProperty(n)){if(m=a[n],!jindo.$Jindo.isString(m)&&!jindo.$Jindo.isNumeric(m))continue;if("opacity"==n){this.opacity(m);continue}if("backgroundPositionX"==n||"backgroundPositionY"==n){var o=this.css("backgroundPosition").split(/\s+/);m="backgroundPositionX"==n?m+" "+o[1]:o[0]+" "+m,this._setCss(d,"backgroundPosition",m)}else this._setCss(d,n,/transition/i.test(n)?jindo._p_.changeTransformValue(m):m)}return this},jindo.$Element.prototype._getCss=function(a,b){try{"cssFloat"==b&&(b="float");var c=a.ownerDocument||a.document||document,d=a.style[b];if(!a.style[b]){var e=c.defaultView.getComputedStyle(a,null);b=b.replace(/([A-Z])/g,"-$1").replace(/^(webkit|ms)/g,"-$1").toLowerCase(),d=e.getPropertyValue(b),d=void 0===d?e[b]:d}return"textDecoration"==b&&(d=d.replace(",","")),d}catch(f){throw new jindo.$Error((a.tagName||"document")+jindo.$Except.NOT_USE_CSS,"$Element#css")}},jindo.$Element.prototype._setCss=function(a,b,c){a.style[b]="#top#left#right#bottom#".indexOf(b+"#")>0&&("number"==typeof c||/\d$/.test(c))?parseInt(c,10)+"px":c},jindo.$Element.prototype.attr=function(a,b){var c,d,e,f,g,h=g_checkVarType(arguments,{g:["sName:String+"],s4str:["sName:String+","vValue:String+"],s4num:["sName:String+","vValue:Numeric"],s4nul:["sName:String+","vValue:Null"],s4bln:["sName:String+","vValue:Boolean"],s4arr:["sName:String+","vValue:Array+"],s4obj:[jindo.$Jindo._F("oObj:Hash+")]},"$Element#attr"),i=this._element,j=null;switch(h+""){case"s4str":case"s4nul":case"s4num":case"s4bln":case"s4arr":var k={};k[a]=b,a=k;break;case"s4obj":a=h.oObj;break;case"g":if("class"==a||"className"==a)return i.className;if("style"==a)return i.style.cssText;if("checked"==a||"disabled"==a)return!!i[a];if("value"==a){if("button"==this.tag)return i.getAttributeNode("value").value;if("select"==this.tag){if(i.multiple){for(c=0,d=i.options.length;d>c;c++)f=i.options[c],f.selected&&(j||(j=[]),b=f.value,""==b&&(b=f.text),j.push(b));return j}return i.selectedIndex<0?null:(b=i.options[i.selectedIndex].value,""==b?i.options[i.selectedIndex].text:b)}return i.value}return"href"==a?i.getAttribute(a,2):i.getAttribute(a)}e=function(a,b){var c,d,e,f=-1;for(c=0,d=a.length;d>c;c++)if(e=a[c],e.value===b||e.text===b){f=c;break}return f};for(var l in a)if(a.hasOwnProperty(l)){var m=a[l];if(jindo.$Jindo.isNull(m))if("select"==this.tag)if(i.multiple)for(c=0,d=i.options.length;d>c;c++)i.options[c].selected=!1;else i.selectedIndex=-1;else i.removeAttribute(l);else if("class"==l||"className"==l)i.className=m;else if("style"==l)i.style.cssText=m;else if("checked"==l||"disabled"==l)i[l]=m;else if("value"==l)if("select"==this.tag)if(i.multiple)if(jindo.$Jindo.isArray(m))for(g=jindo.$A(m),c=0,d=i.options.length;d>c;c++)f=i.options[c],f.selected=g.has(f.value)||g.has(f.text);else i.selectedIndex=e(i.options,m);else i.selectedIndex=e(i.options,m);else i.value=m;else i.setAttribute(l,m)}return this},jindo.$Element.prototype.width=function(a){var b=g_checkVarType(arguments,{g:[],s:["nWidth:Numeric"]},"$Element#width");switch(b+""){case"g":return this._element.offsetWidth;case"s":a=b.nWidth;var c=this._element;c.style.width=a+"px";var d=c.offsetWidth;if(d!=a&&0!==d){var e=2*a-d;e>0&&(c.style.width=e+"px")}return this}},jindo.$Element.prototype.height=function(a){var b=g_checkVarType(arguments,{g:[],s:["nHeight:Numeric"]},"$Element#height");switch(b+""){case"g":return this._element.offsetHeight;case"s":a=b.nHeight;var c=this._element;c.style.height=a+"px";var d=c.offsetHeight;if(d!=a&&0!==d){var a=2*a-d;a>0&&(c.style.height=a+"px")}return this}},jindo.$Element.prototype.className=function(a){var b=g_checkVarType(arguments,{g:[],s:[jindo.$Jindo._F("sClass:String+")]},"$Element#className"),c=this._element;switch(b+""){case"g":return c.className;case"s":return c.className=a,this}},jindo.$Element.prototype.hasClass=function(){var a=g_checkVarType;return jindo.$Element.prototype.hasClass=jindo._p_.canUseClassList()?function(b){a(arguments,{"4str":["sClass:String+"]},"$Element#hasClass");return this._element.classList.contains(b)}:function(b){a(arguments,{"4str":["sClass:String+"]},"$Element#hasClass");return(" "+this._element.className+" ").indexOf(" "+b+" ")>-1},this.hasClass.apply(this,arguments)},jindo.$Element.prototype.addClass=function(){return jindo.$Element.prototype.addClass=this._element.classList?function(a){if(null==this._element)return this;for(var b=(g_checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#addClass"),(a+"").split(/\s+/)),c=this._element.classList,d=b.length;d--;)""!=b[d]&&c.add(b[d]);return this}:function(a){for(var b,c=(g_checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#addClass"),this._element),d=c.className,e=(a+"").split(" "),f=e.length-1;f>=0;f--)b=e[f],-1==(" "+d+" ").indexOf(" "+b+" ")&&(d=d+" "+b);return c.className=d.replace(/\s+$/,"").replace(/^\s+/,""),this},this.addClass.apply(this,arguments)},jindo.$Element.prototype.removeClass=function(){return jindo.$Element.prototype.removeClass=this._element.classList?function(a){g_checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#removeClass");if(null==this._element)return this;for(var b=this._element.classList,c=(a+"").split(" "),d=c.length;d--;)""!=c[d]&&b.remove(c[d]);return this}:function(a){for(var b=(g_checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#removeClass"),this._element),c=b.className,d=(a+"").split(" "),e=d.length-1;e>=0;e--)/\W/g.test(d[e])&&(d[e]=d[e].replace(/(\W)/g,"\\$1")),c=(" "+c+" ").replace(new RegExp("\\s+"+d[e]+"(?=\\s+)","g")," ");return b.className=c.replace(/\s+$/,"").replace(/^\s+/,""),this},this.removeClass.apply(this,arguments)},jindo.$Element.prototype.toggleClass=function(){var a=g_checkVarType;return jindo.$Element.prototype.toggleClass=jindo._p_.canUseClassList()?function(b,c){var d=a(arguments,{"4str":["sClass:String+"],"4str2":["sClass:String+","sClass2:String+"]},"$Element#toggleClass");switch(d+""){case"4str":this._element.classList.toggle(b+"");break;case"4str2":b+="",c+="",this.hasClass(b)?(this.removeClass(b),this.addClass(c)):(this.addClass(b),this.removeClass(c))}return this}:function(b,c){a(arguments,{"4str":["sClass:String+"],"4str2":["sClass:String+","sClass2:String+"]},"$Element#toggleClass");return c=c||"",this.hasClass(b)?(this.removeClass(b),c&&this.addClass(c)):(this.addClass(b),c&&this.removeClass(c)),this},this.toggleClass.apply(this,arguments)},jindo.$Element.prototype.cssClass=function(a){var b=g_checkVarType(arguments,{g:["sClass:String+"],s4bln:["sClass:String+","bCondition:Boolean"],s4obj:["oObj:Hash+"]},"$Element#cssClass");switch(b+""){case"g":return this.hasClass(b.sClass);case"s4bln":return b.bCondition?this.addClass(b.sClass):this.removeClass(b.sClass),this;case"s4obj":var c=this._element;a=b.oObj;var d=c.className;for(var e in a)a.hasOwnProperty(e)&&(a[e]?-1==(" "+d+" ").indexOf(" "+e+" ")&&(d=(d+" "+e).replace(/^\s+/,"")):(" "+d+" ").indexOf(" "+e+" ")>-1&&(d=(" "+d+" ").replace(" "+e+" "," ").replace(/\s+$/,"").replace(/^\s+/,"")));return c.className=d,this}},jindo.$Element.prototype.text=function(a){var b,c,d=g_checkVarType(arguments,{g:[],s4str:["sText:String+"],s4num:[jindo.$Jindo._F("sText:Numeric")],s4bln:["sText:Boolean"]},"$Element#text"),e=this._element,f=this.tag;switch(d+""){case"g":return b=void 0!==e.textContent?"textContent":"innerText",("textarea"==f||"input"==f)&&(b="value"),e[b];case"s4str":case"s4num":case"s4bln":try{if("textarea"==f||"input"==f)e.value=a+"";else{var c=e.ownerDocument||e.document||document;this.empty(),e.appendChild(c.createTextNode(a))}}catch(g){return e.innerHTML=(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;")}return this}},jindo.$Element.prototype.html=function(a){var b=g_checkVarType(arguments,{g:[],s4str:[jindo.$Jindo._F("sText:String+")],s4num:["sText:Numeric"],s4bln:["sText:Boolean"]},"$Element#html");switch(b+""){case"g":return this._element.innerHTML;case"s4str":case"s4num":case"s4bln":a+="";var c,d=this._element;if("table"==this._element.tagName.toLowerCase()&&!a.match(/<tbody[^>]*>/i)&&a.match(/<(thead|tfoot|caption|colgroup|col|th|tr|td)[^>]*>(?:.*?)(<\/\1>)?/i)){var e=d.ownerDocument||d.document||document;e.createDocumentFragment().appendChild(c=d.cloneNode(1)),c.innerHTML=a,c.getElementsByTagName("tbody").length||(a=c.innerHTML=["<tbody>","</tbody>"].join(c.innerHTML)),e=null}return d.innerHTML=a,this}},jindo.$Element.prototype.outerHTML=function(){var a=this._element;if(a=jindo.$Jindo.isDocument(a)?a.documentElement:a,void 0!==a.outerHTML)return a.outerHTML;var b=a.ownerDocument||a.document||document,c=b.createElement("div"),d=a.parentNode;if(!d)return a.innerHTML;d.insertBefore(c,a),c.style.display="none",c.appendChild(a);var e=c.innerHTML;return d.insertBefore(a,c),d.removeChild(c),e},jindo.$Element.prototype.toString=function(){return this.outerHTML()||"[object $Element]"},jindo.$Element.prototype.attach=function(a,b){var c,d,e=g_checkVarType(arguments,{"4str":["sEvent:String+","fpCallback:Function+"],"4obj":["hListener:Hash+"]},"$Element#attach");switch(e+""){case"4str":c=jindo._p_.splitEventSelector(e.sEvent),this._add(c.type,c.event,c.selector,b);break;case"4obj":d=e.hListener;for(var f in d)this.attach(f,d[f])}return this},jindo.$Element.prototype.detach=function(a,b){var c,d,e=g_checkVarType(arguments,{"4str":["sEvent:String+","fpCallback:Function+"],"4obj":["hListener:Hash+"]},"$Element#detach");switch(e+""){case"4str":c=jindo._p_.splitEventSelector(e.sEvent),this._del(c.type,c.event,c.selector,b);break;case"4obj":d=e.hListener;for(var f in d)this.detach(f,d[f])}return this},jindo.$Element.prototype.delegate=function(a,b,c){g_checkVarType(arguments,{"4str":["sEvent:String+","vFilter:String+","fpCallback:Function+"],"4fun":["sEvent:String+","vFilter:Function+","fpCallback:Function+"]},"$Element#delegate");return this._add("delegate",a,b,c)},jindo.$Element.prototype.undelegate=function(a,b,c){g_checkVarType(arguments,{"4str":["sEvent:String+","vFilter:String+","fpCallback:Function+"],"4fun":["sEvent:String+","vFilter:Function+","fpCallback:Function+"],group_for_string:["sEvent:String+","vFilter:String+"],group_for_function:["sEvent:String+","vFilter:Function+"]},"$Element#undelegate");return this._del("delegate",a,b,c)},jindo._p_.customEventAttach=function(a,b,c,d,e,f,g){if(jindo._p_.hasCustomEventListener(f.__jindo__id,b,c)){var h=jindo._p_.getCustomEventListener(f.__jindo__id,b,c).custom;h.real_listener&&(h.real_listener.push(d),h.wrap_listener.push(e))}else{var i=jindo._p_.getCustomEvent(b),h=new i,j=h.events;h.real_listener.push(d),h.wrap_listener.push(e);for(var k=0,l=j.length;l>k;k++)h["_fp"+j[k]]=jindo.$Fn(h[j[k]],h).bind(),g(a,j[k],c,h["_fp"+j[k]]);jindo._p_.addCustomEventListener(f,f.__jindo__id,b,c,h)}},jindo._p_.normalCustomEventAttach=function(a,b,c,d,e,f){jindo._p_.normalCustomEvent[b][c]||(jindo._p_.normalCustomEvent[b][c]={},jindo._p_.normalCustomEvent[b][c].ele=a,jindo._p_.normalCustomEvent[b][c][d]={},jindo._p_.normalCustomEvent[b][c][d].real_listener=[],jindo._p_.normalCustomEvent[b][c][d].wrap_listener=[]),jindo._p_.normalCustomEvent[b][c][d].real_listener.push(e),jindo._p_.normalCustomEvent[b][c][d].wrap_listener.push(f)},jindo.$Element.prototype._add=function(a,b,c,d){var e=jindo.$Element.eventManager,f=b;b=b.toLowerCase();var g=e.splitGroup(b);b=g.event;var h=g.group,i=this._element,j=i.__jindo__id,k=i.ownerDocument||i.document||document;if(jindo._p_.hasCustomEvent(b)){c=c||"_NONE_";var l=jindo.$Fn(d,this).bind();jindo._p_.normalCustomEventAttach(i,b,j,c,d,l),jindo._p_.getCustomEvent(b)&&jindo._p_.customEventAttach(a,b,c,d,l,i,jindo.$Fn(this._add,this).bind())}else{if("domready"==b&&jindo.$Jindo.isWindow(i))return jindo.$Element(k).attach(b,d),this;if("load"==b&&i===k)return jindo.$Element(window).attach(b,d),this;b=e.revisionEvent(a,b,f),d=e.revisionCallback(a,b,f,d),e.isInit(this._key)||e.init(this._key,i),e.hasEvent(this._key,b,f)||e.initEvent(this,b,f,h),e.hasGroup(this._key,b,h)||e.initGroup(this._key,b,h),e.addEventListener(this._key,b,h,a,c,d)}return this},jindo._p_.customEventDetach=function(a,b,c,d,e,f){for(var g=jindo._p_.getCustomEventListener(e.__jindo__id,b,c),h=g.custom,i=h.events,j=0,k=i.length;k>j;j++)f(a,i[j],c,h["_fp"+i[j]])},jindo.$Element.prototype._del=function(a,b,c,d){var e=jindo.$Element.eventManager,f=b;b=b.toLowerCase();var g=e.splitGroup(b);b=g.event;var h=g.group,i=this._element.ownerDocument||this._element.document||document;if(jindo._p_.hasCustomEvent(b)){var j=this._element.__jindo__id;c=c||"_NONE_";for(var k=jindo._p_.getNormalEventListener(j,b,c),l=k.wrap_listener,m=k.real_listener,n=[],o=[],p=0,q=m.length;q>p;p++)m[p]!=d&&(n.push(l[p]),o.push(m[p]));if(0==o.length){var r=jindo._p_.normalCustomEvent[b][j],s=0;for(var p in r)if("ele"!==p){s++;break}0===s?delete jindo._p_.normalCustomEvent[b][j]:delete jindo._p_.normalCustomEvent[b][j][c]}jindo._p_.customEvent[b]&&(jindo._p_.setCustomEventListener(j,b,c,o,n),0==o.length&&(jindo._p_.customEventDetach(a,b,c,d,this._element,jindo.$Fn(this._del,this).bind()),delete jindo._p_.customEventStore[j][b][c]))}else{if("domready"==b&&jindo.$Jindo.isWindow(this._element))return jindo.$Element(i).detach(b,d),this;if("load"==b&&this._element===i)return jindo.$Element(window).detach(b,d),this;if(b=e.revisionEvent(a,b,f),h===jindo._p_.NONE_GROUP&&!jindo.$Jindo.isFunction(d)&&!c)throw new jindo.$Error(jindo.$Except.HAS_FUNCTION_FOR_GROUP,"$Element#"+("normal"==a?"detach":"delegate"));e.removeEventListener(this._key,b,h,a,c,d)}return this},jindo._p_.mouseTouchPointerEvent=function(a){var b={};return window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0?b={mousedown:"MSPointerDown",mouseup:"MSPointerUp",mousemove:"MSPointerMove",mouseover:"MSPointerOver",mouseout:"MSPointerOut",touchstart:"MSPointerDown",touchend:"MSPointerUp",touchmove:"MSPointerMove",pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointercancel:"MSPointerCancel"}:jindo._p_._JINDO_IS_MO&&(b={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",pointerdown:"touchstart",pointerup:"touchend",pointermove:"touchmove"}),jindo._p_.mouseTouchPointerEvent=function(a){return b[a]?b[a]:a},jindo._p_.mouseTouchPointerEvent(a)},jindo.$Element.eventManager=function(){function a(a,b,c){return function(){var d=jindo._p_._toArray(arguments);return c.length&&(d=c.concat(d)),a.apply(b,d)}}var b={};return{revisionCallback:function(a,b,c,d){if("mouseenter"==c||"mouseleave"==c){var e=jindo.$Element.eventManager._fireWhenElementBoundary(a,d);e._origin_=d,d=e}return d},_fireWhenElementBoundary:function(a,b){return function(c){var d=c.relatedElement?jindo.$Element(c.relatedElement):null,e=c.currentElement;"delegate"==a&&(e=c.element),d&&(d.isEqual(e)||d.isChildOf(e))||b(c)}},revisionEvent:function(a,b,c){if(/^ms/i.test(c))return c;var d=jindo.$Event.hook(b);if(d)return jindo.$Jindo.isFunction(d)?jindo._p_.customEvent():d;if(b=b.toLowerCase(),"domready"==b||"domcontentloaded"==b)b="DOMContentLoaded";else if("mousewheel"!=b||jindo._p_._JINDO_IS_WK||jindo._p_._JINDO_IS_OP)if("mouseenter"==b)b="mouseover";else if("mouseleave"==b)b="mouseout";else if("transitionend"==b||"transitionstart"==b){var e=b.replace("transition",""),f=jindo._p_.getStyleIncludeVendorPrefix();"transition"!=f.transition&&(e=e.substr(0,1).toUpperCase()+e.substr(1)),b=f.transition+e}else if("animationstart"==b||"animationend"==b||"animationiteration"==b){var e=b.replace("animation",""),f=jindo._p_.getStyleIncludeVendorPrefix();"animation"!=f.animation&&(e=e.substr(0,1).toUpperCase()+e.substr(1)),b=f.animation+e}else("focusin"===b||"focusout"===b)&&(b="focusin"===b?"focus":"blur");else b="DOMMouseScroll";return jindo._p_.mouseTouchPointerEvent(b)},test:function(){return b},isInit:function(a){return!!b[a]},init:function(a,c){b[a]={ele:c,event:{}}},getEventConfig:function(a){return b[a]},hasEvent:function(a,c){try{return!!b[a].event[c]}catch(d){return!1}},hasGroup:function(a,c,d){return!!b[a].event[c].type[d]},createEvent:function(a,b,c,d){void 0===a.currentTarget&&(a.currentTarget=c);var e=jindo.$Event(a);return e.currentElement||(e.currentElement=c),e.realType=b,e.delegatedElement=d,e},initEvent:function(c,d,e){var f=c._key,g=b[f].event,h=a(function(a,b,c,d){d=d||window.event;var e=d.target||d.srcElement,f=jindo.$Element.eventManager,g=f.getEventConfig((d.currentTarget||this._element).__jindo__id),h=g.event[a].type;for(var i in h)if(h.hasOwnProperty(i)){for(var j=h[i].normal,k=0,l=j.length;l>k;k++)j[k].call(this,c.createEvent(d,b,this._element,null));var m,n,o=h[i].delegate;for(var p in o)if(o.hasOwnProperty(p)&&(m=o[p].checker(e),m[0])){n=o[p].callback;for(var q,r=0,s=n.length;s>r;r++)q=c.createEvent(d,b,this._element,m[1]),q.element=m[1],n[r].call(this,q)}}},c,[d,e,this]);g[d]={listener:h,type:{}},jindo.$Element._eventBind(c._element,d,h,"focusin"===e||"focusout"===e)},initGroup:function(a,c,d){var e=b[a].event[c].type;e[d]={normal:[],delegate:{}}},addEventListener:function(a,c,d,e,f,g){var h=b[a].event[c].type[d];"normal"===e?h.normal.push(g):"delegate"===e&&(this.hasDelegate(h,f)||this.initDelegate(b[a].ele,h,f),this.addDelegate(h,f,g))},hasDelegate:function(a,b){return!!a.delegate[b]},containsElement:function(a,b,c,d){if(a==b&&d)return jindo.$$.test(b,c);for(var e=jindo.$$(c,a),f=0,g=e.length;g>f;f++)if(e[f]==b)return!0;return!1},initDelegate:function(b,c,d){var e;e=jindo.$Jindo.isString(d)?a(function(a,b,c){var d=c,e=this.containsElement(a,c,b,!0);if(!e)for(var f=this._getParent(a,c),g=0,h=f.length;h>g;g++)if(d=f[g],this.containsElement(a,d,b)){e=!0;break}return[e,d]},this,[b,d]):a(function(a,b,c){var d=c,e=b(a,c);if(!e)for(var f=this._getParent(a,c),g=0,h=f.length;h>g;g++)if(d=f[g],b(a,d)){e=!0;break}return[e,d]},this,[b,d]),c.delegate[d]={checker:e,callback:[]}},addDelegate:function(a,b,c){a.delegate[b].callback.push(c)},removeEventListener:function(a,c,d,e,f,g){var h;try{h=b[a].event[c].type[d]}catch(i){return}var j,k=[];if(j="normal"===e?h.normal:h.delegate[f].callback,c==jindo._p_.NONE_GROUP||jindo.$Jindo.isFunction(g))for(var l=0,m=j.length;m>l;l++)(j[l]._origin_||j[l])!=g&&k.push(j[l]);"normal"===e?(delete h.normal,h.normal=k):"delegate"===e&&(delete h.delegate[f].callback,h.delegate[f].callback=k),this.cleanUp(a,c)},cleanUpAll:function(){for(var a in b)b.hasOwnProperty(a)&&this.cleanUpUsingKey(a,!0)},cleanUpUsingKey:function(a,c){var d;if(b[a]&&b[a].event){d=b[a].event;for(var e in d)d.hasOwnProperty(e)&&this.cleanUp(a,e,c)}},cleanUp:function(a,c,d){var e;try{e=b[a].event[c].type}catch(f){return}var g,h=!1;if(!d)for(var i in e)if(e.hasOwnProperty(i)){if(g=e[i],g.normal.length){h=!0;break}var j=g.delegate;for(var k in j)if(j.hasOwnProperty(k)&&j[k].callback.length){h=!0;break}if(h)break}if(!h){jindo.$Element._unEventBind(b[a].ele,c,b[a].event[c].listener),delete b[a].event[c];var l=!0,m=b[a].event;for(var n in m)if(m.hasOwnProperty(n)){l=!1;break}l&&delete b[a]}},splitGroup:function(a){var b=/\s*(.+?)\s*\(\s*(.*?)\s*\)/.exec(a);return b?{event:b[1].toLowerCase(),group:b[2].toLowerCase()}:{event:a.toLowerCase(),group:jindo._p_.NONE_GROUP}},_getParent:function(a,b){for(var c=a,d=[],e=null,f=b.ownerDocument||b.document||document;b.parentNode&&e!=c&&(e=b.parentNode,e!=f.documentElement);)d[d.length]=e,b=e;return d}}}(),jindo.$Element.prototype.appear=function(a,b){var c=g_checkVarType(arguments,{"4voi":[],"4num":["nDuration:Numeric"],"4fun":["nDuration:Numeric","fpCallback:Function+"]},"$Element#appear");switch(c+""){case"4voi":a=.3,b=function(){};break;case"4num":a=c.nDuration,b=function(){};break;case"4fun":a=c.nDuration,b=c.fpCallback}var d=this;if(this.visible())return setTimeout(function(){b.call(d,d)},16),this;var e=this._element,f=jindo._p_.getStyleIncludeVendorPrefix(),g=f.transition,h="transition"==g?"end":"End",i=function(){d.show(),e.style[g+"Property"]="",e.style[g+"Duration"]="",e.style[g+"TimingFunction"]="",e.style.opacity="",b.call(d,d),e.removeEventListener(g+h,arguments.callee,!1)};return this.visible()||(e.style.opacity=e.style.opacity||0,d.show()),e.addEventListener(g+h,i,!1),e.style[g+"Property"]="opacity",e.style[g+"Duration"]=a+"s",e.style[g+"TimingFunction"]="linear",jindo._p_.setOpacity(e,"1"),this},jindo.$Element.prototype.disappear=function(a,b){var c=g_checkVarType(arguments,{"4voi":[],"4num":["nDuration:Numeric"],"4fun":["nDuration:Numeric","fpCallback:Function+"]},"$Element#disappear");switch(c+""){case"4voi":a=.3,b=function(){};break;case"4num":a=c.nDuration,b=function(){};break;case"4fun":a=c.nDuration,b=c.fpCallback}var d=this;if(!this.visible())return setTimeout(function(){b.call(d,d)},16),this;var e=this._element,f=jindo._p_.getStyleIncludeVendorPrefix(),g=f.transition,h="transition"==g?"end":"End",i=function(){d.hide(),e.style[g+"Property"]="",e.style[g+"Duration"]="",e.style[g+"TimingFunction"]="",e.style.opacity="",b.call(d,d),e.removeEventListener(g+h,arguments.callee,!1)};return e.addEventListener(g+h,i,!1),e.style[g+"Property"]="opacity",e.style[g+"Duration"]=a+"s",e.style[g+"TimingFunction"]="linear",jindo._p_.setOpacity(e,"0"),this},jindo.$Element.prototype.offset=function(){var a=g_checkVarType(arguments,{g:[],s:["nTop:Numeric","nLeft:Numeric"]},"$Element#offset");switch(a+""){case"g":return this.offset_get();case"s":return this.offset_set(a.nTop,a.nLeft)}},jindo.$Element.prototype.offset_set=function(a,b){var c=this._element;isNaN(parseFloat(this._getCss(c,"top")))&&(c.style.top="0px"),isNaN(parseFloat(this._getCss(c,"left")))&&(c.style.left="0px");var d=this.offset_get(),e={top:a-d.top,left:b-d.left};return c.style.top=parseFloat(this._getCss(c,"top"))+e.top+"px",c.style.left=parseFloat(this._getCss(c,"left"))+e.left+"px",this},jindo.$Element.prototype.offset_get=function(){var a=this._element,b=null,c=jindo._p_._j_ag.indexOf("Safari")>-1&&!(jindo._p_._j_ag.indexOf("Chrome")>-1),d=function(a){for(var b={left:0,top:0},c=a,d=c.offsetParent;c=c.parentNode;)c.offsetParent&&(b.left-=c.scrollLeft,b.top-=c.scrollTop),c==d&&(b.left+=a.offsetLeft+c.clientLeft,b.top+=a.offsetTop+c.clientTop,c.offsetParent||(b.left+=c.offsetLeft,b.top+=c.offsetTop),d=c.offsetParent,a=c);return b},e=function(a){var c={left:0,top:0},d=a.ownerDocument||a.document||document,e=d.documentElement,f=d.body;if(a.getBoundingClientRect){if(!b){var g=window==top;if(!g)try{g=window.frameElement&&1==window.frameElement.frameBorder}catch(h){}b={left:0,top:0}}var i=a.getBoundingClientRect();a!==e&&a!==f&&(c.left=i.left-b.left,c.top=i.top-b.top,c.left+=e.scrollLeft||f.scrollLeft,c.top+=e.scrollTop||f.scrollTop)}else if(d.getBoxObjectFor){var i=d.getBoxObjectFor(a),j=d.getBoxObjectFor(e||f);c.left=i.screenX-j.screenX,c.top=i.screenY-j.screenY}else{for(var k=a;k;k=k.offsetParent)c.left+=k.offsetLeft,c.top+=k.offsetTop;for(var k=a.parentNode;k&&"BODY"!=k.tagName;k=k.parentNode)"TR"==k.tagName&&(c.top+=2),c.left-=k.scrollLeft,c.top-=k.scrollTop}return c};return(c?d:e)(a)},jindo.$Element.prototype.evalScripts=function(sHTML){var oArgs=g_checkVarType(arguments,{"4str":["sHTML:String+"]},"$Element#evalScripts"),aJS=[],leftScript="<script(\\s[^>]+)*>(.*?)</",rightScript="script>";return sHTML=sHTML.replace(new RegExp(leftScript+rightScript,"gi"),function(a,b,c){return aJS.push(c),""}),eval(aJS.join("\n")),this},jindo.$Element.prototype.clone=function(a){var b=g_checkVarType(arguments,{"default":[],set:["bDeep:Boolean"]},"$Element#clone");return b+""=="default"&&(a=!0),jindo.$Element(this._element.cloneNode(a))},jindo.$Element._common=function(a,b){try{return jindo.$Element(a)._element}catch(c){throw TypeError(c.message.replace(/\$Element/g,"$Element#"+b).replace(/Element\.html/g,"Element.html#"+b))}},jindo.$Element._prepend=function(a,b){var c=a.childNodes;c.length>0?a.insertBefore(b,c[0]):a.appendChild(b)},jindo.$Element.prototype.append=function(a){return this._element.appendChild(jindo.$Element._common(a,"append")),this},jindo.$Element.prototype.prepend=function(a){return jindo.$Element._prepend(this._element,jindo.$Element._common(a,"prepend")),this},jindo.$Element.prototype.replace=function(a){a=jindo.$Element._common(a,"replace"),jindo.cssquery&&jindo.cssquery.release();var b=this._element,c=b.parentNode;if(c&&c.replaceChild)return c.replaceChild(a,b),this;var d=a;return c.insertBefore(d,b),c.removeChild(b),this},jindo.$Element.prototype.appendTo=function(a){return jindo.$Element._common(a,"appendTo").appendChild(this._element),this},jindo.$Element.prototype.prependTo=function(a){return jindo.$Element._prepend(jindo.$Element._common(a,"prependTo"),this._element),this},jindo.$Element.prototype.before=function(a){var b=jindo.$Element._common(a,"before");return this._element.parentNode.insertBefore(b,this._element),this},jindo.$Element.prototype.after=function(a){return a=jindo.$Element._common(a,"after"),this.before(a),jindo.$Element(a).before(this),this},jindo.$Element.prototype.parent=function(a,b){var c=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"],for_function_number:["fpFunc:Function+","nLimit:Numeric"],for_null_number:["fpFunc:Null","nLimit:Numeric"]},"$Element#parent"),d=this._element;switch(c+""){case"4voi":return d.parentNode?jindo.$Element(d.parentNode):null;case"4fun":case"4nul":b=-1;break;case"for_function_number":case"for_null_number":0==c.nLimit&&(b=-1)}for(var e=[],f=null;d.parentNode&&0!=b--;){try{f=jindo.$Element(d.parentNode)}catch(g){f=null}if(d.parentNode==document.documentElement)break;(!a||a&&a.call(this,f))&&(e[e.length]=f),d=d.parentNode}return e},jindo.$Element.prototype.child=function(a,b){var c=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"],for_function_number:["fpFunc:Function+","nLimit:Numeric"],for_null_number:["fpFunc:Null","nLimit:Numeric"]},"$Element#child"),d=this._element,e=[],f=null;switch(c+""){case"4voi":for(var g=d.childNodes,h=[],i=0,j=g.length;j>i;i++)if(1==g[i].nodeType)try{h.push(jindo.$Element(g[i]))}catch(k){h.push(null)}return h;case"4fun":case"4nul":b=-1;break;case"for_function_number":case"for_null_number":0==c.nLimit&&(b=-1)}return(f=function(b,c,d){for(var g=null,h=null,i=0;i<b.childNodes.length;i++)if(g=b.childNodes[i],1==g.nodeType){try{h=jindo.$Element(b.childNodes[i])}catch(j){h=null}(!a||a&&a.call(d,h))&&(e[e.length]=h),0!=c&&f(b.childNodes[i],c-1)}})(d,b-1,this),e},jindo.$Element.prototype.prev=function(a){var b=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"]},"$Element#prev"),c=this._element,d=[];switch(b+""){case"4voi":if(!c)return null;do if(c=c.previousSibling,c&&1==c.nodeType)try{return null==c?null:jindo.$Element(c)}catch(c){return null}while(c);try{return null==c?null:jindo.$Element(c)}catch(c){return null}case"4fun":case"4nul":if(!c)return d;do if(c=c.previousSibling,c&&1==c.nodeType&&(!a||a.call(this,c)))try{d[d.length]=null==c?null:jindo.$Element(c)}catch(c){d[d.length]=null}while(c);try{return d}catch(c){return null}}},jindo.$Element.prototype.next=function(a){var b=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"]},"$Element#next"),c=this._element,d=[];switch(b+""){case"4voi":if(!c)return null;do if(c=c.nextSibling,c&&1==c.nodeType)try{return null==c?null:jindo.$Element(c)}catch(c){return null}while(c);try{return null==c?null:jindo.$Element(c)}catch(c){return null}case"4fun":case"4nul":if(!c)return d;do if(c=c.nextSibling,c&&1==c.nodeType&&(!a||a.call(this,c)))try{d[d.length]=null==c?null:jindo.$Element(c)}catch(c){d[d.length]=null}while(c);try{return d}catch(c){return null}}},jindo.$Element.prototype.first=function(){var a=this._element.firstElementChild||this._element.firstChild;if(!a)return null;for(;a&&1!=a.nodeType;)a=a.nextSibling;try{return a?jindo.$Element(a):null}catch(b){return null}},jindo.$Element.prototype.last=function(){var a=this._element.lastElementChild||this._element.lastChild;if(!a)return null;for(;a&&1!=a.nodeType;)a=a.previousSibling;try{return a?jindo.$Element(a):null}catch(b){return null}},jindo.$Element._contain=function(a,b){if(document.compareDocumentPosition)return!!(16&a.compareDocumentPosition(b));for(var c=a,d=b;c&&c.parentNode;)if(c=c.parentNode,c==d)return!0;return!1},jindo.$Element.prototype.isChildOf=function(a){try{return jindo.$Element._contain(jindo.$Element(a)._element,this._element)}catch(b){return!1}},jindo.$Element.prototype.isParentOf=function(a){try{return jindo.$Element._contain(this._element,jindo.$Element(a)._element)}catch(b){return!1}},jindo.$Element.prototype.isEqual=function(a){try{return this._element===jindo.$Element(a)._element}catch(b){return!1}},jindo._p_.fireCustomEvent=function(a,b,c){var d,e,f=jindo._p_.normalCustomEvent[b];for(var g in f){e=f[g],d=e.ele;var h;for(var i in e)if("_NONE_"===i){if(d==a||c.isChildOf(d)){h=e[i].wrap_listener;for(var j=0,k=h.length;k>j;j++)h[j]()}}else if(jindo.$Element.eventManager.containsElement(d,a,i,!1)){h=e[i].wrap_listener;for(var j=0,k=h.length;k>j;j++)h[j]()}}},jindo.$Element.prototype.fireEvent=function(a,b){var c=g_checkVarType(arguments,{"4str":[jindo.$Jindo._F("sEvent:String+")],"4obj":["sEvent:String+","oProps:Hash+"]},"$Element#fireEvent"),d=this._element,e=a;if(a=jindo.$Element.eventManager.revisionEvent("",a,a),jindo._p_.normalCustomEvent[a])return jindo._p_.fireCustomEvent(d,a,this,!!jindo._p_.normalCustomEvent[a]),this;var f="HTMLEvents";a=(a+"").toLowerCase(),"click"==a||0==a.indexOf("mouse")?f="MouseEvent":e.indexOf("wheel")>0?(a="DOMMouseScroll",f=jindo._p_._JINDO_IS_FF?"MouseEvent":"MouseWheelEvent"):0==a.indexOf("key")?f="KeyboardEvent":a.indexOf("pointer")>0&&(f="MouseEvent",a=e);var g;switch(c+""){case"4obj":switch(b=c.oProps,b.button=0+(b.middle?1:0)+(b.right?2:0),b.ctrl=b.ctrl||!1,b.alt=b.alt||!1,b.shift=b.shift||!1,b.meta=b.meta||!1,f){case"MouseEvent":g=document.createEvent(f),g.initMouseEvent(a,!0,!0,null,b.detail||0,b.screenX||0,b.screenY||0,b.clientX||0,b.clientY||0,b.ctrl,b.alt,b.shift,b.meta,b.button,b.relatedElement||null);break;case"KeyboardEvent":if(window.KeyEvent)g=document.createEvent("KeyEvents"),g.initKeyEvent(a,!0,!0,window,b.ctrl,b.alt,b.shift,b.meta,b.keyCode,b.keyCode);else try{g=document.createEvent("Events")}catch(h){g=document.createEvent("UIEvents")}finally{g.initEvent(a,!0,!0),g.ctrlKey=b.ctrl,g.altKey=b.alt,g.shiftKey=b.shift,g.metaKey=b.meta,g.keyCode=b.keyCode,g.which=b.keyCode}break;default:g=document.createEvent(f),g.initEvent(a,!0,!0)}break;case"4str":g=document.createEvent(f),g.initEvent(a,!0,!0)}var i=this._element;return jindo.$Jindo.isWindow(i)&&/(iPhone|iPad|iPod).*OS\s+([0-9\.]+)/.test(jindo._p_._j_ag)&&parseFloat(RegExp.$2)<4&&(i=i.document),i.dispatchEvent(g),this},jindo.$Element.prototype.empty=function(){return jindo.cssquery&&jindo.cssquery.release(),this.html(""),this},jindo.$Element.prototype.remove=function(a){jindo.cssquery&&jindo.cssquery.release();var b=jindo.$Element;return b(b._common(a,"remove")).leave(),this},jindo.$Element.prototype.leave=function(){var a=this._element;return a.parentNode&&(jindo.cssquery&&jindo.cssquery.release(),a.parentNode.removeChild(a)),this},jindo.$Element.prototype.wrap=function(a){var b=this._element;return a=jindo.$Element._common(a,"wrap"),b.parentNode&&b.parentNode.insertBefore(a,b),a.appendChild(b),this},jindo.$Element.prototype.ellipsis=function(a){g_checkVarType(arguments,{"4voi":[],"4str":["stringTail:String+"]},"$Element#ellipsis");a=a||"...";var b=this.text(),c=b.length,d=parseInt(this._getCss(this._element,"paddingTop"),10)+parseInt(this._getCss(this._element,"paddingBottom"),10),e=this._element.offsetHeight-d,f=0,g=this.text("A")._element.offsetHeight-d;
if(1.5*g>e)return this.text(b),this;for(e=g;1.5*g>e;)f+=Math.max(Math.ceil((c-f)/2),1),e=this.text(b.substring(0,f)+a)._element.offsetHeight-d;for(;e>1.5*g;)f--,e=this.text(b.substring(0,f)+a)._element.offsetHeight-d;return this},jindo.$Element.prototype.indexOf=function(a){try{for(var b=jindo.$Element(a)._element,c=this._element.childNodes,d=0,e=c.length,f=0;e>f;f++)if(1==c[f].nodeType){if(c[f]===b)return d;d++}}catch(b){}return-1},jindo.$Element.prototype.queryAll=function(a){for(var b=(g_checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#queryAll"),jindo.cssquery(a,this._element)),c=[],d=0,e=b.length;e>d;d++)c.push(jindo.$Element(b[d]));return c},jindo.$Element.prototype.query=function(a){var b=(g_checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#query"),jindo.cssquery.getSingle(a,this._element));return null===b?b:jindo.$Element(b)},jindo.$Element.prototype.test=function(a){g_checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#test");return jindo.cssquery.test(this._element,a)},jindo.$Element.prototype.xpathAll=function(a){for(var b=(g_checkVarType(arguments,{"4str":["sXPath:String+"]},"$Element#xpathAll"),jindo.cssquery.xpath(a,this._element)),c=[],d=0,e=b.length;e>d;d++)c.push(jindo.$Element(b[d]));return c},jindo.$Element.insertAdjacentHTML=function(a,b,c,d,e,f){var g=[b];g.callee=arguments.callee;var h=(g_checkVarType(g,{"4str":["sHTML:String+"]},"$Element#"+f),a._element);if(b+="",h.insertAdjacentHTML&&!/^<(option|tr|td|th|col)(?:.*?)>/.test(jindo._p_.trim(b).toLowerCase()))h.insertAdjacentHTML(c,b);else{var i,j=h.ownerDocument||h.document||document,k=j.createDocumentFragment(),l=jindo._p_.trim(b),m={option:"select",tr:"tbody",thead:"table",tbody:"table",col:"table",td:"tr",th:"tr",div:"div"},n=/^<(option|tr|thead|tbody|td|th|col)(?:.*?)\>/i.exec(l),o=null===n?"div":n[1].toLowerCase(),p=m[o];i=jindo._p_._createEle(p,l,j,!0);for(var q=i.getElementsByTagName("script"),r=0,s=q.length;s>r;r++)q[r].parentNode.removeChild(q[r]);if("table"==h.tagName.toLowerCase()&&!h.getElementsByTagName("tbody").length&&!l.match(/<tbody[^>]*>/i)){var t=j.createElement("tbody"),u=l.match(/^<t(head|foot)[^>]*>/i);u||(k.appendChild(t),k=t)}for(;i[d];)k.appendChild(i[d]);u&&k.appendChild(t),e(k.cloneNode(!0))}return a},jindo.$Element.prototype.appendHTML=function(a){return jindo.$Element.insertAdjacentHTML(this,a,"beforeEnd","firstChild",jindo.$Fn(function(a){var b=this._element;if("table"===b.tagName.toLowerCase())for(var c=b.childNodes,d=0,e=c.length;e>d;d++)if(1==c[d].nodeType){b=c[d];break}b.appendChild(a)},this).bind(),"appendHTML")},jindo.$Element.prototype.prependHTML=function(a){var b=jindo.$Element;return b.insertAdjacentHTML(this,a,"afterBegin","firstChild",jindo.$Fn(function(a){var c=this._element;if("table"===c.tagName.toLowerCase())for(var d=c.childNodes,e=0,f=d.length;f>e;e++)if(1==d[e].nodeType){c=d[e];break}b._prepend(c,a)},this).bind(),"prependHTML")},jindo.$Element.prototype.beforeHTML=function(a){return jindo.$Element.insertAdjacentHTML(this,a,"beforeBegin","firstChild",jindo.$Fn(function(a){this._element.parentNode.insertBefore(a,this._element)},this).bind(),"beforeHTML")},jindo.$Element.prototype.afterHTML=function(a){return jindo.$Element.insertAdjacentHTML(this,a,"afterEnd","firstChild",jindo.$Fn(function(a){this._element.parentNode.insertBefore(a,this._element.nextSibling)},this).bind(),"afterHTML")},jindo.$Element.prototype.hasEventListener=function(a){var b,c=g_checkVarType(arguments,{"4str":["sEvent:String+"]},"$Element#hasEventListener"),d=!1,e=c.sEvent.toLowerCase();if(this._key){if(b=this._element.ownerDocument||this._element.document||document,"load"==e&&this._element===b)d=jindo.$Element(window).hasEventListener(c.sEvent);else if("domready"==e&&jindo.$Jindo.isWindow(this._element))d=jindo.$Element(b).hasEventListener(c.sEvent);else{var f=jindo.$Element.eventManager.revisionEvent("",a);d=!!jindo.$Element.eventManager.hasEvent(this._key,f,c.sEvent)}return d}return!1},jindo.$Element.prototype.preventTapHighlight=function(){if(jindo._p_._JINDO_IS_MO){var a="no_tap_highlight"+(new Date).getTime(),b=document.createElement("style"),c=document.getElementsByTagName("html")[0];b.type="text/css",c.insertBefore(b,c.firstChild);var d=b.sheet||b.styleSheet;d.insertRule("."+a+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0),d.insertRule("."+a+" * { -webkit-tap-highlight-color: rgba(0,0,0,.25); }",0),jindo.$Element.prototype.preventTapHighlight=function(b){return this[b?"addClass":"removeClass"](a)}}else jindo.$Element.prototype.preventTapHighlight=function(){return this};return this.preventTapHighlight.apply(this,jindo._p_._toArray(arguments))},jindo.$Element.prototype.data=function(sKey,vValue){function toCamelCase(a){return a.replace(/\-(.)/g,function(a,b){return b.toUpperCase()})}function toDash(a){return a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})}var oType={g:["sKey:String+"],s4var:["sKey:String+","vValue:Variant"],s4obj:["oObj:Hash+"]},jindoKey="_jindo";return jindo.$Element.prototype.data=document.body.dataset?function(a,b){var c,d=g_checkVarType(arguments,oType,"$Element#data"),e=jindo.$Jindo.isNull;switch(d+""){case"g":a=toCamelCase(a);var f=this._element.dataset[a+jindoKey],g=this._element.dataset[a];return g?f?window.JSON.parse(g):g:null;case"s4var":var h;if(e(b))return a=toCamelCase(a),delete this._element.dataset[a],delete this._element.dataset[a+jindoKey],this;h={},h[a]=b,a=h;case"s4obj":var i;for(var j in a)i=toCamelCase(j),e(a[j])?(delete this._element.dataset[i],delete this._element.dataset[i+jindoKey]):(c=jindo.$Json._oldToString(a[j]),null!=c&&(this._element.dataset[i]=c,this._element.dataset[i+jindoKey]="jindo"));return this}}:function(sKey,vValue){var sToStr,oArgs=g_checkVarType(arguments,oType,"$Element#data"),isNull=jindo.$Jindo.isNull;switch(oArgs+""){case"g":sKey=toDash(sKey);var isMakeFromJindo=this._element.getAttribute("data-"+sKey+jindoKey),sVal=this._element.getAttribute("data-"+sKey);return isMakeFromJindo?null!=sVal?eval("("+sVal+")"):null:sVal;case"s4var":var oData;if(isNull(vValue))return sKey=toDash(sKey),this._element.removeAttribute("data-"+sKey),this._element.removeAttribute("data-"+sKey+jindoKey),this;oData={},oData[sKey]=vValue,sKey=oData;case"s4obj":var sChange;for(var i in sKey)sChange=toDash(i),isNull(sKey[i])?(this._element.removeAttribute("data-"+sChange),this._element.removeAttribute("data-"+sChange+jindoKey)):(sToStr=jindo.$Json._oldToString(sKey[i]),null!=sToStr&&(this._element.setAttribute("data-"+sChange,sToStr),this._element.setAttribute("data-"+sChange+jindoKey,"jindo")));return this}},this.data.apply(this,jindo._p_._toArray(arguments))},jindo.$Fn=function(func,thisObject){var cl=arguments.callee;if(func instanceof cl)return func;if(!(this instanceof cl))try{return jindo.$Jindo._maxWarn(arguments.length,2,"$Fn"),new cl(func,thisObject)}catch(e){if(e instanceof TypeError)return null;throw e}var oArgs=g_checkVarType(arguments,{"4fun":["func:Function+"],"4fun2":["func:Function+","thisObject:Variant"],"4str":["func:String+","thisObject:String+"]},"$Fn");switch(this._tmpElm=null,this._key=null,oArgs+""){case"4str":this._func=eval("false||function("+func+"){"+thisObject+"}");break;case"4fun":case"4fun2":this._func=func,this._this=thisObject}},jindo.$Fn._commonPram=function(a,b){return g_checkVarType(a,{"4ele":["eElement:Element+","sEvent:String+"],"4ele2":["eElement:Element+","sEvent:String+","bUseCapture:Boolean"],"4str":["eElement:String+","sEvent:String+"],"4str2":["eElement:String+","sEvent:String+","bUseCapture:Boolean"],"4arr":["aElement:Array+","sEvent:String+"],"4arr2":["aElement:Array+","sEvent:String+","bUseCapture:Boolean"],"4doc":["eElement:Document+","sEvent:String+"],"4win":["eElement:Window+","sEvent:String+"],"4doc2":["eElement:Document+","sEvent:String+","bUseCapture:Boolean"],"4win2":["eElement:Window+","sEvent:String+","bUseCapture:Boolean"]},b)},jindo.$Fn.prototype.$value=function(){return this._func},jindo.$Fn.prototype.bind=function(){var a,b=jindo._p_._toArray(arguments),c=this._func,d=this._this||this;return c.bind?(b.unshift(d),a=Function.prototype.bind.apply(c,b)):a=function(){var a=jindo._p_._toArray(arguments);return b.length&&(a=b.concat(a)),c.apply(d,a)},a},jindo.$Fn.prototype.attach=function(a,b,c){{var d,e=jindo.$Fn._commonPram(arguments,"$Fn#attach"),f=null,g=b,h=a;jindo._p_._j_ag}switch(c!==!0&&(c=!1),this._bUseCapture=c,e+""){case"4arr":case"4arr2":for(var h=e.aElement,g=e.sEvent,i=0,d=h.length;d>i;i++)this.attach(h[i],g,!!c);return this}return f=this._bind=this._bind?this._bind:this.bind(),jindo.$Element(h).attach(g,f),this},jindo.$Fn.prototype.detach=function(a,b,c){{var d,e=jindo.$Fn._commonPram(arguments,"$Fn#detach"),f=null,g=a,h=b;jindo._p_._j_ag}switch(e+""){case"4arr":case"4arr2":for(var g=e.aElement,h=e.sEvent,i=0,d=g.length;d>i;i++)this.detach(g[i],h,!!c);return this}return f=this._bind=this._bind?this._bind:this.bind(),jindo.$Element(e.eElement).detach(e.sEvent,f),this},jindo.$Fn.prototype.delay=function(a,b){var c=g_checkVarType(arguments,{"4num":["nSec:Numeric"],"4arr":["nSec:Numeric","args:Array+"]},"$Fn#delay");switch(c+""){case"4num":b=b||[];break;case"4arr":b=c.args}return this._delayKey=setTimeout(this.bind.apply(this,b),1e3*a),this},jindo.$Fn.prototype.setInterval=function(a,b){var c=g_checkVarType(arguments,{"4num":["nSec:Numeric"],"4arr":["nSec:Numeric","args:Array+"]},"$Fn#setInterval");switch(c+""){case"4num":b=b||[];break;case"4arr":b=c.args}return this._repeatKey=setInterval(this.bind.apply(this,b),1e3*a),this},jindo.$Fn.prototype.repeat=jindo.$Fn.prototype.setInterval,jindo.$Fn.prototype.stopDelay=function(){return void 0!==this._delayKey&&(window.clearTimeout(this._delayKey),delete this._delayKey),this},jindo.$Fn.prototype.stopRepeat=function(){return void 0!==this._repeatKey&&(window.clearInterval(this._repeatKey),delete this._repeatKey),this},jindo.$ElementList=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return new b(a)}catch(c){if(c instanceof TypeError)return null;throw c}var d=g_checkVarType(arguments,{"4arr":["aEle:Array+"],"4str":["sCssQuery:String+"],"4nul":["oEle:Null"],"4und":["oEle:Undefined"]},"$ElementList");switch(d+""){case"4arr":a=d.aEle;break;case"4str":a=jindo.cssquery(d.sCssQuery);break;case"4nul":case"4und":a=[]}this._elements=[];for(var e=0,f=a.length;f>e;e++)this._elements.push(jindo.$Element(a[e]))},function(a){for(var b=["show","hide","toggle","addClass","removeClass","toggleClass","fireEvent","leave","empty","className","width","height","text","html","css","attr"],c=0,d=b.length;d>c;c++){var e=b[c];jindo.$Element.prototype[e]&&(a[b[c]]=function(a){return function(){try{for(var b=[],c=0,d=arguments.length;d>c;c++)b.push(arguments[c]);for(var e=0,f=this._elements.length;f>e;e++)this._elements[e][a].apply(this._elements[e],b);return this}catch(g){throw TypeError(g.message.replace(/\$Element/g,"$Elementlist#"+a).replace(/Element\.html/g,"Elementlist.html#"+a))}}}(b[c]))}for(var f=["appear","disappear"],c=0,d=f.length;d>c;c++)jindo.$Element.prototype[e]&&(a[f[c]]=function(a){return function(b,c){try{for(var d=this,e=0,f=this._elements.length;f>e;e++)e==f-1?this._elements[e][a](b,function(){c&&c(d)}):this._elements[e][a](b);return this}catch(g){throw TypeError(g.message.replace(/\$Element/g,"$Elementlist#"+a).replace(/Element\.html/g,"Elementlist.html#"+a))}}}(f[c]))}(jindo.$ElementList.prototype),jindo.$ElementList.prototype.get=function(a){g_checkVarType(arguments,{"4num":["nIdx:Numeric"]},"$ElementList#get");return this._elements[a]},jindo.$ElementList.prototype.getFirst=function(){return this._elements[0]},jindo.$ElementList.prototype.getLast=function(){return this._elements[Math.max(this._elements.length-1,0)]},jindo.$ElementList.prototype.length=function(){var a=(g_checkVarType(arguments,{"4voi":[],"4num":[jindo.$Jindo._F("nLen:Numeric")],"4var":["nLen:Numeric","oValue:Variant"]},"$ElementList#length"),jindo.$A(this._elements));try{return a.length.apply(a,jindo._p_._toArray(arguments))}catch(b){throw TypeError(b.message.replace(/\$A/g,"$Elementlist#length").replace(/A\.html/g,"Elementlist.html#length"))}},jindo.$ElementList.prototype.$value=function(){return this._elements},jindo.$S=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$Json"),new b(a||"")}catch(c){if(c instanceof TypeError)return null;throw c}var d=g_checkVarType(arguments,{nul:["nul:Null"],unde:["unde:Undefined"],"4var":["str:Variant"]},"$S");switch(d+""){case"nul":case"unde":this._str="";break;case"4var":this._str=d.str.toString()}},jindo.$S.prototype.$value=function(){return this._str},jindo.$S.prototype.toString=jindo.$S.prototype.$value,jindo.$S.prototype.trim=function(){return jindo.$S.prototype.trim="".trim?function(){return jindo.$S(this._str.trim())}:function(){return jindo._p_.trim(this._str)},jindo.$S(this.trim())},jindo.$S.prototype.escapeHTML=function(){var a={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"},b=this._str.replace(/[<>&"']/g,function(b){return a[b]?"&"+a[b]+";":b});return jindo.$S(b)},jindo.$S.prototype.stripTags=function(){return jindo.$S(this._str.replace(/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/gi,""))},jindo.$S.prototype.times=function(){var a=g_checkVarType(arguments,{"4str":["nTimes:Numeric"]},"$S#times");return a?jindo.$S(Array(a.nTimes+1).join(this._str)):this},jindo.$S.prototype.unescapeHTML=function(){var a={quot:'"',amp:"&",lt:"<",gt:">","#39":"'"},b=this._str.replace(/&([a-z]+|#[0-9]+);/g,function(b,c){return a[c]?a[c]:b});return jindo.$S(b)},jindo.$S.prototype.escape=function(){var a=this._str.replace(/([\u0080-\uFFFF]+)|[\n\r\t"'\\]/g,function(a,b,c){return b?escape(b).replace(/%/g,"\\"):(c={"\n":"\\n","\r":"\\r","	":"\\t"})[a]?c[a]:"\\"+a});return jindo.$S(a)},jindo.$S.prototype.bytes=function(a){var b,c,d=g_checkVarType(arguments,{"4voi":[],"4num":["nConfig:Numeric"],"4obj":["nConfig:Hash+"]},"$S#bytes"),e=0,f=0,g=0,h=this._str.length,i=(document.charset||document.characterSet||document.defaultCharset)+"";switch(d+""){case"4voi":b=!1;break;case"4num":b=!0,c=a;break;case"4obj":i=a.charset||i,c=a.size||!1,b=!!c}if("utf-8"==i.toLowerCase()){for(g=0;h>g;g++)if(e=this._str.charCodeAt(g),f+=128>e?1:2048>e?2:65536>e?3:4,b&&f>c){this._str=this._str.substr(0,g);break}}else for(g=0;h>g;g++)if(f+=this._str.charCodeAt(g)>128?2:1,b&&f>c){this._str=this._str.substr(0,g);break}return b?this:f},jindo.$S.prototype.parseString=function(){if(""==this._str)return{};for(var a,b,c,d=this._str.split(/&/g),e={},f=!1,g=0;g<d.length;g++){b=d[g].substring(0,a=d[g].indexOf("=")),f=!1;try{c=decodeURIComponent(d[g].substring(a+1))}catch(h){f=!0,c=decodeURIComponent(unescape(d[g].substring(a+1)))}"[]"==b.substr(b.length-2,2)?(b=b.substring(0,b.length-2),jindo.$Jindo.isUndefined(e[b])&&(e[b]=[]),e[b][e[b].length]=f?escape(c):c):e[b]=f?escape(c):c}return e},jindo.$S.prototype.escapeRegex=function(){var a=this._str,b=/([\?\.\*\+\-\/\(\)\{\}\[\]\:\!\^\$\\\|])/g;return jindo.$S(a.replace(b,"\\$1"))},jindo.$S.prototype.format=function(){var a=arguments,b=0,c=this._str.replace(/%([ 0])?(-)?([1-9][0-9]*)?([bcdsoxX])/g,function(c,d,e,f,g){var h=a[b++],i="",j="";if(f=f?+f:0,"s"==g)i=h+"";else if(" bcdoxX".indexOf(g)>0){if(!jindo.$Jindo.isNumeric(h))return"";i="c"==g?String.fromCharCode(h):h.toString({b:2,d:10,o:8,x:16,X:16}[g])," X".indexOf(g)>0&&(i=i.toUpperCase())}return i.length<f&&(j=jindo.$S(d||" ").times(f-i.length)._str),"-"==e?i+=j:i=j+i,i});return jindo.$S(c)},jindo.$Document=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$Document"),new b(a||document)}catch(c){if(c instanceof TypeError)return null;throw c}var d=g_checkVarType(arguments,{"4doc":["oDocument:Document+"]},"$Document");this._doc=null==d?document:a,this._docKey="documentElement"},function(){var a=jindo.cssquery,b={query:a.getSingle,queryAll:a,xpathAll:a.xpath};for(var c in b)jindo.$Document.prototype[c]=function(a,b){return function(c){g_checkVarType(arguments,{"4str":["sQuery:String+"]},"$Document#"+a);return b(c,this._doc)}}(c,b[c])}(),jindo.$Document.prototype.$value=function(){return this._doc},jindo.$Document.prototype.scrollSize=function(){var a=this._doc[jindo._p_._JINDO_IS_WK?"body":this._docKey];return{width:Math.max(a.scrollWidth,a.clientWidth),height:Math.max(a.scrollHeight,a.clientHeight)}},jindo.$Document.prototype.scrollPosition=function(){var a=this._doc[jindo._p_._JINDO_IS_WK?"body":this._docKey];return{left:a.scrollLeft||window.pageXOffset||window.scrollX||0,top:a.scrollTop||window.pageYOffset||window.scrollY||0}},jindo.$Document.prototype.clientSize=function(){var a=this._doc[this._docKey];return{width:a.clientWidth,height:a.clientHeight}},jindo.$Form=function(a){var b=arguments.callee;if(a instanceof b)return a;if(!(this instanceof b))try{return jindo.$Jindo._maxWarn(arguments.length,1,"$Form"),new b(a)}catch(c){if(c instanceof TypeError)return null;throw c}var d=g_checkVarType(arguments,{"4str":["oForm:String+"],"4ele":["oForm:Element+"]},"$Form+");switch(d+""){case"4str":a=jindo.$(a)}if(!a.tagName||"FORM"!=a.tagName.toUpperCase())throw TypeError("only form");this._form=a},jindo.$Form.prototype.$value=function(){return this._form},jindo.$Form.prototype.serialize=function(){var a=this,b={},c=arguments.length,d=function(c,d){if(!c.disabled){var e=a.value(d);void 0!==e&&(b[d]=e)}};if(0==c)for(var e=this._form.elements.length,f=0;e>f;f++){var g=this._form.elements[f];g.name&&d(g,g.name)}else for(var f=0;c>f;f++)d(this.element(arguments[f]),arguments[f]);return jindo.$H(b).toQueryString()},jindo.$Form.prototype.element=function(a){var b=g_checkVarType(arguments,{"4voi":[],"4str":[jindo.$Jindo._F("sKey:String+")]},"$Form#element");switch(b+""){case"4voi":return jindo._p_._toArray(this._form.elements);case"4str":return this._form.elements[a+""]}},jindo.$Form.prototype.enable=function(a){var b=g_checkVarType(arguments,{s4bln:["sName:String+","bEnable:Boolean"],s4obj:["oObj:Hash+"],g:[jindo.$Jindo._F("sName:String+")]},"$Form#enable");switch(b+""){case"s4bln":var c=this._form[a];if(!c)return this;c=1==c.nodeType?[c]:c;for(var d=b.bEnable,e=0;e<c.length;e++)c[e].disabled=!d;return this;case"s4obj":a=b.oObj;var f=this;for(var g in a)a.hasOwnProperty(g)&&f.enable(g,a[g]);return this;case"g":var c=this._form[a];if(!c)return this;c=1==c.nodeType?[c]:c;for(var h=!0,e=0;e<c.length;e++)if(c[e].disabled){h=!1;break}return h}},jindo.$Form.prototype.value=function(a){var b=g_checkVarType(arguments,{s4str:["sKey:String+","vValue:Variant"],s4obj:[jindo.$Jindo._F("oObj:Hash+")],g:["sKey:String+"]},"$Form#value");if(b+""=="s4obj"){var c=this;a=b.oObj;for(var d in a)a.hasOwnProperty(d)&&c.value(d,a[d]);return this}var e=this._form[a];if(!e)throw new jindo.$Error(a+jindo.$Except.NONE_ELEMENT,"$Form#value");switch(e=1==e.nodeType?[e]:e,b+""){case"s4str":for(var f=b.vValue,g=e.length,h=0;g>h;h++){var i=e[h];switch(i.type){case"radio":i.checked=i.value==f;break;case"checkbox":i.checked=f.constructor==Array?jindo.$A(f).has(i.value):i.value==f;break;case"select-one":for(var j=-1,h=0,k=i.options.length;k>h;h++)i.options[h].value==f&&(j=h);i.selectedIndex=j;break;case"select-multiple":var j=-1;if(f.constructor==Array)for(var l=jindo.$A(f),h=0,k=i.options.length;k>h;h++)i.options[h].selected=l.has(i.options[h].value);else{for(var h=0,k=i.options.length;k>h;h++)i.options[h].value==f&&(j=h);i.selectedIndex=j}break;default:i.value=f}}return this;case"g":for(var m=[],g=e.length,h=0;g>h;h++){var i=e[h];switch(i.type){case"radio":case"checkbox":i.checked&&m.push(i.value);break;case"select-one":-1!=i.selectedIndex&&m.push(i.options[i.selectedIndex].value);break;case"select-multiple":if(-1!=i.selectedIndex)for(var h=0,k=i.options.length;k>h;h++)i.options[h].selected&&m.push(i.options[h].value);break;default:m.push(i.value)}}return m.length>1?m:m[0]}},jindo.$Form.prototype.submit=function(){var a=g_checkVarType(arguments,{voi:[],"4str":["sTargetName:String+"],"4fun":["fValidation:Function+"],"4fun2":["sTargetName:String+","fValidation:Function+"]},"$Form#submit"),b=null;switch(a+""){case"4str":b=this._form.target,this._form.target=a.sTargetName;break;case"4fun":case"4fun2":if(!a.fValidation.call(this,this._form))return this;a+""=="4fun2"&&(b=this._form.target,this._form.target=a.sTargetName)}return this._form.submit(),jindo.$Jindo.isNull(b)||(this._form.target=b),this},jindo.$Form.prototype.reset=function(a){var b=g_checkVarType(arguments,{"4voi":[],"4fun":["fValidation:Function+"]},"$Form#reset");return b+""!="4fun"||a.call(this,this._form)?(this._form.reset(),this):this},jindo.$Template=function(a,b){var c,d=null,e="",f=arguments.callee;if(a instanceof f)return a;if(!(this instanceof f))try{return jindo.$Jindo._maxWarn(arguments.length,2,"$Template"),new f(a||"",b||"default")}catch(g){if(g instanceof TypeError)return null;throw g}var h=g_checkVarType(arguments,{"4str":["str:String+"],"4ele":["ele:Element+"],"4str3":["str:String+","sEngineName:String+"],"4ele3":["ele:Element+","sEngineName:String+"]},"$Template");switch((d=document.getElementById(a)||a)&&d.tagName&&(e=d.tagName.toUpperCase())&&("TEXTAREA"==e||"SCRIPT"==e&&"text/template"==d.getAttribute("type"))&&(a=(d.value||d.innerHTML).replace(/^\s+|\s+$/g,"")),this._str=a+"",c="default",h+""){case"4str3":case"4ele3":c=h.sEngineName}this._compiler=jindo.$Template.getEngine(c)},jindo.$Template._aEngines={},jindo.$Template._cache={},jindo.$Template.splitter=/(?!\\)[\{\}]/g,jindo.$Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+)|gset (.+))$/,jindo.$Template.addEngine=function(){var a=g_checkVarType(arguments,{"4fun":["sEngineName:String+","fEngine:Function+"]},"$Template#addEngine");jindo.$Template._aEngines[a.sEngineName]=a.fEngine},jindo.$Template.getEngine=function(){var a=g_checkVarType(arguments,{"4str":["sEngineName:String+"]},"$Template#getEngine");return jindo.$Template._aEngines[a.sEngineName]},jindo.$Template.prototype.process=function(){var a,b=g_checkVarType(arguments,{"4obj":["data:Hash+"],"4voi":[]},"$Template#process");return jindo.$Template._cache&&jindo.$Template._cache[this._str]?(a=jindo.$Template._cache[this._str])(b+""=="for_void"?"":b.data):(jindo.$Template._cache[this._str]=a=this._compiler(this._str),a(b+""=="for_void"?"":b.data))},jindo.$Template.addEngine("default",function(a){function b(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")}a=a.replace(/\\{/g,"#LEFT_CURLY_BRACKET#").replace(/\\}/g,"#RIGHT_CURLY_BRACKET#");var c=[],d=!1;c.push("var $RET$ = [];"),c.push('var $SCOPE$ = $ARG$ && typeof $ARG$ === "object" ? $ARG$ : {};'),c.push("with ($SCOPE$) {");var e=0;do d=!1,a=a.replace(/^[^{]+/,function(a){return d=c.push('$RET$.push("'+b(a)+'");'),""}),a=a.replace(/^{=([^}]+)}/,function(a,b){return d=c.push("typeof "+b+' != "undefined" && $RET$.push('+b+");"),""}),a=a.replace(/^{js\s+([^}]+)}/,function(a,b){return b=b.replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(a){return a.replace("=","")}),d=c.push("$RET$.push("+b+");"),""}),a=a.replace(/^{(g)?set\s+([^=]+)=([^}]+)}/,function(a,b,e,f){return d=c.push((b?"var ":"$SCOPE$.")+e+"="+f.replace(/(\s|\(|\[)=/g,"$1")+";"),""}),a=a.replace(/^{for\s+([^:}]+)(:([^\s]+))?\s+in\s+([^}]+)}/,function(a,b,a,f,g){f||(f=b,b="$NULL$"+e);var h="$I$"+e,i="$CB$"+e;return e++,c.push("(function("+i+") {"),c.push("if (jindo.$Jindo.isArray("+g+")) {"),c.push("for (var "+h+" = 0; "+h+" < "+g+".length; "+h+"++) {"),c.push(i+"("+h+", "+g+"["+h+"]);"),c.push("}"),c.push("} else {"),c.push("for (var "+h+" in "+g+") if ("+g+".hasOwnProperty("+h+")) { "),c.push(i+"("+h+", "+g+"["+h+"]);"),c.push("}"),c.push("}"),c.push("})(function("+b+", "+f+") {"),d=!0,""}),a=a.replace(/^{\/for}/,function(){return d=c.push("});"),""}),a=a.replace(/^{(else)?if\s+([^}]+)}/,function(a,b,e){return d=c.push((b?"} else ":"")+"if ("+e+") {"),""}),a=a.replace(/^{else}/,function(){return d=c.push("} else {"),""}),a=a.replace(/^{\/if}/,function(){return d=c.push("}"),""});while(d);c.push("}"),c.push('return $RET$.join("");');var f=new Function("$ARG$",c.join("\n").replace(/\r/g,"").replace(/#LEFT_CURLY_BRACKET#/g,"{").replace(/#RIGHT_CURLY_BRACKET#/g,"}"));return f}),jindo.$Template.addEngine("micro",function(a){return new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")}),jindo.$Template.addEngine("handlebars",function(a){if("undefined"==typeof Handlebars)throw new jindo.$Error(jindo.$Except.NOT_FOUND_HANDLEBARS,"$Template#process");return Handlebars.compile(a)}),jindo.$Template.addEngine("simple",function(a){return function(b){return a.replace(/\{\{([^{}]*)\}\}/g,function(a,c){return"undefined"==typeof b[c]?"":b[c]})}}),jindo.$Date=function(a){var b=arguments,c=arguments.callee;if(a&&a instanceof c)return a;if(!(this instanceof c)){for(var d="",e=0,f=b.length;f>e;e++)d+="a["+e+"],";var g=new Function("cl","a","return new cl("+d.replace(/,$/,"")+");");try{return jindo.$Jindo._maxWarn(arguments.length,7,"$Date"),g(c,b)}catch(h){if(h instanceof TypeError)return null;throw h}}var i=g_checkVarType(arguments,{"4voi":[],"4str":["src:String+"],"4num":["src:Numeric"],"4dat":["src:Date+"],"4num2":["src:Numeric","src:Numeric"],"4num3":["src:Numeric","src:Numeric","src:Numeric"],"4num4":["src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num5":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num6":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num7":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"]},"$Date");switch(i+""){case"4voi":this._date=new Date;break;case"4num":this._date=new Date(1*a);break;case"4str":this._date=/(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d)))/.test(a)?jindo.$Date._makeISO(a):c.parse(a);break;case"4dat":(this._date=new Date).setTime(a.getTime()),this._date.setMilliseconds(a.getMilliseconds());break;case"4num2":case"4num3":case"4num4":case"4num5":case"4num6":case"4num7":for(var e=0;7>e;e++)jindo.$Jindo.isNumeric(b[e])||(b[e]=2==e?1:0);this._date=new Date(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}this._names={};for(var e in jindo.$Date.names)jindo.$Date.names.hasOwnProperty(e)&&(this._names[e]=jindo.$Date.names[e])},jindo.$Date._makeISO=function(a){var b=a.match(/(\d{4})(?:-?(\d\d)(?:-?(\d\d)(?:[T ](\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|(?:([-+])(\d\d)(?::?(\d\d))?)?)?)?)?)?/),c=parseInt(b[4]||0,10),d=parseInt(b[5]||0,10);return"Z"==b[8]?c+=jindo.$Date.utc:("+"==b[9]||"-"==b[9])&&(c+=jindo.$Date.utc-parseInt(b[9]+b[10],10),d+=parseInt(b[9]+b[11],10)),new Date(b[1]||0,parseInt(b[2]||0,10)-1,b[3]||0,c,d,b[6]||0,b[7]||0)},jindo.$Date._paramCheck=function(a,b){return g_checkVarType(a,{s:["nParm:Numeric"],g:[]},"$Date#"+b)},jindo.$Date.names={month:["January","Febrary","March","April","May","June","July","August","September","October","Novermber","December"],s_month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s_day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"]},jindo.$Date.utc=(new Date).getTimezoneOffset()/60*-1,jindo.$Date.now=function(){return this.now=Date.now?function(){return Date.now()}:function(){return+new Date},this.now()},jindo.$Date.prototype.name=function(a,b){var c=g_checkVarType(arguments,{s4str:["sKey:String+","aValue:Array+"],s4obj:["oObject:Hash+"],g:["sKey:String+"]},"$Date#name");switch(c+""){case"s4str":this._names[a]=b;break;case"s4obj":a=c.oObject;for(var d in a)a.hasOwnProperty(d)&&(this._names[d]=a[d]);break;case"g":return this._names[a]}return this},jindo.$Date.parse=function(a){var b=(g_checkVarType(arguments,{"4str":["sKey:String+"]},"$Date#parse"),new Date(Date.parse(a)));if(isNaN(b)||"Invalid Date"==b)throw new jindo.$Error(jindo.$Except.INVALID_DATE,"$Date#parse");return b},jindo.$Date.prototype.$value=function(){return this._date},jindo.$Date.prototype.format=function(a){var b=g_checkVarType(arguments,{"4str":["sFormat:String+"]},"$Date#format");a=b.sFormat;var c={},d=this._date,e=this._names,f=this;return(a||"").replace(/[a-z]/gi,function(a){if(void 0!==c[a])return c[a];switch(a){case"d":case"j":return c.j=d.getDate(),c.d=(c.j>9?"":"0")+c.j,c[a];case"l":case"D":case"w":case"N":return c.w=d.getDay(),c.N=c.w?c.w:7,c.D=e.s_day[c.w],c.l=e.day[c.w],c[a];case"S":return(c.S=["st","nd","rd"][d.getDate()])?c.S:c.S="th";case"z":return c.z=Math.floor((d.getTime()-new Date(d.getFullYear(),0,1).getTime())/864e5),c.z;case"m":case"n":return c.n=d.getMonth()+1,c.m=(c.n>9?"":"0")+c.n,c[a];case"F":case"M":return c[a]=e["F"==a?"month":"s_month"][d.getMonth()],c[a];case"L":return c.L=f.isLeapYear(),c.L;case"o":case"Y":case"y":return c.o=c.Y=d.getFullYear(),c.y=(c.o+"").substr(2),c[a];case"a":case"A":case"g":case"G":case"h":case"H":return c.G=d.getHours(),c.g=(c.g=c.G%12)?c.g:12,c.A=c.G<12?e.ampm[0]:e.ampm[1],c.a=c.A.toLowerCase(),c.H=(c.G>9?"":"0")+c.G,c.h=(c.g>9?"":"0")+c.g,c[a];case"i":return c.i=((c.i=d.getMinutes())>9?"":"0")+c.i,c.i;case"s":return c.s=((c.s=d.getSeconds())>9?"":"0")+c.s,c.s;case"u":return c.u=d.getMilliseconds(),c.u;case"U":return c.U=f.time(),c.U;default:return a}})},jindo.$Date.prototype.time=function(a){var b=jindo.$Date._paramCheck(arguments,"time");switch(a=b.nParm,b+""){case"s":return this._date.setTime(a),this;case"g":return this._date.getTime()}},jindo.$Date.prototype.year=function(a){var b=jindo.$Date._paramCheck(arguments,"year");switch(a=b.nParm,b+""){case"s":return this._date.setFullYear(a),this;case"g":return this._date.getFullYear()}},jindo.$Date.prototype.month=function(a){var b=jindo.$Date._paramCheck(arguments,"month");switch(a=b.nParm,b+""){case"s":return this._date.setMonth(a),this;case"g":return this._date.getMonth()}},jindo.$Date.prototype.date=function(a){var b=jindo.$Date._paramCheck(arguments,"date");switch(a=b.nParm,b+""){case"s":return this._date.setDate(a),this;case"g":return this._date.getDate()}},jindo.$Date.prototype.day=function(){return this._date.getDay()},jindo.$Date.prototype.hours=function(a){var b=jindo.$Date._paramCheck(arguments,"hours");switch(a=b.nParm,b+""){case"s":return this._date.setHours(a),this;case"g":return this._date.getHours()}},jindo.$Date.prototype.minutes=function(a){var b=jindo.$Date._paramCheck(arguments,"minutes");switch(a=b.nParm,b+""){case"s":return this._date.setMinutes(a),this;case"g":return this._date.getMinutes()}},jindo.$Date.prototype.seconds=function(a){var b=jindo.$Date._paramCheck(arguments,"seconds");switch(a=b.nParm,b+""){case"s":return this._date.setSeconds(a),this;case"g":return this._date.getSeconds()}},jindo.$Date.prototype.isLeapYear=function(){var a=this._date.getFullYear();return!((a%4||!(a%100))&&a%400)},jindo.$Date.prototype.compare=function(a,b){var c=g_checkVarType(arguments,{"4dat":["oDate:Date+"],"4str":["oDate:Date+","sType:String+"]},"$Date#compare");return a=c.oDate,b=c.sType,b?"s"===b?Math.floor(a/1e3)-Math.floor(this._date/1e3):"i"===b?Math.floor(Math.floor(a/1e3)/60)-Math.floor(Math.floor(this._date/1e3)/60):"h"===b?Math.floor(Math.floor(Math.floor(a/1e3)/60)/60)-Math.floor(Math.floor(Math.floor(this._date/1e3)/60)/60):"d"===b?Math.floor(Math.floor(Math.floor(Math.floor(a/1e3)/60)/60)/24)-Math.floor(Math.floor(Math.floor(Math.floor(this._date/1e3)/60)/60)/24):"m"===b?a.getMonth()-this._date.getMonth():"y"===b?a.getFullYear()-this._date.getFullYear():void 0:a-this._date},!function(){for(var a,b,c=["$Agent","$Ajax","$A","$Cookie","$Date","$Document","$Element","$ElementList","$Event","$Form","$Fn","$H","$Json","$S","$Template"],d=0,e=c.length;e>d;d++)a=c[d],b=jindo[a],b&&(b.addExtension=function(a){return function(b,c){return jindo._p_.addExtension(a,b,c),this
}}(a));for(var f=["$Element","$Event"],d=0,e=f.length;e>d;d++){var g=f[d];jindo[g]&&(jindo[g].hook=function(a){var b={};return function(c,d){var e=jindo.$Jindo.checkVarType(arguments,{g:["sName:String+"],s4var:["sName:String+","vRevisionKey:Variant"],s4obj:["oObj:Hash+"]},"jindo."+a+".hook");switch(e+""){case"g":return b[e.sName.toLowerCase()];case"s4var":return null==d?delete b[e.sName.toLowerCase()]:b[e.sName.toLowerCase()]=d,this;case"s4obj":var f=e.oObj;for(var g in f)b[g.toLowerCase()]=f[g];return this}}}(g))}jindo.$Jindo.isUndefined(window)||-1==jindo._p_._j_ag.indexOf("IEMobile")&&jindo._p_._j_ag.indexOf("Mobile")>-1&&jindo._p_._JINDO_IS_SP||new jindo.$Element(window).attach("unload",function(){jindo.$Element.eventManager.cleanUpAll()}),"function"==typeof define&&define.amd&&define("jindo",[],function(){return jindo})}(),!function(){if("undefined"!=typeof window)for(var a in jindo)jindo.hasOwnProperty(a)&&(window[a]=jindo[a])}();
jindo._p_.redefineObjFunc=function(sName,re,sVal){var vTemp=sName.split("."),sObjectName=vTemp[1],bObj=sName.indexOf("prototype")==-1,obj=window;if(!jindo[sObjectName]){return}for(var i=0,str;str=vTemp[i];i++){obj=obj[str]}if(bObj){(vTemp=function(){}).prototype=obj.prototype;for(var x in obj){vTemp[x]=obj[x]}}obj=eval(sName+"="+obj.toString().replace(re,sVal));if(bObj){obj.prototype=vTemp.prototype;for(var x in vTemp){obj[x]=vTemp[x]}if(window[sObjectName]){window[sObjectName]=obj}}};jindo._p_.redefineObjFunc("jindo.$Jindo",/{/,"{this.version='"+jindo.VERSION+"';");jindo.$Jindo.VERSION=jindo.VERSION;jindo._p_.redefineObjFunc("jindo.$Event.prototype.pos",/(pageY\s*:[^}\r\n\t]*(\w+)\.clientY[^}\r\n\t]*)/,"$1, layerX:'offsetX' in $2 ? $2.offsetX : $2.layerX-1, layerY: 'offsetY' in $2 ? $2.offsetY : $2.layerY-1");
!function(e){e&&window[e].$Fn&&(window[e].$Fn._commonPram=function(e,n){return g_checkVarType(e,{"4ele":["eElement:Element+","sEvent:String+"],"4ele2":["eElement:Element+","sEvent:String+","bUseCapture:Boolean"],"4str":["eElement:String+","sEvent:String+"],"4str2":["eElement:String+","sEvent:String+","bUseCapture:Boolean"],"4arr":["aElement:Array+","sEvent:String+"],"4arr2":["aElement:Array+","sEvent:String+","bUseCapture:Boolean"],"4doc":["eElement:Document+","sEvent:String+"],"4win":["eElement:Window+","sEvent:String+"],"4doc2":["eElement:Document+","sEvent:String+","bUseCapture:Boolean"],"4win2":["eElement:Window+","sEvent:String+","bUseCapture:Boolean"],"4nod":["eElement:Node","sEvent:String+"],"4nod2":["eElement:Node","sEvent:String+","bUseCapture:Boolean"]},n)})}(function(){if(window.jindo)return"jindo";for(var e in window)if(!/(top|self|parent|window)/.test(e)&&window[e].hasOwnProperty("$Fn"))return e}());
/**
 * Jindo Mobile Component
 * @version 1.14.0-SEARCH
 * 
 * NAVER Corp; JindoJS JavaScript Framework
 * http://jindo.dev.naver.com/
 * 
 * Released under the LGPL v2 license
 * http://www.gnu.org/licenses/old-licenses/lgpl-2.0.html
 */
/**
 *	jindo.m
 *	jindo.m.Component
 *	jindo.m.AjaxHistory
 *	jindo.m.UIComponent
 *	jindo.m.Effect
 *	jindo.m.Morph
 *	jindo.m.Animation
 *	jindo.m.Flicking
 *	jindo.m.Touch
 *	jindo.m.SwipeCommon
 *	jindo.m.Flick
 *	jindo.m.Slide
 *	jindo.m.SlideFlicking
 *	jindo.m.CircularFlicking
 *	jindo.m.CorePagination
 *	jindo.m.LayerEffect
 *	jindo.m._Effect_
 *	jindo.m.SlideEffect
 *	jindo.m.CoreTab
 *	jindo.m.FadeEffect
 *	jindo.m.LayerPosition
 *	jindo.m.ScrollEnd
 *	jindo.m.FloatingLayer
 *	jindo.m.Keyframe
 *	jindo.m.Loading
 *	jindo.m.MoreContentButton
 *	jindo.m.MovableCoord
 *	jindo.m.PageNavigation
 *	jindo.m.PreviewFlicking
 *	jindo.m.Scroll
 *	jindo.m.Slider
 *	jindo.m.Tab
 *	jindo.m.Transition
 *	jindo.m._FlickingAnimation_
 */
var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;if(raf&&!caf){var keyInfo={},oldraf=raf;raf=function(t){function e(){keyInfo[n]&&t()}var n=oldraf(e);return keyInfo[n]=!0,n},caf=function(t){delete keyInfo[t]}}else raf&&caf||(raf=function(t){return window.setTimeout(t,16)},caf=window.clearTimeout);window.requestAnimationFrame=raf,window.cancelAnimationFrame=caf,jindo.m=function(){function _initTouchEventName(){"ontouchstart"in window?(_htTouchEventName.start="touchstart",_htTouchEventName.move="touchmove",_htTouchEventName.end="touchend",_htTouchEventName.cancel="touchcancel"):window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0&&(_htTouchEventName.start="MSPointerDown",_htTouchEventName.move="MSPointerMove",_htTouchEventName.end="MSPointerUp",_htTouchEventName.cancel="MSPointerCancel")}function _getOrientationChangeEvt(){var t="onorientationchange"in window?"orientationchange":"resize";return _htOsInfo.android&&"2.1"===_htOsInfo.version&&(t="resize"),t}function _getVertical(){var t=null,e=_getOrientationChangeEvt();if("resize"===e){var n=document.documentElement.clientWidth;t=-1==_nPreWidth?n<document.documentElement.clientHeight:_nPreWidth>n?!0:n==_nPreWidth?_isVertical:!1,_nPreWidth=n}else{var i=window.orientation;0===i||180==i?t=!0:(90==i||-90==i)&&(t=!1)}return t}function _attachEvent(){jindo.$Fn(_onOrientationChange,this).attach(window,_getOrientationChangeEvt()).attach(window,"load"),jindo.$Fn(_onPageshow,this).attach(window,"pageshow")}function _initDeviceInfo(){function t(t,e){return(e||"").indexOf(t)>-1}_setOsInfo(),_setBrowserInfo();var e=navigator.userAgent;_htDeviceInfo={iphone:_htOsInfo.iphone,ipad:_htOsInfo.ipad,android:_htOsInfo.android,win:t("Windows Phone",e),galaxyTab:/SHW-M180/.test(e),galaxyTab2:/SHW-M380/.test(e),galaxyS:/SHW-M110/.test(e),galaxyS2:/SHW-M250|GT-I9100/.test(e),galaxyS2LTE:/SHV-E110/.test(e),galaxyS3:/SHV-E210|SHW-M440|GT-I9300/.test(e),galaxyNote:/SHV-E160/.test(e),galaxyNote2:/SHV-E250/.test(e),galaxyNexus:/Galaxy Nexus/.test(e),optimusLte2:/LG-F160/.test(e),optimusVu:/LG-F100/.test(e),optimusLte:/LG-LU6200|LG-SU640|LG-F120K'/.test(e),galaxyS4:/SHV-E300|GT-I9500|GT-I9505|SGH-M919|SPH-L720|SGH-I337|SCH-I545/.test(e),bChrome:_htBrowserInfo.chrome,bSBrowser:_htBrowserInfo.bSBrowser,bInapp:!1,version:_htOsInfo.version,browserVersion:_htBrowserInfo.version};for(var n in _htDeviceInfo)"boolean"==typeof _htDeviceInfo[n]&&_htDeviceInfo[n]&&_htDeviceInfo.hasOwnProperty(n)&&"b"!==n[0]&&(_htDeviceInfo.name=n);_htDeviceInfo.samsung=/GT-|SCH-|SHV-|SHW-|SPH|SWT-|SGH-|EK-|Galaxy Nexus|SAMSUNG/.test(e),_htDeviceInfo.lg=/LG-/.test(e),_htDeviceInfo.pantech=/IM-/.test(e),_htDeviceInfo.iphone||_htDeviceInfo.ipad?t("Safari",e)||(_htDeviceInfo.bInapp=!0):_htDeviceInfo.android&&(e=e.toLowerCase(),(t("inapp",e)||t("app",e.replace("applewebkit","")))&&(_htDeviceInfo.bInapp=!0))}function _setOsInfo(){_htOsInfo=jindo.$Agent().os(),_isInapp(),_htOsInfo.version=_htOsInfo.version||_getOsVersion(),_htOsInfo.ios="undefined"==typeof _htOsInfo.ios?_htOsInfo.ipad||_htOsInfo.iphone:_htOsInfo.ios}function _setBrowserInfo(){_htBrowserInfo=jindo.$Agent().navigator(),_htOsInfo.ios&&/CriOS/.test(navigator.userAgent)&&(_htBrowserInfo.chrome=!0),"undefined"==typeof _htBrowserInfo.firefox&&(_htBrowserInfo.firefox=/Firefox/.test(navigator.userAgent)),_isSBrowser(),_updateUnderVersion()}function _updateUnderVersion(){_htBrowserInfo.msafari&&_htBrowserInfo.chrome?_htBrowserInfo.version=parseFloat(_htOsInfo.ios?navigator.userAgent.match(/CriOS[ \/]([0-9.]+)/)[1]:navigator.userAgent.match(/Chrome[ \/]([0-9.]+)/)[1]):_htBrowserInfo.firefox&&(_htBrowserInfo.version=parseFloat(navigator.userAgent.match(/Firefox[ \/]([0-9.]+)/)[1]))}function _isInapp(){var t=navigator.userAgent;_htOsInfo.bInapp=!1,_htOsInfo.ios?-1==t.indexOf("Safari")&&(_htOsInfo.bInapp=!0):_htOsInfo.android&&(t=t.toLowerCase(),(-1!=t.indexOf("inapp")||-1!=t.replace("applewebkit","").indexOf("app"))&&(_htOsInfo.bInapp=!0))}function _isSBrowser(){_htBrowserInfo.bSBrowser=!1;var t=navigator.userAgent,e=t.match(/(SAMSUNG|Chrome)/gi)||"";e.length>1&&(_htBrowserInfo.bSBrowser=!0)}function _getOsVersion(){if(!_htOsInfo.version){var t,e=navigator.userAgent,n="";return _htOsInfo.iphone||_htOsInfo.ipad?(t=e.match(/OS\s([\d|\_]+\s)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.android?(t=e.match(/Android\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.mwin&&(t=e.match(/Windows Phone\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])),n.replace(/\_/g,".").replace(/\s/g,"")}}function _onOrientationChange(t){if("load"===t.type)return _nPreWidth=document.documentElement.clientWidth,void(_isVertical=_htOsInfo.bInapp||!_htOsInfo.iphone&&!_htOsInfo.ipad&&"resize"===_getOrientationChangeEvt()?_nPreWidth>document.documentElement.clientHeight?!1:!0:_getVertical());if("resize"===_getOrientationChangeEvt())setTimeout(function(){_orientationChange(t)},0);else{var e=jindo.$Document().clientSize().width,n=300;if(_htDeviceInfo.android){if("orientationchange"==t.type&&e==_nPreWidth)return setTimeout(function(){_onOrientationChange(t)},500),!1;_nPreWidth=e}clearTimeout(_nRotateTimer),_nRotateTimer=setTimeout(function(){_orientationChange(t)},n)}}function _orientationChange(t){var e=_isVertical;_isVertical=_getVertical(),(jindo.$Agent().navigator().mobile||jindo.$Agent().os().ipad)&&e!==_isVertical&&(t.sType="rotate",t.isVertical=_isVertical,_fireEvent("mobilerotate",t))}function _onPageshow(t){_isVertical=_getVertical(),t.sType="pageShow",setTimeout(function(){_fireEvent("mobilePageshow",t)},300)}function _getTranslateOffsetFromCSSMatrix(t){var e=new WebKitCSSMatrix(window.getComputedStyle(t).webkitTransform);return{top:e.m42,left:e.m41}}function _fireEvent(t,e){if(_htHandler[t])for(var n=_htHandler[t].concat(),i=0,o=n.length;o>i;i++)n[i].call(this,e)}function _getTranslateOffsetFromStyle(t){var e=0,n=0,i=null,o=t.style[""==jindo.m.getCssPrefix()?"transform":jindo.m.getCssPrefix()+"Tranform"];if(o&&o.length>0&&(i=o.match(/translate.{0,2}\((.*)\)/),i&&i.length>1)){var s=i[1].split(",");s&&s.length>1&&(e=parseInt(s[1],10),n=parseInt(s[0],10))}return{top:e,left:n}}var _isVertical=null,_nPreWidth=-1,_nRotateTimer=null,_htHandler={},_htDeviceInfo={},_htAddPatch={},_htOsInfo={},_htBrowserInfo={},_htTouchEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},_htDeviceList={galaxyTab:["SHW-M180"],galaxyTab2:["SHW-M380"],galaxyS:["SHW-M110"],galaxyS2:["SHW-M250","GT-I9100"],galaxyS2LTE:["SHV-E110"],galaxyS3:["SHV-E210","SHW-M440","GT-I9300"],galaxyNote:["SHV-E160"],galaxyNote2:["SHV-E250"],galaxyNexus:["Galaxy Nexus"],optimusLte2:["LG-F160"],optimusVu:["LG-F100"],optimusLte:["LG-LU6200","LG-SU640","LG-F120K"]},__M__={MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"},sVersion:"unknown",$init:function(){_initDeviceInfo(),_initTouchEventName(),_attachEvent()},bindRotate:function(t){var e=_htHandler.mobilerotate;"undefined"==typeof e&&(e=_htHandler.mobilerotate=[]),e.push(t)},unbindRotate:function(t){var e=_htHandler.mobilerotate;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},bindPageshow:function(t){var e=_htHandler.mobilePageshow;"undefined"==typeof e&&(e=_htHandler.mobilePageshow=[]),e.push(t)},unbindPageshow:function(t){var e=_htHandler.mobilePageshow;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},getDeviceInfo:function(){return _htDeviceInfo},getOsInfo:function(){return _htOsInfo},getBrowserInfo:function(){return _htBrowserInfo},isVertical:function(){return null===_isVertical?_isVertical=_getVertical():_isVertical},getNodeElement:function(t){for(;1!=t.nodeType;)t=t.parentNode;return t},getTranslateOffset:function(t){t=jindo.$Element(t);var e,n=t.$value();return e=_htOsInfo.android&&3===parseInt(_htOsInfo.version,10)?_getTranslateOffsetFromStyle(n):"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix?_getTranslateOffsetFromCSSMatrix(n):_getTranslateOffsetFromStyle(n)},getStyleOffset:function(t){var e=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return e=isNaN(e)?0:e,n=isNaN(n)?0:n,{left:e,top:n}},attachTransitionEnd:function(t,e){var n=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_=jindo.$Fn(e,this).attach(t,"transitionend");else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.addEventListener(i,e,!1)}},detachTransitionEnd:function(t,e){var n=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_&&(t._jindo_fn_.detach(t,"transitionend"),delete t._jindo_fn_);else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.removeEventListener(i,e,!1)}},_attachFakeJindo:function(t,e,n){var i=+jindo.$Jindo().version.replace(/[a-z.]/gi,""),o=null;return o=230>i&&"undefined"!=typeof _notSupport?_notSupport.$Fn(e).attach(t,n):jindo.$Fn(e).attach(t,n)},_getTouchEventName:function(){return _htTouchEventName},getCssPrefix:function(){var t="";return"undefined"!=typeof document.body.style.webkitTransition?t="webkit":"undefined"!=typeof document.body.style.transition||("undefined"!=typeof document.body.style.MozTransition?t="Moz":"undefined"!=typeof document.body.style.OTransition?t="O":"undefined"!=typeof document.body.style.msTransition&&(t="ms")),jindo.m.getCssPrefix=function(){return t},t},getClosest:function(t,e){var n,i=jindo.$Element(e),o=/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/gi;return o.test(t)?"<"+e.tagName.toUpperCase()+">"==t.toUpperCase()?n=e:(n=i.parent(function(e){return"<"+e.$value().tagName.toUpperCase()+">"==t.toUpperCase()?e:void 0}),n=n.length?n[0].$value():!1):(0==t.indexOf(".")&&(t=t.substring(1,t.length)),i.hasClass(t)?n=e:(n=i.parent(function(e){return e.hasClass(t)?e:void 0}),n=n.length?n[0].$value():!1)),n},useCss3d:function(t){if(_htAddPatch.useCss3d&&"function"==typeof _htAddPatch.useCss3d)switch(_htAddPatch.useCss3d()){case-1:return!1;case 1:return!0}"undefined"==typeof t&&(t=!1);var e=!1;if(_htBrowserInfo.chrome&&_htBrowserInfo.version<"25"&&!_htBrowserInfo.bSBrowser)return e;if(_htOsInfo.ios)e=!0;else if(_htBrowserInfo.firefox)e=!0;else if(_htOsInfo.android){var n=navigator.userAgent.match(/\(.*\)/);n instanceof Array&&n.length>0&&(n=n[0]),_htOsInfo.version>="4.1.0"?e=/EK-GN120|SM-G386F/.test(n)?!1:!0:(_htOsInfo.version>="4.0"&&(e=!0),_htOsInfo.version>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(n)&&!/SHW-M420|SHW-M200|GT-S7562/.test(n)&&(e=!0))}return e},patch:function(t){return _htAddPatch.ver=t,this},_checkPatchVersion:function(){var t=jindo.m.Component.VERSION.split("."),e=t.slice(0,3).join(".");return _htAddPatch.ver>=e?!0:!1},add:function(t){if(this._checkPatchVersion())for(var e in t)_htAddPatch[e]=t[e];return this},getDeviceName:function(){if(_htAddPatch.getDeviceName&&"function"==typeof _htAddPatch.getDeviceName&&_htAddPatch.getDeviceName())return _htAddPatch.getDeviceName();var sUserAgent=navigator.userAgent;for(var i in _htDeviceList)if(eval("/"+_htDeviceList[i].join("|")+"/").test(sUserAgent))return i;var htInfo=jindo.$Agent().os();for(var x in htInfo)if(htInfo[x]===!0&&htInfo.hasOwnProperty(x))return x},useFixed:function(){if(_htAddPatch.useFixed&&"function"==typeof _htAddPatch.useFixed)switch(_htAddPatch.useFixed()){case-1:return!1;case 1:return!0}var t=!1;return(_htBrowserInfo.chrome||_htBrowserInfo.firefox||_htOsInfo.android&&parseInt(_htOsInfo.version,10)>=3||_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=5||_htOsInfo.mwin&&parseInt(_htOsInfo.version,10)>=8)&&(t=!0),t},useTimingFunction:function(t){if(_htAddPatch.useTimingFunction&&"function"==typeof _htAddPatch.useTimingFunction&&_htAddPatch.useTimingFunction())switch(_htAddPatch.useTimingFunction()){case-1:return!1;case 1:return!0}"undefined"==typeof t&&(t=!1);var e=this.useCss3d();return _htOsInfo.android?e=!1:_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=6&&(e=t?!0:!1),e},_cacheMaxClientSize:{},_fullSizeCheckElement:null,_allEventStop:function(t,e){this._htEvent||(this._htEvent={}),"detach"==e?(this._htEvent.touchstart.detach(document.body,"touchstart").detach(document.body,"touchmove"),this._htEvent={}):this._htEvent.touchstart||"attach"!=e||(this._htEvent.touchstart=jindo.$Fn(t,this).attach(document.body,"touchstart").attach(document.body,"touchmove"))},_stopDefault:function(t){t.stop()},_hasOrientation:void 0!==window.orientation,_maxClientSize:function(t,e){var n=this.getOsInfo();this._allEventStop(this._stopDefault,"attach"),this._fullSizeCheckElement||(this._fullSizeCheckElement=document.createElement("div"));var i=n.android?500:100;i=e?1:i;var o;this._hasOrientation&&(o=Math.abs(window.orientation/90)%2,i=void 0!==this._cacheMaxClientSize[o]?0:i);var s=this;document.body.scrollTop<=1?(document.body.appendChild(s._fullSizeCheckElement),s._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+parseInt(window.innerHeight+200,10)+"px;",window.scrollTo(0,1),setTimeout(function(){s._checkSize(s._hasOrientation,s._cacheMaxClientSize,o,t,s,i)},i)):(this._fullSizeCheckElement.style.height=window.innerHeight+"px",this._checkSize(this._hasOrientation,this._cacheMaxClientSize,o,t,s,i))},_checkSize:function(t,e,n,i,o,s){var h=this.getOsInfo(),a=this.getBrowserInfo();this._allEventStop(this._stopDefault,"attach");var r;t&&e[n]?r=e[n]:(o._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+window.innerHeight+"px;overflow:hidden",r=a.mobile||h.ipad?{width:window.innerWidth,height:window.innerHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},t&&(e[n]=r)),i.call(o,r);var l=this;this._allEventStop(this._stopDefault,"detach"),0===s?this._fullSizeCheckElement.style.height="0px":setTimeout(function(){l._fullSizeCheckElement.style.height="0px"},s)},hasOffsetBug:function(){if(_htAddPatch.hasOffsetBug&&"function"==typeof _htAddPatch.hasOffsetBug)switch(_htAddPatch.hasOffsetBug()){case-1:return!1;case 1:return!0}var t=!1;return t=_htOsInfo.android?_htBrowserInfo.chrome||_htBrowserInfo.firefox?!1:_htOsInfo.version<"4"?!0:!1:!1},hasClickBug:function(){if(_htAddPatch.hasClickBug&&"function"==typeof _htAddPatch.hasClickBug)switch(_htAddPatch.hasClickBug()){case-1:return!1;case 1:return!0}return _htOsInfo.ios||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||!1},_getTranslate:function(t,e,n){return n="undefined"==typeof n?!0:n,"translate"+(n?"3d(":"(")+t+","+e+(n?",0)":")")},_toPrefixStr:function(t){return t.length<=0?t:(t=""==this.getCssPrefix()?t.charAt(0).toLowerCase()+t.substr(1):t.charAt(0).toUpperCase()+t.substr(1),this.getCssPrefix()+t)}};return __M__._isUseFixed=__M__.useFixed,__M__._isUseTimingFunction=__M__.useTimingFunction,__M__._isUseCss3d=__M__.useCss3d,__M__.getCssOffset=__M__.getTranslateOffset,__M__.$init(),__M__}(),"mixin"in jindo.$Jindo||(jindo.$Jindo.mixin=function(t,e){var n={};for(var i in t)n[i]=t[i];for(i in e)e.hasOwnProperty(i)&&"undefined"!=typeof e[i]&&(n[i]=e[i]);return n}),jindo.m.Component=jindo.$Class({_htEventHandler:null,_htOption:null,$init:function(){this._htEventHandler={},this._htOption={},this._htOption._htSetter={},this.constructor.$count=(this.constructor.$count||0)+1},option:function(t,e){switch(typeof t){case"undefined":var n={};for(var i in this._htOption)"htCustomEventHandler"!=i&&"_htSetter"!=i&&(n[i]=this._htOption[i]);return n;case"string":if("undefined"==typeof e)return this._htOption[t];if("htCustomEventHandler"==t){if("undefined"!=typeof this._htOption[t])return this;this.attach(e)}this._htOption[t]=e,"function"==typeof this._htOption._htSetter[t]&&this._htOption._htSetter[t](e);break;case"object":for(var o in t){if("htCustomEventHandler"==o){if("undefined"!=typeof this._htOption[o])continue;this.attach(t[o])}"_htSetter"!==o&&(this._htOption[o]=t[o]),"function"==typeof this._htOption._htSetter[o]&&this._htOption._htSetter[o](t[o])}}return this},optionSetter:function(t,e){switch(typeof t){case"undefined":return this._htOption._htSetter;case"string":if("undefined"==typeof e)return this._htOption._htSetter[t];this._htOption._htSetter[t]=jindo.$Fn(e,this).bind();break;case"object":for(var n in t)this._htOption._htSetter[n]=jindo.$Fn(t[n],this).bind()}return this},fireEvent:function(t,e){e=e||{};var n=this["on"+t],i=this._htEventHandler[t]||[],o="function"==typeof n,s=i.length>0;if(!o&&!s)return!0;i=i.concat(),e.sType=t,"undefined"==typeof e._aExtend&&(e._aExtend=[],e.stop=function(){e._aExtend.length>0&&(e._aExtend[e._aExtend.length-1].bCanceled=!0)}),e._aExtend.push({sType:t,bCanceled:!1});var h,a,r=[e];for(h=2,a=arguments.length;a>h;h++)r.push(arguments[h]);if(o&&n.apply(this,r),s){var l;for(h=0,l;l=i[h];h++)l.apply(this,r)}return!e._aExtend.pop().bCanceled},attach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.attach(e,t)},this).bind()),this;var n=this._htEventHandler[t];return"undefined"==typeof n&&(n=this._htEventHandler[t]=[]),n.push(e),this},detach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.detach(e,t)},this).bind()),this;var n=this._htEventHandler[t];if(n)for(var i,o=0;i=n[o];o++)if(i===e){n=n.splice(o,1);break}return this},detachAll:function(t){var e=this._htEventHandler;if(arguments.length)return"undefined"==typeof e[t]?this:(delete e[t],this);for(var n in e)delete e[n];return this}}),jindo.m.Component.factory=function(t,e){var n,i=[];"undefined"==typeof e&&(e={});for(var o,s=0;o=t[s];s++)n=new this(o,e),i[i.length]=n;return i},jindo.m.Component.getInstance=function(){throw new Error("JC 1.11.0 or JMC 1.13.0 later, getInstance method of Component is not longer supported.")},jindo.m.Component.VERSION="1.14.0-SEARCH",jindo.m.AjaxHistory=jindo.$Class({bHashEvent:!1,bPushState:!1,_nIntervalId:0,_htLastState:{},$init:function(t){this.option({nCheckInterval:100,bUseHash:!1}),this.option(t||{})},initialize:function(){this._initVar(),this._attachEvent();var t=this._getHash();return t?(this._htLastState=this._getDecodedData(t),this.fireEvent("change",{bLoad:!0,htHistoryData:this._htLastState})):this.fireEvent("load"),this},_initVar:function(){var t=jindo.m.getDeviceInfo();this.bHashEvent="onhashchange"in window,this.bPushState="undefined"!=typeof window.history&&"undefined"!=typeof window.history.pushState&&"undefined"!=typeof window.history.replaceState&&!((t.iphone||t.ipad)&&parseFloat(t.version,10)<4.3),this._nIntervalId=0,this._oAgent=jindo.$Agent().navigator(),this._bAndroid=t.android,this.option("bUseHash")&&(this.bPushState=!1)},_attachEvent:function(){this._htEvent={},this.bPushState?this._htEvent.popstate={ref:jindo.$Fn(this._onPopState,this).attach(window,"popstate"),el:window}:this.bHashEvent?this._htEvent.hashchange={ref:jindo.$Fn(this._onHashChange,this).attach(window,"hashchange"),el:window}:(clearInterval(this._nIntervalId),this._nIntervalId=setInterval(jindo.$Fn(this._onHashChange,this).bind(),this.option("nCheckInterval")))},_onPopState:function(t){var e=t.$value().state;if(e){var n=this._cloneObject(e);this._compareData(n,this._htLastState)||(this._htLastState=n,this._onChange())}},_onHashChange:function(){var t=this._getDecodedData(this._getHash());this._compareData(t,this._htLastState)||(this._htLastState=t,this._onChange())},_onChange:function(){this.fireEvent("change",{bLoad:!1,htHistoryData:this._htLastState})},addHistory:function(t,e){if("undefined"==typeof e&&(e=!1),t&&"object"==typeof t&&jindo.$H(t).length()>0){var n=this._cloneObject(t);if(this._compareData(n,this._htLastState))return;this._htLastState=n;var i=this._getEncodedData(this._htLastState);if(this.bPushState)e?this._replaceState(this._htLastState):this._pushState(this._htLastState);else{var o=this;this._bAndroid?setTimeout(function(){o._setHash(i)},0):this._setHash(i)}}},_replaceState:function(t){history.replaceState(t,document.title,location.href)},_pushState:function(t){history.pushState(t,document.title,location.href)},_setHash:function(t){location.hash=t},_compareData:function(t,e){if(t&&e){if(jindo.$H(t).length()==jindo.$H(e).length()){for(var n in t)if("object"==typeof t[n]){if(!arguments.callee(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}return!1}return!1},_getEncodedData:function(t){return t?encodeURIComponent("object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify(t):jindo.$Json(t).toString()):""},_getDecodedData:function(t){try{if(t){var e=decodeURIComponent(t);return"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(e):jindo.$Json(e).toObject()}}catch(n){}return{}},_cloneObject:function(t){var e,n;return t?(e=jindo.$Json(t).toString(),n=jindo.$Json(e).toObject()):n={},n},_getHash:function(){return this._oAgent.firefox?encodeURIComponent(location.hash.substring(1)):location.hash.substring(1)},_detachEvent:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref.detach(e.el,t)}this._htEvent=null},destroy:function(){this._detachEvent(),clearInterval(this._nIntervalId),this._nIntervalId=null}}).extend(jindo.m.Component),jindo.m.UIComponent=jindo.$Class({$init:function(){this._bIsActivating=!1},isActivating:function(){return this._bIsActivating},activate:function(){return this.isActivating()?this:(this._bIsActivating=!0,arguments.length>0?this._onActivate.apply(this,arguments):this._onActivate(),this)},deactivate:function(){return this.isActivating()?(this._bIsActivating=!1,arguments.length>0?this._onDeactivate.apply(this,arguments):this._onDeactivate(),this):this}}).extend(jindo.m.Component),jindo.m.Effect=function(t){if(this instanceof arguments.callee)throw new Error("You can't create a instance of this");var e=/^(\-?[0-9\.]+)(%|\w+)?$/,n=/^rgb\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+)\)$/i,i=/^rgba\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+),\s?([0-9\.]+)\)$/i,o=/^hsl\(([0-9\.]+)\s?,\s?([0-9\.]+)%\s?,\s?([0-9\.]+)%\)$/i,s=/^hsla\(([0-9\.]+)\s?,\s?([0-9\.]+)%\s?,\s?([0-9\.]+)%,\s?([0-9\.]+)\)$/i,h=/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,a=/^#([0-9A-F])([0-9A-F])([0-9A-F])$/i,r=function(t){var r,l=t;if(e.test(t))l=parseFloat(t),r=RegExp.$2||"";else if(n.test(t))l=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10),1],r="color";else if(i.test(t))l=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10),parseFloat(RegExp.$4,10)],r="color";else if(o.test(t))l=_(parseFloat(RegExp.$1,10),parseFloat(RegExp.$2,10)/100,parseFloat(RegExp.$3,10)/100,1),l.push(1),r="color";else if(s.test(t))l=_(parseFloat(RegExp.$1,10),parseFloat(RegExp.$2,10)/100,parseFloat(RegExp.$3,10)/100,1),l.push(parseFloat(RegExp.$4,10)),r="color";else{if(!h.test(t=t.replace(a,"#$1$1$2$2$3$3")))throw new Error("unit error ("+t+")");l=[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16),1],r="color"}return{nValue:l,sUnit:r}},l=function(t){var e=[];return t.replace(/([^\s]+\([^\)]*\)|[^\s]+)\s?/g,function(t,n){e.push(n)}),e},c=function(t){for(var e=l(t?t+"":"0"),n=[],i=0,o=e.length;o>i;i++)n.push(r(e[i]));return n},f=function(t){return"object"==typeof t?{nValue:t.nValue,sUnit:t.sUnit}:t},_=function(t,e,n){var i,o,s,h=(1-Math.abs(2*n-1))*e,a=t/60,r=h*(1-Math.abs(a%2-1));void 0===t||isNaN(t)||null===t?i=o=s=0:a>=0&&1>a?(i=h,o=r,s=0):a>=1&&2>a?(i=r,o=h,s=0):a>=2&&3>a?(i=0,o=h,s=r):a>=3&&4>a?(i=0,o=r,s=h):a>=4&&5>a?(i=r,o=0,s=h):a>=5&&6>a&&(i=h,o=0,s=r);var l=n-h/2;return[Math.round(255*(i+l)),Math.round(255*(o+l)),Math.round(255*(s+l))]};return function(e,n){var i,o,s=function(){var t=!1;if(h.start!==e&&(i=c(h.start),e=h.start,t=!0),h.end!==n&&(o=c(h.end),n=h.end,t=!0),t){var s,a,r=Math.max(i.length,o.length);if(i.length!==o.length&&r>1){switch(i.length){case 1:i[1]=f(i[2]=f(i[3]=f(i[0])));break;case 2:i[2]=f(i[0]),i[3]=f(i[1]);break;case 3:i[3]=f(i[1])}switch(o.length){case 1:o[1]=o[2]=o[3]=o[0];break;case 2:o[2]=o[0],o[3]=o[1];break;case 3:o[3]=o[1]}}for(var l=0;r>l;l++)if(s=i[l],a=o[l],0===s.nValue?s.sUnit=a.sUnit:0===a.nValue&&(a.sUnit=s.sUnit),s.sUnit!=a.sUnit)throw new Error("unit error ("+e+", "+n+")")}},h=function(e){var n=[];s();for(var h,a,r,l,c,f=0,_=Math.max(i.length,o.length);_>f;f++){h=i[f],a=o[f],r=h.nValue,l=a.nValue,c=h.sUnit;var u=t(e),d=function(t,e,n){return(e-t)*u+t+(n||0)};if("color"!=c)n.push(d(r,l,c));else{var m=d(r[3],l[3],0);if(1===m){var p=Math.max(0,Math.min(255,Math.round(d(r[0],l[0],0))))<<16;p|=Math.max(0,Math.min(255,Math.round(d(r[1],l[1],0))))<<8,p|=Math.max(0,Math.min(255,Math.round(d(r[2],l[2],0)))),p=p.toString(16).toUpperCase();for(var v=0;6-p.length;v++)p="0"+p;n.push("#"+p)}else n.push("rgba("+[Math.round(d(r[0],l[0],0)),Math.round(d(r[1],l[1],0)),Math.round(d(r[2],l[2],0)),d(r[3],l[3],0)].join(",")+")")}}return n.join(" ")};switch(arguments.length){case 0:break;case 1:n=e||"0",e="0",h.setStart=function(t){this.start=t}}return h.start=e,h.end=n,h.effectConstructor=arguments.callee,e=n=null,arguments.length>1&&s(),h}},jindo.m.Effect.linear=jindo.m.Effect(function(t){return t}),jindo.m.Effect.linear.toString=function(){return"linear"},jindo.m.Effect.easeInSine=jindo.m.Effect(function(t){return 1==t?1:-Math.cos(t*(Math.PI/2))+1}),jindo.m.Effect.easeOutSine=jindo.m.Effect(function(t){return Math.sin(t*(Math.PI/2))}),jindo.m.Effect.easeInOutSine=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInSine(0,1)(2*t):.5*jindo.m.Effect.easeOutSine(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInSine=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutSine(0,1)(2*t):.5*jindo.m.Effect.easeInSine(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInQuad=jindo.m.Effect(function(t){return t*t}),jindo.m.Effect.easeOutQuad=jindo.m.Effect(function(t){return-(t*(t-2))}),jindo.m.Effect.easeInOutQuad=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInQuad(0,1)(2*t):.5*jindo.m.Effect.easeOutQuad(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInQuad=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutQuad(0,1)(2*t):.5*jindo.m.Effect.easeInQuad(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInCubic=jindo.m.Effect(function(t){return Math.pow(t,3)}),jindo.m.Effect.easeOutCubic=jindo.m.Effect(function(t){return Math.pow(t-1,3)+1}),jindo.m.Effect.easeInOutCubic=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeIn(0,1)(2*t):.5*jindo.m.Effect.easeOut(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInCubic=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOut(0,1)(2*t):.5*jindo.m.Effect.easeIn(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInQuart=jindo.m.Effect(function(t){return Math.pow(t,4)}),jindo.m.Effect.easeOutQuart=jindo.m.Effect(function(t){return-(Math.pow(t-1,4)-1)}),jindo.m.Effect.easeInOutQuart=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInQuart(0,1)(2*t):.5*jindo.m.Effect.easeOutQuart(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInQuart=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutQuart(0,1)(2*t):.5*jindo.m.Effect.easeInQuart(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInQuint=jindo.m.Effect(function(t){return Math.pow(t,5)}),jindo.m.Effect.easeOutQuint=jindo.m.Effect(function(t){return Math.pow(t-1,5)+1}),jindo.m.Effect.easeInOutQuint=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInQuint(0,1)(2*t):.5*jindo.m.Effect.easeOutQuint(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInQuint=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutQuint(0,1)(2*t):.5*jindo.m.Effect.easeInQuint(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInCircle=jindo.m.Effect(function(t){return-(Math.sqrt(1-t*t)-1)}),jindo.m.Effect.easeOutCircle=jindo.m.Effect(function(t){return Math.sqrt(1-(t-1)*(t-1))}),jindo.m.Effect.easeInOutCircle=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInCircle(0,1)(2*t):.5*jindo.m.Effect.easeOutCircle(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInCircle=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutCircle(0,1)(2*t):.5*jindo.m.Effect.easeInCircle(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInBack=jindo.m.Effect(function(t){var e=1.70158;return 1==t?1:t/1*(t/1)*((1+e)*t-e)}),jindo.m.Effect.easeOutBack=jindo.m.Effect(function(t){var e=1.70158;return 0===t?0:(t=t/1-1)*t*((e+1)*t+e)+1}),jindo.m.Effect.easeInOutBack=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInBack(0,1)(2*t):.5*jindo.m.Effect.easeOutBack(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInElastic=jindo.m.Effect(function(t){var e,n=0,i=0;return 0===t?0:1==(t/=1)?1:(n||(n=.3),!i||1>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-1)*Math.PI/n)))}),jindo.m.Effect.easeOutElastic=jindo.m.Effect(function(t){var e,n=0,i=0;return 0===t?0:1==(t/=1)?1:(n||(n=.3),!i||1>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/n)+1)}),jindo.m.Effect.easeInOutElastic=jindo.m.Effect(function(t){var e,n=0,i=0;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5),!i||1>i?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),1>t?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)*.5+1)}),jindo.m.Effect.easeOutBounce=jindo.m.Effect(function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),jindo.m.Effect.easeInBounce=jindo.m.Effect(function(t){return 1-jindo.m.Effect.easeOutBounce(0,1)(1-t)}),jindo.m.Effect.easeInOutBounce=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInBounce(0,1)(2*t):.5*jindo.m.Effect.easeOutBounce(0,1)(2*t-1)+.5}),jindo.m.Effect.easeInExpo=jindo.m.Effect(function(t){return 0===t?0:Math.pow(2,10*(t-1))}),jindo.m.Effect.easeOutExpo=jindo.m.Effect(function(t){return 1==t?1:-Math.pow(2,-10*t/1)+1}),jindo.m.Effect.easeInOutExpo=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeInExpo(0,1)(2*t):.5*jindo.m.Effect.easeOutExpo(0,1)(2*t-1)+.5}),jindo.m.Effect.easeOutInExpo=jindo.m.Effect(function(t){return.5>t?.5*jindo.m.Effect.easeOutExpo(0,1)(2*t):.5*jindo.m.Effect.easeInExpo(0,1)(2*t-1)+.5}),jindo.m.Effect._cubicBezier=function(t,e,n,i){return function(o){function s(t){return((f*t+c)*t+l)*t}function h(t){return((d*t+u)*t+_)*t}function a(t){return(3*f*t+2*c)*t+l}function r(t,e){var n,i,o,h,r,l;for(o=t,l=0;8>l;l++){if(h=s(o)-t,Math.abs(h)<e)return o;if(r=a(o),Math.abs(r)<1e-6)break;o-=h/r}if(n=0,i=1,o=t,n>o)return n;if(o>i)return i;for(;i>n;){if(h=s(o),Math.abs(h-t)<e)return o;t>h?n=o:i=o,o=.5*(i-n)+n}return o}var l=3*t,c=3*(n-t)-l,f=1-l-c,_=3*e,u=3*(i-e)-_,d=1-_-u;return h(r(o,.005))}},jindo.m.Effect.cubicBezier=function(t,e,n,i){var o=jindo.m.Effect(jindo.m.Effect._cubicBezier(t,e,n,i)),s="cubic-bezier("+[t,e,n,i].join(",")+")";return o.toString=function(){return s},o},jindo.m.Effect.cubicEase=jindo.m.Effect.cubicBezier(.25,.1,.25,1),jindo.m.Effect.cubicEaseIn=jindo.m.Effect.cubicBezier(.42,0,1,1),jindo.m.Effect.cubicEaseOut=jindo.m.Effect.cubicBezier(0,0,.58,1),jindo.m.Effect.cubicEaseInOut=jindo.m.Effect.cubicBezier(.42,0,.58,1),jindo.m.Effect.cubicEaseOutIn=jindo.m.Effect.cubicBezier(0,.42,1,.58),jindo.m.Effect.overphase=jindo.m.Effect(function(t){return t/=.652785,(Math.sqrt((2-t)*t)+.1*t).toFixed(5)}),jindo.m.Effect.sinusoidal=jindo.m.Effect(function(t){return-Math.cos(t*Math.PI)/2+.5}),jindo.m.Effect.mirror=jindo.m.Effect(function(t){return jindo.m.Effect.sinusoidal(0,1)(.5>t?2*t:1-2*(t-.5))}),jindo.m.Effect.pulse=function(t){return jindo.m.Effect(function(e){return-Math.cos(e*(t-.5)*2*Math.PI)/2+.5})},jindo.m.Effect.wave=function(t,e){return jindo.m.Effect(function(n){return(e||1)*Math.sin(360*t*n*Math.PI/180).toFixed(5)})},jindo.m.Effect.stepStart=jindo.m.Effect(function(t){return 0===t?0:1}),jindo.m.Effect.stepEnd=jindo.m.Effect(function(t){return 1===t?1:0}),jindo.m.Effect.easeIn=jindo.m.Effect.easeInCubic,jindo.m.Effect.easeOut=jindo.m.Effect.easeOutCubic,jindo.m.Effect.easeInOut=jindo.m.Effect.easeInOutCubic,jindo.m.Effect.easeOutIn=jindo.m.Effect.easeOutInCubic,jindo.m.Effect.bounce=jindo.m.Effect.easeOutBounce,jindo.m.Effect.elastic=jindo.m.Effect.easeInElastic,jindo.m.Morph=jindo.$Class({$init:function(t){this.option({fEffect:jindo.m.Effect.linear,bUseTransition:!0}).option(t);
var e=document.body.style;this._bTransitionSupport="transition"in e||"webkitTransition"in e||"MozTransition"in e||"OTransition"in e||"msTransition"in e;var n=jindo.$Agent(),i=n.os(),o=n.navigator();this._bHasTransformRenderBug=i.ios&&5===parseInt(i.version,10)&&o.msafari,this._aQueue=[],this._aIngItem=null,this._oTimer=null,this._bPlaying=null,this._nPtr=0,this._nPausePassed=0,this._aRepeat=[],this._sTransitionEnd="webkitTransition"in e&&"webkitTransitionEnd"||"transition"in e&&"transitionend"||"MozTransition"in e&&"transitionend"||"OTransition"in e&&"oTransitionEnd"||"msTransition"in e&&"MSTransitionEnd"},pushAnimate:function(t,e){if(e&&!(e instanceof Array))throw Error("aLists should be a instance of Array");return e=[].concat(e),e.duration=t,this._aQueue.push(e),this},pushKeyframe:function(t,e){return this._aQueue.push({action:"keyframe",args:{duration:t,keyframe:e}}),this},pushWait:function(){for(var t=0,e=arguments.length;e>t;t++){var n=arguments[t];n instanceof this.constructor?this._aQueue.push(n):this.pushAnimate(n,[])}return this},pushCall:function(t){return this._aQueue.push(t),this},pushRepeatStart:function(t){"undefined"==typeof t&&(t=1);var e="L"+Math.round((new Date).getTime()*Math.random());return this._aRepeat.push(e),this._pushLabel(e,t),this},_pushLabel:function(t,e){return"undefined"==typeof e&&(e=1/0),this._aQueue.push({action:"label",args:{label:t,times:e}}),this},pushRepeatEnd:function(){var t=this,e=this._aRepeat.pop(),n=function(){var n=t._getLabelIndex(e);if(-1===n)throw"Repeat calls don't matched.";var i=this._aQueue[n];i.args.count=i.args.count||0,++i.args.count<i.args.times&&t._goto(n+1)};return n.__repeat_end=e,this.pushCall(n),this},_waitMorph:function(t){var e=this;if(!t.isPlaying())return!0;var n=function(){t.detach("end",n).detach("pause",n),e._flushQueue()};return t.attach("end",n).attach("pause",n),!1},_getLabelIndex:function(t){for(var e=null,n=0,i=this._aQueue.length;i>n;n++)if(e=this._aQueue[n],"label"===e.action&&e.args.label===t)return n;return-1},_getRepeatEndIndex:function(t,e){for(var n=null,i=e||0,o=this._aQueue.length;o>i;i++)if(n=this._aQueue[i],n instanceof Function&&n.__repeat_end===t)return i;return-1},_flushQueue:function(){var t,e,n,i,o,s=this;do{if(t=!1,e=this._aIngItem=this._aQueue[this._nPtr],!e)return this._bPlaying=!1,void(e||this.fireEvent("end"));if(this._nPtr++,e instanceof Function)e.call(this),t=!0;else if(e instanceof this.constructor)t=this._waitMorph(e);else if("number"!=typeof e)if("label"!==e.action)if("goto"!==e.action)if("keyframe"!==e.action){if(o=this._aCompiledItem,i=this._nPausePassed){for(var h=0,a=o.length;a>h;h++)o[h].sTimingFunc="";o.allCSS=!1}else o=this._aCompiledItem=this._compileItem(e);0!==o.length?(t=o.duration<0,t?this._processItem(1,!0):(this._playItem(i),this._nPausePassed=0)):setTimeout(function(){s._flushQueue()},o.duration)}else{if(n=e.args.keyframe,i=this._nPausePassed,o=this._aCompiledItem=e.args,t=o.duration<0){this._processKeyframe(1,n);continue}this._playKeyframe(i,n),this._nPausePassed=0}else this._goto(e.args.label),t=!0;else{if(delete e.args.count,e.args.times<1){var r=this._getRepeatEndIndex(e.args.label,this._nPtr);r>-1&&this._goto(r+1)}t=!0}else setTimeout(function(){s._flushQueue()},e)}while(t)},_playKeyframe:function(t,e){var n=this;this._nStart=(new Date).getTime()-t;var i=this._aCompiledItem,o=i.duration;!function s(){n._oTimer=n._requestAnimationFrame(function(){var t=n._nStart;if(null!==n._oTimer){n._oTimer=null;var i=Math.min(1,Math.max(0,((new Date).getTime()-t)/o));e.frame(i),1>i?s():(n.fireEvent("timerEnd"),n._flushQueue())}})}()},_playItem:function(t){var e=this;this._nStart=(new Date).getTime()-t,this._nIng=2,t||this._processItem(0,!0,3,!0);var n=this._aCompiledItem;n.allCSS?this._nIng--:this._animationLoop(!0),function(){var t=e._processItem(1,!0,1).transitionCache;if(!t||0===n.duration)return void(0===--e._nIng&&e._flushQueue());for(var i=null,o=t.length,s=0;o>s;s++){i=t[s];break}var h=function(n){for(var i,o=[];i=t.pop();)i.css(e._getCSSKey("transitionDuration"),"0.0001ms"),o.push(i);t=null,(window.requestAnimationFrame||window.setTimeout)(function(){for(;i=o.pop();)i.css(e._getCSSKey("transitionDuration"),"0"),i.css(e._getCSSKey("transitionProperty"),"none");o=null},0),e.fireEvent("transitionEnd"),0!==--e._nIng||n||e._requestAnimationFrame(function(){e._flushQueue()})};if(!i)return void h();var a=i.$value(),r=function(t){a.removeEventListener(e._sTransitionEnd,e._fpOnTransitionEnd,!0),e._fpOnTransitionEnd=null,h(t===!0)};e._fpOnTransitionEnd=function(t){r(t)},a.addEventListener(e._sTransitionEnd,e._fpOnTransitionEnd,!0)}()},_animationLoop:function(t){var e=this;this._oTimer=this._requestAnimationFrame(function(){var n=e._nStart,i=e._aCompiledItem.duration;if(null!==e._oTimer){e._oTimer=null;var o=Math.min(1,Math.max(0,((new Date).getTime()-n)/i));e._processItem(o,t,2),1>o?e._animationLoop():(e.fireEvent("timerEnd"),0===--e._nIng&&e._flushQueue())}})},_processKeyframe:function(t,e){e.preprocess().frame(t)},_processItem:function(t,e,n,i){var o={normalPropsToPause:[],transitionCache:[]},s=o.normalPropsToPause,h=o.transitionCache,a=this._aCompiledItem,r=a.duration;0===r?r=1:0>r&&(r=0);var l,c,f,_,u,d,m=this._bHasTransformRenderBug;if(n=n||3,this.fireEvent("beforeProgress",{nRate:t})){for(var p,v,g=[],E=0;v=a[E];E++){l=v.oObj,c=v.welObj,f=v.oProps;var T=v.sTimingFunc;T&&1&n&&(c&&c.$value().clientHeight,"@transition"in f||i||("@transitionProperty"in f||c.css(this._getCSSKey("transitionProperty"),"all"),"@transitionDuration"in f||c.css(this._getCSSKey("transitionDuration"),(r/1e3).toFixed(3)+"s"),"@transitionTimingFunction"in f||c.css(this._getCSSKey("transitionTimingFunction"),T)),h.push(c)),p={},g.push(l,p),i&&1===t&&"@transform"in f&&/AppleWebKit\/534\.30/.test(navigator.userAgent)&&(c.css(this._getCSSKey("transform"),""),l.clientHeight);for(var b in f)if(f.hasOwnProperty(b)){if(_=f[b],d=/^@(.*)$/.test(b)&&RegExp.$1,u=T&&d?1:2,!(n&u))continue;if("function"==typeof _)_=_(t);else if(!e)continue;d?(/transition/.test(b)&&(_=this._getCSSVal(_)),m&&"@transform"===b&&("@left"in f||"@top"in f)&&l.clientHeight,c.css(this._getCSSKey(d),_)):i?s.push([l,b,_]):l[b]=_,p[b]=_}}return this.fireEvent("progress",{aLists:g,nRate:t}),o}},_compileItem:function(t){var e=0==t.length,n=[];n.duration=t.duration;for(var i,o,s,h,a,r,l,c,f=this.option("fEffect"),_=0,u=t.length;u>_;_+=2){var d=null;i=t[_],o=jindo.$Element(i),s=t[_+1],r={};var m=!1;for(var p in s)if(s.hasOwnProperty(p)){var v,g;if(a=s[p],l=/^@(.*)$/.test(p),c=RegExp.$1,a instanceof Array?(h=a[0],a=a[1]):h=l?o.css(this._getCSSKey(c)):i[p],h=0===h?h:h||"",v="function"==typeof a?a.effectConstructor:f,g=this._getEffectCSS(v)||"",/^@transform$/.test(p)){if("function"==typeof a&&(a=a.end),r[p]=this._getTransformFunction(h,a,v,i),jindo.m){var E=jindo.m.getOsInfo();(/matrix/.test(h)||/matrix/.test(a))&&E.android&&parseFloat(E.version)<3&&(g="")}}else try{"function"==typeof a?("setStart"in a&&a.setStart(h),r[p]=a):r[p]=v(h,a)}catch(T){if(!/^unit error/.test(T.message))throw T;r[p]=a}var b=r[p];if("function"==typeof b&&b(0)===b(1)){delete r[p];continue}l?null===d?d=g:d!==g&&(d=""):g="",e=e||!d,m=!0}o.visible()||(d=null,e=!0),m&&n.push({oObj:i,welObj:o,oProps:r,sTimingFunc:d})}return n.allCSS=!e,n},play:function(){return this._bPlaying||(this._bPlaying=!0,this.fireEvent("play"),this._flushQueue()),this},reset:function(){return this._goto(0)},pause:function(t){if(!this._bPlaying)return this;this._cancelAnimationFrame(this._oTimer),this._oTimer=null;var e=this._aCompiledItem,n=e.duration;if("undefined"==typeof t){var i=(new Date).getTime()-this._nStart;t=i/n}t=Math.max(0,Math.min(1,t));var o=null;if(e.keyframe?this._processKeyframe(t,e.keyframe):o=this._processItem(t,!0,3,!0).normalPropsToPause,this._nPtr--,this._nPausePassed=Math.round(n*t),this._fpOnTransitionEnd&&this._fpOnTransitionEnd(!0),o)for(var s=0,h=o.length;h>s;s++){var a=o[s];a[0][a[1]]=a[2]}return this._bPlaying=!1,this.fireEvent("pause"),this},_goto:function(t){var e=t;if("number"==typeof t)t=t||0;else{if(t=this._getLabelIndex(e),-1===t)throw"Label not found";t++}return this._nPtr=t,this._nPausePassed=0,this},isPlaying:function(){return this._bPlaying||!1},clear:function(){return this._aQueue.length=0,this._aRepeat.length=0,this._nPtr=0,this._nPausePassed=0,this},_getPointer:function(){return this._nPtr},_oProperPrefix:{},_getProperPrefix:function(t){var e=this._oProperPrefix;if(t in e)return e[t];for(var n,i,o=document.body.style,s=["webkit","","Moz","O","ms"],h=0,a=s.length;a>h;h++)if(n=s[h],i=n+(n?t.replace(/^[a-z]/,function(t){return t.toUpperCase()}):t),i in o)return e[t]=n;return e[t]=""},_getCSSKey:function(t){var e=this,n="",i=t.replace(/^(\-(webkit|o|moz|ms)\-)?([a-z]+)/,function(t,i,o,s){return n=o||e._getProperPrefix(s),n&&(s=s.replace(/^[a-z]/,function(t){return t.toUpperCase()})),s}).replace(/\-(\w)/g,function(t,e){return e.toUpperCase()});return({o:"O",moz:"Moz",webkit:"Webkit"}[n]||n)+i},_getCSSVal:function(t){var e=this,n=t.replace(/(^|\s)(\-(webkit|moz|o|ms)\-)?([a-z]+)/g,function(t,n,i,o,s){return o=o||e._getProperPrefix(s),n+(o&&"-"+o+"-")+s});return n},_parseTransformText:function(t){t=t||"";var e={};return t.replace(/([\w\-]+)\(([^\)]*)\)/g,function(t,n,i){var o=i.split(/\s*,\s*/);switch(n){case"translate3d":case"scale3d":case"skew3d":n=n.replace(/3d$/,""),e[n+"Z"]=o[2];case"translate":case"scale":case"skew":e[n+"X"]=o[0],"undefined"==typeof o[1]?"scale"===n&&(e[n+"Y"]=o[0]):e[n+"Y"]=o[1];break;default:e[n]=o.join(",")}}),e},_getMatrixObj:function(t,e){t=t.replace(/\b(translate(3d)?)\(\s*([^,]+)\s*,\s*([^,\)]+)/g,function(t,n,i,o,s){return/%$/.test(o)&&(o=parseFloat(o)/100*e.offsetWidth+"px"),/%$/.test(s)&&(s=parseFloat(s)/100*e.offsetHeight+"px"),n+"("+o+","+s}).replace(/\b(translate([XY]))\(\s*([^\)]+)/g,function(t,n,i,o){return"X"===i&&/%$/.test(o)?o=parseFloat(o)/100*e.offsetWidth+"px":"Y"===i&&/%$/.test(o)&&(o=parseFloat(o)/100*e.offsetHeight+"px"),n+"("+o});var n,i=window.WebKitCSSMatrix||window.MSCSSMatrix||window.OCSSMatrix||window.MozCSSMatrix||window.CSSMatrix;if(i)n=function(t){return new i(t).toString()};else{var o="M"+Math.round((new Date).getTime()*Math.random()),s="-"+(jindo.$Agent().navigator().firefox?"moz":"o")+"-transform",h=document.createElement("style");h.type="text/css";var a=document.getElementsByTagName("html")[0];a.insertBefore(h,a.firstChild);var r=h.sheet||h.styleSheet,l=document.createElement("div");l.id=o;var c=window.getComputedStyle(l,null);n=function(t){try{return r.insertRule("#"+o+" { "+s+": "+t+" !important; }",0),document.body.insertBefore(l,document.body.firstChild),c.getPropertyValue(s)}finally{document.body.removeChild(l),r.deleteRule(0)}}}var f=n(t);return/^([^\(]+)\(([^\)]*)\)$/.test(f)?{key:RegExp.$1,val:RegExp.$2.replace(/\s*,\s*/g," ")}:null},_convertMatrix3d:function(t){if("matrix3d"===t.key)return t;var e=t.val.split(" ");return t.key="matrix3d",e.splice(2,0,"0"),e.splice(3,0,"0"),e.splice(6,0,"0"),e.splice(7,0,"0"),e.splice(8,0,"0"),e.splice(9,0,"0"),e.splice(10,0,"1"),e.splice(11,0,"0"),e.splice(14,0,"0"),e.splice(15,0,"1"),t.val=e.join(" "),t},_getTransformFunction:function(t,e,n,i){var o,s,h;if(/matrix/.test(t+e))return s=this._getMatrixObj(t,i),h=this._getMatrixObj(e,i),s.key!==h.key&&(s=this._convertMatrix3d(s),h=this._convertMatrix3d(h)),n=n(s.val,h.val),function(t){return 1===t?e:s.key+"("+n(t).replace(/ /g,",")+")"};s=this._parseTransformText(t),h=this._parseTransformText(e);var a={};for(o in s)s.hasOwnProperty(o)&&(a[o]=n(s[o],h[o]||(/^scale/.test(o)?1:0)));for(o in h)!h.hasOwnProperty(o)||o in s||(a[o]=n(s[o]||(/^scale/.test(o)?1:0),h[o]));var r=function(t){var e=[];for(var n in a)a.hasOwnProperty(n)&&e.push(n+"("+a[n](t)+")");return e.join(" ")};return r},_getEffectCSS:function(t){var e=this.option("bUseTransition")&&this._bTransitionSupport;if(!e)return null;if(this._htEventHandler.progress&&this._htEventHandler.progress.length||this._htEventHandler.beforeProgress&&this._htEventHandler.beforeProgress.length)return null;switch(t){case jindo.m.Effect.linear:return"linear";case jindo.m.Effect.cubicEase:return"ease";case jindo.m.Effect.cubicEaseIn:return"ease-in";case jindo.m.Effect.cubicEaseOut:return"ease-out";case jindo.m.Effect.cubicEaseInOut:return"ease-in-out";default:if(t.cubicBezier&&Math.max.apply(Math,t.cubicBezier)<=1&&Math.min.apply(Math,t.cubicBezier)>=0)return"cubic-bezier("+t.cubicBezier.join(",")+")"}return null},_requestAnimationFrame:function(t){var e,n=this,i=function(){e===n._oLastRAF&&(n._oLastRAF=null,t())};return e=window.requestAnimationFrame?requestAnimationFrame(i):setTimeout(i,1e3/60),this._oLastRAF=e},_cancelAnimationFrame:function(t){var e;return e=window.cancelAnimationFrame?cancelAnimationFrame(t):clearTimeout(t),this._oLastRAF=null,e}}).extend(jindo.m.Component),jindo.m.Animation=jindo.$Class({$init:function(t){this.option({bUseH:!0,bHasOffsetBug:!1,fEffect:jindo.m.Effect.cubicEaseOut,bUseCss3d:jindo.m.useCss3d(),bUseTimingFunction:jindo.m.useTimingFunction()}),this.option(t||{}),this._initVar()},_initVar:function(){this.sCssPrefix=jindo.m.getCssPrefix(),this._htTans=this.option("bUseCss3d")?{open:"3d(",end:",0)"}:{open:"(",end:")"},this._oMorph=new jindo.m.Morph({fEffect:this.option("fEffect"),bUseTransition:this.option("bUseTimingFunction")}).attach({end:jindo.$Fn(function(t){this._oMorph.clear(),this.fireEvent("end",t)},this).bind()}),this._welTarget=null},setStyle:function(){},move:function(){},getTarget:function(t){return t?this._welTarget:this._welTarget.$value()},p:function(t){return jindo.m._toPrefixStr(t)},getTranslate:function(t,e){return"translate"+this._htTans.open+t+","+e+this._htTans.end},toCss:function(t){var e,n,i,o={};for(e in t)n=e,/^@/.test(e)&&(e.match(/^(@\w)/),i=RegExp.$1,/transition|transform/.test(n)?(n=""==this.sCssPrefix?e.replace(i,i.toLowerCase()):e.replace(i,i.toUpperCase()),n=n.replace("@",this.sCssPrefix)):n=n.replace("@","")),o[n]=t[e];return o},isPlaying:function(){return this._oMorph.isPlaying()},stop:function(t){"undefined"==typeof t&&(t=0),this._oMorph.pause(t).clear()},destroy:function(){this._oMorph.detachAll("end")}}).extend(jindo.m.UIComponent),jindo.m.Flicking=jindo.$Class({$init:function(t,e){this.option({bHorizontal:!0,nDefaultIndex:0,sClassPrefix:"flick-",sContentClass:"ct",nDuration:100,nFlickThreshold:40,bUseCircular:!1,sAnimation:"slide",nFlickDistanceOffset:null,bAutoResize:!0,nBounceDuration:100,bSetNextPanelPos:!1,bUseCss3d:jindo.m.useCss3d(),bUseTimingFunction:jindo.m.useTimingFunction(),bUseTranslate:!0,bActivateOnload:!0,bUseDiagonalTouch:!1,nDefaultScale:.94,nZIndex:2e3}),this.option(e||{}),this._initVar(t),this.option("bActivateOnload")&&this.activate()},$static:{_htAnimation:{flip:"_FlipFlicking_","circular-flip":"_FlipFlicking_",alignFlip:"_AlignFlipFlicking_","circular-alignFlip":"_AlignFlipFlicking_","circular-slide":"SlideFlicking",slide:"SlideFlicking","circular-cover":"CoverFlicking",cover:"CoverFlicking"}},_initVar:function(t){this._el=jindo.$(t),this._oFlickingImpl=null,this._isSwipeType=/slide|cover/.test(this.option("sAnimation"))?!0:!1},_createFlicking:function(){var t=this.option("sAnimation");this.option("bUseCircular")&&(t="circular-"+t);try{var e=this.option();e.bActivateOnload=!1,this._oFlickingImpl=new jindo.m[jindo.m.Flicking._htAnimation[t]](this._el,e)}catch(n){console.error("_createFlicking ERROR ! "+n)}},refresh:function(t,e,n){this._oFlickingImpl&&(this._isSwipeType?(this._oFlickingImpl.resize(),this._oFlickingImpl.refresh(t,n,!0)):this._oFlickingImpl.refresh(t,e,n))},getIndexByElement:function(t){return this._oFlickingImpl?this._isSwipeType?this._oFlickingImpl._getIndexByElement(t):this._oFlickingImpl.getIndexByElement(t):-1},getElement:function(){return this._oFlickingImpl?this._oFlickingImpl.getElement():null},getContentElement:function(){return this.getElement()},getContentIndex:function(){return this._oFlickingImpl?this._oFlickingImpl.getContentIndex():null},getNextElement:function(){return this._oFlickingImpl?this._oFlickingImpl.getNextElement():null},getPrevElement:function(){return this._oFlickingImpl?this._oFlickingImpl.getPrevElement():null},getTotalContents:function(){return this._oFlickingImpl?this._oFlickingImpl.getTotalContents():null},getTotalPanels:function(){return this._oFlickingImpl?this._oFlickingImpl.getTotalPanels():null},getPanels:function(){return this._oFlickingImpl?this._oFlickingImpl._htWElement.aPanel:null},getPrevIndex:function(){return this._oFlickingImpl?this._oFlickingImpl.getPrevIndex():null},getNextIndex:function(){return this._oFlickingImpl?this._oFlickingImpl.getNextIndex():null},moveNext:function(t){this.isActivating()&&this._oFlickingImpl&&this._oFlickingImpl.moveNext(t)},movePrev:function(t){this.isActivating()&&this._oFlickingImpl&&this._oFlickingImpl.movePrev(t)},moveTo:function(t,e,n){"undefined"!=typeof t&&t!=this.getContentIndex()&&(0>t||t>=this.getTotalContents()||this._oFlickingImpl&&(this._isSwipeType?this._oFlickingImpl._moveTo(t,{duration:"undefined"==typeof e?0:e,fireEvent:n,fireMoveEvent:!0}):this._oFlickingImpl.moveTo(t,e,n)))},isAnimating:function(){return this._oFlickingImpl?this._isSwipeType?this._oFlickingImpl.isPlaying():this._oFlickingImpl._doFlicking:void 0},_onActivate:function(){this._oFlickingImpl||this._createFlicking(),this._oFlickingImpl&&!this._oFlickingImpl.isActivating()&&(this._oFlickingImpl.activate(),this._attachEvent(),this._isSwipeType||this.refresh(this.getContentIndex(),!0,!1))},_onDeactivate:function(){this._oFlickingImpl.deactivate(),this._detachEvent()},_attachEvent:function(){if(this._oFlickingImpl){var t=this;this._oFlickingImpl.attach({touchStart:function(e){t.fireEvent("touchStart",e)||e.stop()},touchMove:function(e){t.fireEvent("touchMove",e)},touchEnd:function(e){t.fireEvent("touchEnd",e)},beforeFlicking:function(e){t.fireEvent("beforeFlicking",e)||e.stop()},afterFlicking:function(e){t.fireEvent("afterFlicking",e)},beforeMove:function(e){t.fireEvent("beforeMove",e)||e.stop()},move:function(e){t.fireEvent("move",e)},scroll:function(){t.fireEvent("scroll")},beforeRestore:function(e){t.fireEvent("beforeRestore",e)||e.stop()},restore:function(e){t.fireEvent("restore",e)},rotate:function(e){t.fireEvent("rotate",e)}})}},_detachEvent:function(){this._oFlickingImpl&&this._oFlickingImpl.detachAll()},destroy:function(){this.deactivate(),this._el=null,this._oFlickingImpl=null,this._isSwipeType=!1}}).extend(jindo.m.UIComponent),jindo.m.Touch=jindo.$Class({$init:function(t,e){this._el=jindo.$Element(t).$value();var n={nMomentumDuration:350,nMoveThreshold:7,nSlopeThreshold:25,nLongTapDuration:1e3,nDoubleTapDuration:400,nTapThreshold:6,nPinchThreshold:.1,nRotateThreshold:5,bActivateOnload:!0,bUseAutoDirection:!1,nUseDiagonal:0,bVertical:!0,bHorizental:!1};this.option(n),this.option(e||{}),this.option("nUseDiagonal")>0&&this.option({bVertical:!0,bHorizental:!0}),this._initVariable(),this._initTouchEventName(),this._initPreventSystemEvent(),this._setSlope(),this.option("bActivateOnload")&&this.activate()},$static:{MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"}},_initTouchEventName:function(){"ontouchstart"in window?(this._htEventName.start="touchstart",this._htEventName.move="touchmove",this._htEventName.end="touchend",this._htEventName.cancel="touchcancel",this._hasTouchEvent=!0):window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0&&(this._htEventName.start="MSPointerDown",this._htEventName.move="MSPointerMove",this._htEventName.end="MSPointerUp",this._htEventName.cancel="MSPointerCancel",this._hasTouchEvent=!1)},_initPreventSystemEvent:function(){if(this._el.style&&"undefined"!=typeof this._el.style.msTouchAction){var t="none";this.option("bHorizental")&&!this.option("bVertical")&&(t="pan-x"),this.option("bVertical")&&!this.option("bHorizental")&&(t="pan-y"),this._el.style.msTouchAction=t}},_preventSystemEvent:function(){var t=this.nMoveType;switch(t){case 0:this.option("bHorizental")||this.option("bUseAutoDirection");break;case 1:this.option("bVertical")||this.option("bUseAutoDirection");break;case 2:this.option("bUseAutoDirection")||this.option("bVertical")||this.option("bHorizental")}return!0},_initVariable:function(){this._htEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},this._hasTouchEvent=!1,this._radianToDegree=180/Math.PI,this._htMoveInfo={nStartX:0,nStartY:0,nBeforeX:0,nBeforeY:0,nStartTime:0,nBeforeTime:0,nStartDistance:0,nBeforeDistance:0,nStartAngle:0,nLastAngle:0,nBeforeScale:0,aPos:[]},this.htEndInfo={nX:0,nY:0},this.bStart=!1,this.bMove=!1,this.nMoveType=-1,this._nStartMoveType=-1,this._nVSlope=0,this._nHSlope=0,this.bSetSlope=!1},_attachEvents:function(){this._htEvent={};this._hasTouchEvent;this._htEvent[this._htEventName.start]={fn:jindo.$Fn(this._onStart,this).bind(),el:this._el},this._htEvent[this._htEventName.move]={fn:jindo.$Fn(this._onMove,this).bind(),el:this._el},this._htEvent[this._htEventName.end]={fn:jindo.$Fn(this._onEnd,this).bind(),el:this._el},this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind(),jindo.m.bindRotate(this._htEvent.rotate),this._htEventName.cancel&&(this._htEvent[this._htEventName.cancel]={fn:jindo.$Fn(this._onCancel,this).bind(),el:this._el});for(var t in this._htEvent)this._htEvent[t].fn&&(this._htEvent[t].ref=this._attachFakeJindo(this._htEvent[t].el,this._htEvent[t].fn,t))},_attachFakeJindo:function(t,e,n){var i=+jindo.$Jindo().version.replace(/[a-z.]/gi,""),o=null;return o=230>i&&"undefined"!=typeof _notSupport?_notSupport.$Fn(e).attach(t,n):jindo.$Fn(e).attach(t,n)},_detachEvents:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref&&e.ref.detach(e.el,t)}jindo.m.unbindRotate(this._htEvent.rotate),this._htEvent=null},_onCancel:function(t){this._onEnd(t)},_onStart:function(t){this._resetTouchInfo();var e=this._getTouchInfo(t),n={element:e[0].el,nX:e[0].nX,nY:e[0].nY,oEvent:t};this._fireCustomEvent("touchStart",n)&&(this.bStart=!0,this._updateTouchInfo(e,"start"),this._startLongTapTimer(e,t))},_onMove:function(t){if(this.bStart){this.bMove=!0;var e=this._getTouchInfo(t);if(1===e.length){if(this.nMoveType<0||3==this.nMoveType||4==this.nMoveType){var n=this._getMoveType(e);(4!=this.nMoveType||3!=n)&&(2!=this.option("nUseDiagonal")||0!=n&&1!=n?this.nMoveType=this._nStartMoveType=n:(this._nStartMoveType=n,this.nMoveType=2))}}else 8!==this.nMoveType&&(this.nMoveType=this._nStartMoveType=this._getMoveType(e));var i=this._getCustomEventParam(e,!1,t);3!=this.nMoveType&&this._deleteLongTapTimer();var o=0;if(o=Math.abs(0==this.nMoveType?i.nDistanceX:1==this.nMoveType?i.nDistanceY:Math.sqrt(Math.pow(i.nDistanceX,2)+Math.pow(i.nDistanceY,2))),!(o<this.option("nMoveThreshold")||o<this.option("nSlopeThreshold"))){this._updateTouchInfo(e,"move"),i.sMoveTypeAgree=!1;var s=i.sMoveType,h=(Math.abs(i.nVectorX),this.option("bHorizental")&&s==jindo.m.Touch.MOVETYPE[0]),a=this.option("bVertical")&&s==jindo.m.Touch.MOVETYPE[1],r=1==this.option("nUseDiagonal")&&s==jindo.m.Touch.MOVETYPE[2],l=2==this.option("nUseDiagonal");return(h||a||r||l)&&(i.sMoveTypeAgree=!0),this.fireEvent("touchMove",i)?void 0:void(this.bStart=!1)}}},_onEnd:function(t){if(this.bStart){var e=this;this._deleteLongTapTimer(),this.bMove||4==this.nMoveType||(this.nMoveType=3);var n=this._getTouchInfo(t);this._isDblTap(n[0].nX,n[0].nY,n[0].nTime)&&(clearTimeout(this._nTapTimer),this._nTapTimer=-1,this.nMoveType=5),this._updateTouchInfo(n,"end");var i=this._getCustomEventParam(n,!0,t),o=i.sMoveType;"undefined"!=typeof this._htEventHandler[jindo.m.Touch.MOVETYPE[5]]&&this._htEventHandler[jindo.m.Touch.MOVETYPE[5]].length>0&&3==this.nMoveType?this._nTapTimer=setTimeout(function(){e._fireCustomEvent(o,i),e._nTapTimer=-1,e.fireEvent("touchEnd",i)},this.option("nDoubleTapDuration")):4!=this.nMoveType&&(8===this.nMoveType?(i.sMoveType=jindo.m.Touch.MOVETYPE[6],this._fireCustomEvent(jindo.m.Touch.MOVETYPE[6],i),i.sMoveType=jindo.m.Touch.MOVETYPE[7],this._fireCustomEvent(jindo.m.Touch.MOVETYPE[7],i),this.fireEvent("touchEnd",i)):setTimeout(function(){e._fireCustomEvent(o,i),e.fireEvent("touchEnd",i)},0)),this._updateTouchEndInfo(n),this._resetTouchInfo()}},_fireCustomEvent:function(t,e){return this.fireEvent(t,e)},_getCustomEventParam:function(t,e,n){var i=this._htMoveInfo.aPos[this._htMoveInfo.aPos.length>0&&!e?this._htMoveInfo.aPos.length-1:0],o=jindo.m.Touch.MOVETYPE[this.nMoveType],s=jindo.m.Touch.MOVETYPE[this._nStartMoveType],h=t[0].nTime-this._htMoveInfo.nStartTime,a=0,r=0,l=0,c=0,f=0,_=0,u=0,d=0,m=1===this.nMoveType?0:t[0].nX-this._htMoveInfo.nStartX,p=0===this.nMoveType?0:t[0].nY-this._htMoveInfo.nStartY,v=1===this.nMoveType?0:t[0].nX-i.nX,g=0===this.nMoveType?0:t[0].nY-i.nY,E=t[0].nTime-i.nTime,T={element:t[0].el,nX:t[0].nX,nY:t[0].nY,nVectorX:t[0].nX-this._htMoveInfo.nBeforeX,nVectorY:t[0].nY-this._htMoveInfo.nBeforeY,nDistanceX:m,nDistanceY:p,sMoveType:o,sStartMoveType:s,nStartX:this._htMoveInfo.nStartX,nStartY:this._htMoveInfo.nStartY,nStartTimeStamp:this._htMoveInfo.nStartTime,htMomentum:{nDistanceX:v,nDistanceY:g,nDuration:E},oEvent:n||{}};if((t.length>1||this.nMoveType>=6)&&(T.nScale=this._getScale(t),T.nRotation=this._getRotation(t),null===T.nScale&&(T.nScale=this._htMoveInfo.nBeforeScale),null===T.nRotation&&(T.nRotation=this._htMoveInfo.nBeforeRotation)),t.length>=1){T.aX=[],T.aY=[],T.aElement=[];for(var b=0,P=t.length;P>b;b++)T.aX.push(t[b].nX),T.aY.push(t[b].nY),T.aElement.push(t[b].el)}return e&&((0==this.nMoveType||1==this.nMoveType||2==this.nMoveType)&&(h<=this.option("nMomentumDuration"),h<=this.option("nMomentumDuration")&&(l=Math.abs(m)/h,a=l*l/2,c=Math.abs(p)/h,r=c*c/2),E<=this.option("nMomentumDuration")&&(u=Math.abs(v)/E,f=u*u/2,d=Math.abs(g)/E,_=d*d/2)),T.nMomentumX=a,T.nMomentumY=r,T.nSpeedX=l,T.nSpeedY=c,T.nDuration=h,T.htMomentum.nMomentumX=f,T.htMomentum.nMomentumY=_,T.htMomentum.nSpeedX=u,T.htMomentum.nSpeedY=d),T},_updateTouchEndInfo:function(t){this.htEndInfo={element:t[0].el,time:t[0].nTime,movetype:this.nMoveType,nX:t[0].nX,nY:t[0].nY}},_deleteLongTapTimer:function(){"undefined"!=typeof this._nLongTapTimer&&(clearTimeout(this._nLongTapTimer),delete this._nLongTapTimer)},_startLongTapTimer:function(t,e){var n=this;"undefined"!=typeof this._htEventHandler[jindo.m.Touch.MOVETYPE[4]]&&this._htEventHandler[jindo.m.Touch.MOVETYPE[4]].length>0&&(n._nLongTapTimer=setTimeout(function(){n.fireEvent("longTap",{element:t[0].el,oEvent:e,nX:t[0].nX,nY:t[0].nY}),n.nMoveType=4},n.option("nLongTapDuration")))},_onResize:function(){this._setSlope()},_isDblTap:function(t,e){if("undefined"!=typeof this._nTapTimer&&3==this.nMoveType){var n=this.option("nTapThreshold");if(Math.abs(this.htEndInfo.nX-t)<=n&&Math.abs(this.htEndInfo.nY-e)<=n)return!0}return!1},_setSlope:function(){this.bSetSlope||(this._nHSlope=1*(window.innerHeight/2/window.innerWidth).toFixed(2),this._nVSlope=1*(window.innerHeight/(window.innerWidth/2)).toFixed(2))},setSlope:function(t,e){this._nHSlope=e,this._nVSlope=t,this.bSetSlope=!0},getSlope:function(){return{nVSlope:this._nVSlope,nHSlope:this._nHSlope}},_resetTouchInfo:function(){for(var t in this._htMoveInfo)"aPos"!=t?this._htMoveInfo[t]=0:this._htMoveInfo.aPos.length=0;this._deleteLongTapTimer(),this.bStart=!1,this.bMove=!1,this.nMoveType=-1,this._nStartMoveType=-1},_updateTouchInfo:function(t,e){"end"==e?(this.htEndInfo={nX:t[0].nX,nY:t[0].nY},this._htMoveInfo.aPos.length>3&&this._htMoveInfo.aPos.pop()):("start"==e?(this._htMoveInfo.nStartX=t[0].nX,this._htMoveInfo.nStartY=t[0].nY,this._htMoveInfo.nStartTime=t[0].nTime):this._htMoveInfo.nBeforeTime=t[0].nTime,this._htMoveInfo.nBeforeX=t[0].nX,this._htMoveInfo.nBeforeY=t[0].nY,this._htMoveInfo.aPos.push({nX:t[0].nX,nY:t[0].nY,nTime:t[0].nTime}),this._htMoveInfo.aPos.length>5&&this._htMoveInfo.aPos.shift())},_getMoveTypeBySingle:function(t,e){var n=this.nMoveType,i=Math.abs(this._htMoveInfo.nStartX-t),o=Math.abs(this._htMoveInfo.nStartY-e),s=i+o,h=this.option("nTapThreshold");if(n=h>=i&&h>=o?3:-1,this.option("nSlopeThreshold")<=s){var a=o/(i+o)*90;n=-1===this._nHSlope&&-1===this._nVSlope&&this.option("nUseDiagonal")>0?2:25>=a?0:a>=65?1:this.option("nUseDiagonal")>1?2:2}return n},_getMoveTypeByMulti:function(){var t=-1;return(6===this.nMoveType||Math.abs(1-this._htMoveInfo.nBeforeScale)>=this.option("nPinchThreshold"))&&(t=6),(7===this.nMoveType||Math.abs(0-this._htMoveInfo.nBeforeRotation)>=this.option("nRotateThreshold"))&&(t=6===t?8:7),-1===t?this.nMoveType:t},_getScale:function(t){var e=-1,n=this._getDistance(t);return 0>=n?null:(0===this._htMoveInfo.nStartDistance?(e=1,this._htMoveInfo.nStartDistance=n):e=n/this._htMoveInfo.nStartDistance,this._htMoveInfo.nBeforeScale=e,e)},_getRotation:function(t){var e=-1,n=this._getAngle(t);return null===n?null:(0===this._htMoveInfo.nStartAngle?(this._htMoveInfo.nStartAngle=n,e=0):e=n-this._htMoveInfo.nStartAngle,this._htMoveInfo.nLastAngle=n,this._htMoveInfo.nBeforeRotation=e,e)},_getMoveType:function(t){var e=this.nMoveType;return 1===t.length?e=this._getMoveTypeBySingle(t[0].nX,t[0].nY):2===t.length&&(e=this._getMoveTypeByMulti(t)),e},_getDistance:function(t){return 1===t.length?-1:Math.sqrt(Math.pow(Math.abs(t[0].nX-t[1].nX),2)+Math.pow(Math.abs(t[0].nY-t[1].nY),2))},_getAngle:function(t){if(1===t.length)return null;var e=t[0].nX-t[1].nX,n=t[0].nY-t[1].nY,i=Math.atan2(n,e)*this._radianToDegree;if(null!==this._htMoveInfo.nLastAngle){var o=Math.abs(this._htMoveInfo.nLastAngle-i),s=i+360,h=i-360;Math.abs(s-this._htMoveInfo.nLastAngle)<o?i=s:Math.abs(h-this._htMoveInfo.nLastAngle)<o&&(i=h)}return i},_getTouchInfo:function(t){var e=[],n=t.$value().timeStamp,i=null;if(this._hasTouchEvent){i="touchend"===t.type||"touchcancel"===t.type?t.$value().changedTouches:t.$value().touches||t.$value().targetTouches||t.$value().changedTouches;for(var o=0,s=i.length;s>o;o++)e.push({el:jindo.m.getNodeElement(i[o].target),nX:i[o].pageX,nY:i[o].pageY,nTime:n})}else e.push({el:t.element,nX:t.pos().pageX,nY:t.pos().pageY,nTime:n});return e},getBaseElement:function(){return this._el},_onDeactivate:function(){this._detachEvents()},_onActivate:function(){this._attachEvents()},destroy:function(){var t;this.deactivate(),this._el=null;for(t in this._htMoveInfo)this._htMoveInfo[t]=null;this._htMoveInfo=null;for(t in this.htEndInfo)this.htEndInfo[t]=null;this.htEndInfo=null,this.bStart=null,this.bMove=null,this.nMoveType=null,this._nStartMoveType=null,this._nVSlope=null,this._nHSlope=null,this.bSetSlope=null}}).extend(jindo.m.UIComponent),jindo.m.SwipeCommon=jindo.$Class({$init:function(){this.option({bActivateOnload:!0,bUseHighlight:!0,bUseDiagonalTouch:!0,bUseMomentum:!0,nDeceleration:6e-4,bAutoResize:!0,fEffect:jindo.m.Effect.cubicEaseOut,bUseCss3d:jindo.m.useCss3d(),bUseTimingFunction:jindo.m.useTimingFunction(),nZIndex:2e3})},_getAnimationOption:function(t){return jindo.$Jindo.mixin({bUseH:this._bUseH,bHasOffsetBug:this._hasOffsetBug(),fEffect:this.option("fEffect"),bUseCss3d:this.option("bUseCss3d"),bUseTimingFunction:this.option("bUseTimingFunction")},t||{})},_initVar:function(){this._htWElement={},this._bUseH=!1,this._bUseV=!1,this._nX=0,this._nY=0,this._bUseDiagonalTouch=this.option("bUseDiagonalTouch"),this._bClickBug=jindo.m.hasClickBug(),this._htOffsetBug={hasBug:jindo.m.hasOffsetBug()&&this.option("bUseHighlight"),timer:-1,elDummyTag:null},this._htSize={viewWidth:0,viewHeight:0,contWidth:0,contHeight:0,maxX:0,maxY:0},this._isStop=!1,this._oTouch=null,this._oAnimation=null},_setWrapperElement:function(t){this._htWElement.view=jindo.$Element(t),this._htWElement.base=jindo.$Element(this._htWElement.view.query("."+this.option("sClassPrefix")+"base")),this._htWElement.container=this._htWElement.base?this._htWElement.base.query("."+this.option("sClassPrefix")+"container"):this._htWElement.view.query("."+this.option("sClassPrefix")+"container")||this._htWElement.view.first(),this._htWElement.container=jindo.$Element(this._htWElement.container),this._htWElement.view.css({overflow:"hidden",zIndex:this.option("nZIndex"),position:"relative"}),this._htWElement.base&&this._htWElement.base.css({position:"relavite"}),this._htWElement.container.css({left:"0px",top:"0px"}),this._createOffsetBugDummyTag()
},_onActivate:function(){this._oTouch||(this._oTouch=new jindo.m.Touch(this._htWElement.view.$value(),{nMoveThreshold:0,nUseDiagonal:0,bVertical:this.bUseH,bHorizental:!this.bUseH,nMomentumDuration:200,nTapThreshold:1,nSlopeThreshold:5,nEndEventThreshold:jindo.m.getDeviceInfo().win8?100:0,bActivateOnload:!1})),this._attachEvent(),this._attachAniEvent(),this._oTouch.activate()},_onDeactivate:function(){this._detachEvent(),this._detachAniEvent(),this._oTouch.deactivate(),this._oAnimation&&this._oAnimation.deactivate()},_attachEvent:function(){this._htEvent={},this._htEvent.touchStart=jindo.$Fn(this._onStart,this).bind(),this._htEvent.touchMove=jindo.$Fn(this._onMove,this).bind(),this._htEvent.touchEnd=jindo.$Fn(this._onEnd,this).bind(),this._oTouch.attach({touchStart:this._htEvent.touchStart,touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd}),this.option("bAutoResize")&&(this._htEvent.resize=jindo.$Fn(this._onResize,this).bind(),jindo.m.bindRotate(this._htEvent.resize),jindo.m.bindPageshow(this._htEvent.resize))},_detachEvent:function(){this._oTouch.detachAll(),this.option("bAutoResize")&&(jindo.m.unbindRotate(this._htEvent.resize),jindo.m.unbindPageshow(this._htEvent.resize))},_getX:function(t){return t>=0?0:t<=this._htSize.maxX?this._htSize.maxX:t},_getY:function(t){return t>=0?0:t<=this._htSize.maxY?this._htSize.maxY:t},_attachAniEvent:function(){this._oAnimation&&(this._htEvent.endAni=jindo.$Fn(this._onEndAniImpl,this).bind(),this._oAnimation.attach({end:this._htEvent.endAni}))},_detachAniEvent:function(){this._oAnimation&&this._oAnimation.detachAll()},set:function(){var t=Array.prototype.slice.apply(arguments);return t.length>=1&&(this._oAnimation=t.shift(),this._oAnimation.setStyle(t),this._attachAniEvent()),this._oAnimation},getAnimation:function(){return this._oAnimation},isPlaying:function(){return this._oAnimation?this._oAnimation.isPlaying():!1},isAnimating:this.isPlaying,refresh:function(){},resize:function(){var t=this._htWElement.view,e=this._htWElement.container,n=parseInt(t.css("borderLeftWidth"),10),i=parseInt(t.css("borderRightWidth"),10),o=parseInt(t.css("borderTopWidth"),10),s=parseInt(t.css("borderBottomWidth"),10);n=isNaN(n)?0:n,i=isNaN(i)?0:i,o=isNaN(o)?0:o,s=isNaN(s)?0:s,this._htSize.viewWidth=t.width()-n-i,this._htSize.viewHeight=t.height()-o-s,this._htSize.contWidth=e.width(),this._htSize.contHeight=e.height()},_calcMomentum:function(t,e,n,i,o,s){var h=this.option("nDeceleration"),a=n/h,r=0,l=0;return t>0&&a>i?(l=s/(6/(a/e*h)),i+=l,e=e*i/a,a=i):0>t&&a>o&&(l=s/(6/(a/e*h)),o+=l,e=e*o/a,a=o),a*=0>t?-1:1,r=e/h,{nDist:a,nTime:Math.round(r)}},_onStart:function(t){return this.isPlaying()?void t.oEvent.stop():(this._clearOffsetBug(),void(this.fireEvent("beforeTouchStart",t)?(this._isStop=!1,this._startImpl(t),this.fireEvent("touchStart",jindo.$Jindo.mixin(t,{}))||t.stop()):t.stop()))},_onMove:function(t){if(this._clearOffsetBug(),this._bClickBug&&this._htWElement.container.css("pointerEvents","none"),this.fireEvent("beforeTouchMove",t)){var e=this._preventSystemEvent(t);e&&!this.isPlaying()&&this._moveImpl(t),e||this.fireEvent("scroll");var n=jindo.$Jindo.mixin(t,{});n.bPreventDefaultEvent=e,this.fireEvent("touchMove",n)||t.stop()}else t.stop()},_onEnd:function(t){this.isPlaying()||(this._isStop||this._clearOffsetBug(),this.fireEvent("beforeTouchEnd",t)?(t.sMoveType===jindo.m.MOVETYPE[3]||t.sMoveType===jindo.m.MOVETYPE[4]||t.sMoveType===jindo.m.MOVETYPE[5]?this._isStop?t.oEvent.stop(jindo.$Event.CANCEL_ALL):this._tapImpl&&this._tapImpl():this._endImpl(t),this.fireEvent("touchEnd",jindo.$Jindo.mixin(t,{}))||t.stop()):t.stop(),this._bClickBug&&this._htWElement.container.css("pointerEvents","auto"))},_preventSystemEvent:function(t){var e=t.oEvent,n=function(){t.sMoveType!=jindo.m.MOVETYPE[6]&&t.sMoveType!=jindo.m.MOVETYPE[8]&&e.stop()};return t.sMoveType===jindo.m.MOVETYPE[0]?this._bUseH?(n(),!0):!1:t.sMoveType===jindo.m.MOVETYPE[1]?this._bUseV?(n(),!0):!1:t.sMoveType===jindo.m.MOVETYPE[2]?this._bUseDiagonalTouch?(n(),!0):!1:t.sMoveType===jindo.m.MOVETYPE[6]||t.sMoveType===jindo.m.MOVETYPE[7]||t.sMoveType===jindo.m.MOVETYPE[8]?(n(),!0):(e.stop(),!0)},_onResize:function(t){"rotate"===t.sType?this.fireEvent("rotate",{isVertical:t.isVertical})&&this._resizeImpl(t):this._resizeImpl(t)},_getMomentumData:function(t,e,n){var i={nDist:0,nTime:0},o={nDist:0,nTime:0},s={momentumX:t.nMomentumX,momentumY:t.nMomentumY,distanceX:t.nDistanceX,distanceY:t.nDistanceY,x:this._nX,y:this._nY,nextX:this._nX,nextY:this._nY};return this.option("bUseMomentum")&&(t.nMomentumX&&t.nMomentumX>e||t.nMomentumY&&t.nMomentumY>e)?(this._bUseH&&(i=this._calcMomentum(t.nDistanceX,t.nSpeedX,t.nMomentumX,-this._nX,-this._htSize.maxX+this._nX,n?this._htSize.viewWidth:0)),this._bUseV&&(o=this._calcMomentum(t.nDistanceY,t.nSpeedY,t.nMomentumY,-this._nY,-this._htSize.maxY+this._nY,n?this._htSize.viewHeight:0)),s.nextX=this._nX+i.nDist,s.nextY=this._nY+o.nDist,s.duration=Math.max(Math.max(i.nTime,o.nTime),10),s.duration=jindo.m.getOsInfo().android?.7*s.duration:s.duration):s.duration=0,s},_makeStylePos:function(t){var e=this.getAnimation(),n=jindo.m.getTranslateOffset(t),i=jindo.m.getStyleOffset(t),o={top:n.top+i.top+"px",left:n.left+i.left+"px"};o[e.p("Transform")]=e.getTranslate("0px","0px"),t.css(o),this._htOffsetBug.elDummyTag.focus()},_createOffsetBugDummyTag:function(){this._hasOffsetBug()&&(this._htOffsetBug.elDummyTag=jindo.$$.getSingle("._offsetbug_dummy_atag_",this._htWElement.view.$value()),this._htOffsetBug.elDummyTag||(this._htOffsetBug.elDummyTag=jindo.$("<a href='javascript:void(0);' style='position:absolute;height:0px;width:0px;' class='_offsetbug_dummy_atag_'></a>"),this._htWElement.view.append(this._htOffsetBug.elDummyTag)))},_clearOffsetBug:function(){this._hasOffsetBug()&&(clearTimeout(this._htOffsetBug.timer),this._htOffsetBug.timer=-1)},_fixOffsetBugImpl:function(){if(this._hasOffsetBug()){var t=this,e=this.getAnimation().getTarget(!0);this._clearOffsetBug(),this._htOffsetBug.timer=setTimeout(function(){e&&t._makeStylePos(e)},200)}},_hasOffsetBug:function(){return this._htOffsetBug.hasBug},destroy:function(){var t;this.deactivate();for(t in this._htWElement)this._htWElement[t]=null;this._htWElement=null;for(t in this._htEvent)this._htEvent[t]=null;this._htEvent=null,this._oTouch&&this._oTouch.destroy(),this._oAnimation&&this._oAnimation.destroy()}}).extend(jindo.m.UIComponent),jindo.m.Flick=jindo.$Class({$init:function(){this.option({bHorizontal:!0,sClassPrefix:"flick-",sContentClass:"ct",bUseCircular:!1,nTotalContents:3,nFlickThreshold:40,nDuration:100,nBounceDuration:100,fpPanelEffect:jindo.m.Effect.cubicEaseIn,nDefaultIndex:0,bFitContentSize:!0,nDeceleration:.001,bUseMomentum:!1})},_initVar:function(){jindo.m.SwipeCommon.prototype._initVar.apply(this),this._bUseH=this.option("bHorizontal"),this._bUseV=!this._bUseH,this._bUseCircular=this.option("bUseCircular"),this._nContentIndex=0,this._welElement=null,this._aPos=[],this._nRange=null,this._nDefaultPanel=3,this._sHighlightClass="_jmc_no_tap_highlight_",this._hasHighlightBug=jindo.m.getBrowserInfo().chrome&&!jindo.m.getBrowserInfo().bSBrowser,this._nHightlightBug=-1},_setWrapperElement:function(t){jindo.m.SwipeCommon.prototype._setWrapperElement.call(this,t);var e=this.option("bHorizontal")?"height":"width";this._htWElement.aPanel=this._htWElement.container.queryAll("."+this.option("sClassPrefix")+this.option("sContentClass"));var n=jindo.$A(this._htWElement.aPanel);this._bUseCircular||(n=n.filter(function(t){return jindo.$Element(t).visible()})),this._htWElement.container.css({position:"relative"}).css(e,"100%"),this._htWElement.aPanel=n.forEach(function(t,n,i){i[n]=jindo.$Element(t).css(e,"100%")}).$value()},_checkIndex:function(t){var e=!0,n=this.getTotalContents()-1;return(isNaN(1*t)||0>t)&&(e=!1),t>n&&(e=!1),e},_refreshPanelInfo:function(){var t=0;this._aPos=[0];for(var e=0,n=this._bUseH?"width":"height",i=this.getTotalContents();i>e;e++)t-=null!=this._nRange?this._nRange:this._htWElement.aPanel[e][n](),this._aPos.push(t)},_onActivate:function(){jindo.m.SwipeCommon.prototype._onActivate.apply(this)},_onDeactivate:function(){jindo.m.SwipeCommon.prototype._onDeactivate.apply(this)},set:function(){if(!this._oAnimation){jindo.m.SwipeCommon.prototype.set.apply(this,Array.prototype.slice.apply(arguments)),this._bUseCircular?this.option("nTotalContents",parseInt(this.option("nTotalContents"),10)):this.option("nTotalContents",this._htWElement.aPanel.length);var t=this.option("nDefaultIndex");this._checkIndex(t)||(t=0),this.resize(),this.refresh(t)}return this._oAnimation},refresh:function(t,e,n){jindo.m.SwipeCommon.prototype.refresh.call(this),t="undefined"==typeof t?this.getContentIndex():t,this._makeHighlightStyle(),this._moveTo(t,{duration:0,fireEvent:e,fireMoveEvent:n,corrupt:!0})},resize:function(){jindo.m.SwipeCommon.prototype.resize.call(this),this.option("bFitContentSize")||this._bUseCircular?(this._nRange=this._bUseH?this._htSize.viewWidth:this._htSize.viewHeight,0==this._nRange&&(this._nRange=this._htWElement.view[this._bUseH?"width":"height"]())):this._nRange=null,this._refreshPanelInfo(),null!=this._nRange&&(this._bUseH?(this._htSize.maxX=(this.option("nTotalContents")-1)*-this._nRange,this._nX=this._aPos[this.getContentIndex()]):(this._htSize.maxY=(this.option("nTotalContents")-1)*-this._nRange,this._nY=this._aPos[this.getContentIndex()]))},getElement:function(){var t=this.getContentIndex();return this._bUseCircular?this._welElement?this._welElement:(t%=this._nDefaultPanel,this._htWElement.aPanel[t]):this._htWElement.aPanel[t]},getNextElement:function(){var t;return this._bUseCircular?(t=this._getIndexByElement(this.getElement()),t=((t+1)%this._nDefaultPanel>this._nDefaultPanel-1?0:t+1)%this._nDefaultPanel):t=this.getNextIndex(),this._htWElement.aPanel[t]},getPrevElement:function(){var t;return this._bUseCircular?(t=this._getIndexByElement(this.getElement()),t=0>t-1?this._nDefaultPanel-1:t-1):t=this.getPrevIndex(),this._htWElement.aPanel[t]},_getIndexByElement:function(t){var e=-1;return jindo.$A(this._htWElement.aPanel).forEach(function(n,i){n.isEqual(t)&&(e=i)}),e},getContentIndex:function(){return parseInt(this._nContentIndex,10)},getNextIndex:function(){var t=this.getContentIndex()+1,e=this.getTotalContents()-1;return this._bUseCircular&&t>e&&(t=0),Math.min(e,t)},getPrevIndex:function(){var t=this.getContentIndex()-1;return this._bUseCircular&&0>t&&(t=this.getTotalContents()-1),Math.max(0,t)},getTotalContents:function(){return this._bUseCircular?this.option("nTotalContents"):this._htWElement.aPanel.length},setTotalContents:function(t){isNaN(t)||1>t||(t=parseInt(t,10),this.getContentIndex()+1>t&&this._moveTo(t-1,{duration:0,fireEvent:!0,fireMoveEvent:!0}),this.option("nTotalContents",t),this.resize())},getTotalPanels:function(){return this._htWElement.aPanel.length},getPanels:function(){return this._htWElement.aPanel},moveTo:function(t,e){return t!=this.getContentIndex()?this._moveTo(t,{duration:e}):void 0},_moveTo:function(t,e){if(!(null==this._nRange&&this._aPos.indexOf(this._bUseH?this._htSize.maxX:this._htSize.maxY)<t)){var n={duration:"undefined"==typeof e.duration?this.option("nDuration"):e.duration,fireEvent:"undefined"==typeof e.fireEvent?!0:e.fireEvent,fireMoveEvent:"undefined"==typeof e.fireMoveEvent?!1:e.fireMoveEvent,corrupt:"undefined"==typeof e.corrupt?!1:e.corrupt,direct:"undefined"==typeof e.direct?!1:e.direct};if(!(this.isPlaying()||isNaN(t)||0>t||t>=this.getTotalContents())){var i=this._bUseH?this._nX:this._nY,o=this._getPos(t);if(this._bUseCircular){var s=this._posToIndex(i),h=this.getTotalContents();0==s&&t==h-1?this.option("nTotalContents")>=3&&(o=this._nRange):s==h-1&&0==t&&(o=this._getPos(s)-this._nRange)}if(i!=o)this._move(i,o,{duration:n.duration,contentsNextIndex:t,fireEvent:n.fireEvent,fireMoveEvent:n.fireMoveEvent,corrupt:n.corrupt,direct:e.direct});else if(0===n.duration&&n.fireEvent)if(n.fireMoveEvent)this._fireMoveEvent(t)&&this._fireMoveEvent();else{var a={next:null,moveCount:0,corrupt:n.corrupt,contentsNextIndex:t};this._fireFlickingEvent("beforeFlicking",a)&&(this._fireFlickingEvent("flicking",a),this._fireFlickingEvent("afterFlicking",a))}}}},moveNext:function(t){var e={duration:t,direct:!1};if(this._bUseCircular&&this.option("nTotalContents")<3){var n=this.getContentIndex();this._bUseH?this._nX=0==n?1:this._nX-1:this._nY=0==n?1:this._nY-1,e.direct=!0}this._moveTo(this.getNextIndex(),e)},movePrev:function(t){var e={duration:t,direct:!1};if(this._bUseCircular&&this.option("nTotalContents")<3){var n=this.getContentIndex();e.direct=!0,this._bUseH?this._nX=0==n?this._aPos[this.getTotalContents()-1]-1:this._nX+1:this._nY=0==n?this._aPos[this.getTotalContents()-1]-1:this._nY+1,this._moveTo(this.getNextIndex(),e)}else this._moveTo(this.getPrevIndex(),e)},_startImpl:function(){this.isPlaying()||(this._nPosToIndex=this._posToIndex(this._bUseH?this._nX:this._nY))},_moveImpl:function(t){var e=this._bUseH?t.nVectorX:t.nVectorY,n=this._bUseH?t.nDistanceX:t.nDistanceY,i=0>n,o=this._bUseH?this._nX:this._nY,s=i?this.getNextIndex():this.getPrevIndex();return o+=this._bUseCircular?e:s==this.getContentIndex()?e/2:e,this._nX=this._bUseH?o:0,this._nY=this._bUseV?o:0,t.bNext=i,this._moveAfterCall&&this._moveAfterCall(t),i},_endImpl:function(t){var e=null,n=(this._bUseH?t.nDistanceX:t.nDistanceY)<0,i=this.getContentIndex(),o=n?this.getNextIndex():this.getPrevIndex(),s=this._getPos(i),h=Math.abs((this._bUseH?this._nX:this._nY)-s),a=i===o||h<parseInt(this.option("nFlickThreshold"),10)||this._aPos.indexOf(this._bUseH?this._htSize.maxX:this._htSize.maxY)<o;if(0!=h)if(a)this._restore();else if(e=this._getMomentumData(t,1.5),0===e.duration||n&&i===this.getTotalContents()-1||!n&&0===i){var r=this._bUseH?this._nX:this._nY;(n&&r<this._aPos[o]||!n&&r>this._aPos[o])&&(this._bUseCircular&&this.option("nTotalContents")<3?0!=i||1!=o||n||(this._bUseH?this._nX=this._aPos[this.getTotalContents()-1]-1:this._nY=this._aPos[this.getTotalContents()-1]-1):this._setCurrentPos(i,n)),this._moveTo(null==this._nRange?this._getNextIndexByView(i,n):o,{duration:this.option("nDuration"),direct:!0})}else{var l=this._posToIndex(this._bUseH?e.nextX:e.nextY);l==i?this._restore():(this._bUseCircular?(i+=n?1:-1,this._setCurrentPos(i,n)):this._setCurrentPos(i,n),this._moveTo(l,{duration:e.duration}))}},_getNextIndexByView:function(t,e){return e?this.getNextIndex():this.getPrevIndex()},_setCurrentPos:function(t){this._bUseH?this._nX=this._aPos[t]:this._nY=this._aPos[t]},_resizeImpl:function(){this.resize()},_restore:function(){if(this._bUseH||this._bUseV){var t,e,n=this._getPos(this.getContentIndex());t=jindo.m.getTranslateOffset(jindo.m.CoverFlicking&&this instanceof jindo.m.CoverFlicking?this.getElement(this.getContentIndex()):this._htWElement.container),e=this._bUseH?t.left:t.top,n!==e&&this._move(e,n,{duration:this.option("nBounceDuration"),restore:!0})}},_getRevisionNo:function(t){var e=this.getTotalContents();return 0>t?t+=e:t>e-1&&(t%=e),t},_fireCustomBeforeEvent:function(t){if(t.restore){if(!this._fireRestoreEvent("beforeRestore",t))return!1}else if(t.fireMoveEvent){if(0==t.moveIndex&&!this._fireMoveEvent(t.contentsNextIndex))return!1}else if(!this._fireFlickingEvent("beforeFlicking",t))return!1;return!0},_setPanelEndInfo:function(t){t.restore?(this._nX=this._bUseH?this._getPos(t.no):0,this._nY=this._bUseV?this._getPos(t.no):0):(t.no=this._getRevisionNo(t.no),this._updateFlickInfo(t.no,t.next?this.getNextElement():this.getPrevElement()))},_fireCustomEvent:function(t){t.restore?this._fireRestoreEvent("restore",t):t.fireMoveEvent?(0===t.duration||t.moveCount==t.moveIndex+1)&&this._fireMoveEvent():(this._fireFlickingEvent("flicking",t),this._fireFlickingEvent("afterFlicking",t))},_fireFlickingEvent:function(t,e){if("undefined"==typeof this._htEventHandler[t])return!0;var n={nContentsIndex:this.getContentIndex(),bNext:e.next};return/before/.test(t)&&(n.nContentsNextIndex=e.direct||0===e.duration&&e.moveCount>1?e.contentsNextIndex:e.next?this.getNextIndex():this.getPrevIndex()),n.nMoveCount=e.moveCount,n.bCorrupt=e.corrupt,n[this._bUseH?"bLeft":"bTop"]=n.bNext,this.fireEvent(t,n)},_fireRestoreEvent:function(t){return this.fireEvent(t,{nContentsIndex:this.getContentIndex()})},_fireMoveEvent:function(t){return"undefined"==typeof t?this.fireEvent("move",{nContentsIndex:this.getContentIndex()}):this.fireEvent("beforeMove",{nContentsIndex:this.getContentIndex(),nContentsNextIndex:t})},_updateFlickInfo:function(t,e){this._nContentIndex="undefined"==typeof t?this.getContentIndex():t,e="undefined"==typeof e?this.getElement():e,this._nX=this._bUseH?this._getPos(this._nContentIndex):0,this._nY=this._bUseV?this._getPos(this._nContentIndex):0,this._welElement=e},_onEndAniImpl:function(){this._bUseCircular},_makeOption:function(t){var e=jindo.$Jindo.mixin({duration:0,restore:!1,fireEvent:!0,fireMoveEvent:!1,moveCount:1,moveIndex:0,corrupt:!1,useCircular:this._bUseCircular,range:this._nRange},t||{});return e.restore&&(e.moveCount=0),e.moveCount>1&&0===e.duration&&(e.corrupt=!0),e.direct=e.direct||jindo.m.SlideFlicking&&this instanceof jindo.m.SlideFlicking&&"undefined"==typeof this._htEventHandler.beforeFlicking&&"undefined"==typeof this._htEventHandler.flicking&&"undefined"==typeof this._htEventHandler.afterFlicking,e},_moveWithEvent:function(t,e,n){var i=this,o={};return n.no=this._posToIndex(t),o=jindo.$Jindo.mixin(n,{}),!o.fireMoveEvent&&o.moveCount>1&&(o.contentsNextIndex=o.no),i._panelEndBeforeCall&&i._panelEndBeforeCall(o),this._oAnimation._oMorph.pushCall(function(){o.fireEvent&&!i._fireCustomBeforeEvent(o)&&(this.clear(),i._restore())}),this._oAnimation.move(this._bUseH?t:0,this._bUseV?t:0,e,o),this._oAnimation._oMorph.pushCall(function(){i._setPanelEndInfo(o),i._panelEndAfterCall&&i._panelEndAfterCall(o),o.fireEvent&&i._fireCustomEvent(o)}),this._oAnimation._oMorph},_move:function(t,e,n){if(!this._bUseCircular){var i=this._bUseH?this._htSize.maxX:this._htSize.maxY;e=i>e?i:e}if(t!==e){this._clearOffsetBug();var o=t>e,s=this._getStepCount(t,e);if(n=n||{},n.moveCount=s,n.next=o,n=this._makeOption(n),n.restore)return void this._moveWithEvent(e,n.duration,n).play();if(0==n.duration)this._moveWithEvent(e,0,n).play();else{if(n.direct)this._moveWithEvent(e,n.duration,n).play();else for(var h=0,a=t,r=0,l=this.option("fpPanelEffect")(0,n.duration),c=0;s>c;c++)n.moveIndex=c,r=this._getPanelEndPos(a,e,o),h=l((c+1)/s)-l(c/s),this._moveWithEvent(r,h,n),a=r;this._oAnimation._oMorph.play()}}},_getPos:function(t){return 0>t||t>=this._aPos.length?(console.error("wrong index",t),0):this._aPos[t]},_isPosPoint:function(t){return-1!=this._aPos.indexOf(t)},_getStepCount:function(t,e){var n=t>e,i=this._posToIndex(t),o=this._posToIndex(e),s=Math.abs(o-i);return n||this._isPosPoint(t)||!this._isPosPoint(e)||s++,s},_posToIndex:function(t){for(var e,n=0,i=-1,o=this._aPos.length;o>n;n++){if(e=this._aPos[n],!(e>t)){if(t==e){i++;break}break}i++}return i},_getPanelEndPos:function(t,e,n){var i,o=this._posToIndex(t);return!n&&!this._isPosPoint(t)&&o++,o+=n?1:-1,i=this._bUseCircular&&0>o?t+e:this._getPos(o),null==this._nRange&&n&&(i=e>i?e:i),i},_getTranslate:function(t){return this._oAnimation.getTranslate(this._bUseH?t:0,this._bUseV?t:0)},_makeHighlightStyle:function(){if(this._hasHighlightBug){var t=jindo.$("_jmc_no_tap_highlight_tag_");if(!t){t=document.createElement("style");var e=document.getElementsByTagName("html")[0];t.type="text/css",t.id="_jmc_no_tap_highlight_tag_",e.insertBefore(t,e.firstChild);var n=t.sheet||t.styleSheet;n.insertRule("."+this._sHighlightClass+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0),n.insertRule("."+this._sHighlightClass+" * { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0)}this._htWElement.container.addClass(this._sHighlightClass)}},_tapImpl:function(){if(this._hasHighlightBug){this._htWElement.container.removeClass(this._sHighlightClass);var t=this;clearTimeout(this._nHightlightBug),this._nHightlightBug=setTimeout(function(){t._htWElement.container.addClass(t._sHighlightClass)},200)}},destroy:function(){jindo.m.SwipeCommon.prototype.destroy.apply(this)}}).extend(jindo.m.SwipeCommon),jindo.m.Slide=jindo.$Class({$init:function(t){this.option({}),this.option(t||{})},setStyle:function(t){var e={};return e[this.p("TransitionProperty")]=""==this.sCssPrefix?"tranform":"-"+this.sCssPrefix+"-transform",e[this.p("TransitionDuration")]="0ms",e[this.p("Transform")]=this.getTranslate(0,0),this._welTarget=t[0].css(e),this.fireEvent("set",{css:e}),e},move:function(t,e,n,i){i=i||{};var o,s=this.getTarget(!0);if(i.useCircular)this.option("bUseH")?t=this._getPos(t,i):e=this._getPos(e,i);else if(this.option("bHasOffsetBug")){var h=jindo.m.getStyleOffset(s);t-=h.left,e-=h.top}return o={"@transitionProperty":""==this.sCssPrefix?"tranform":"-"+this.sCssPrefix+"-transform","@transform":this.getTranslate(t+"px",e+"px")},n?this._oMorph.pushAnimate(n,[s,o]):s.css(this.toCss(o)),this._oMorph},_getPos:function(t,e){var n=t,i=e.next,o=e.range;if(e.restore)n=0;else if(0!=e.duration&&t%o===0)n=i?-o:o;else if("undefined"!=typeof e.startIndex){var s=-1*parseInt(n/o,10);i=s==e.startIndex||s>e.startIndex?!0:!1,n=n%o+(i?-1:1)*Math.abs(s-e.startIndex)*o}else n=n%o+(i?0:2*o),n%=o;return n}}).extend(jindo.m.Animation),jindo.m.SlideFlicking=jindo.$Class({$init:function(t,e){this.option(e||{}),this._initVar(),this._oDocFragment=document.createDocumentFragment(),this._setWrapperElement(t),this.option("bActivateOnload")&&this.activate()},_onActivate:function(){jindo.m.Flick.prototype._onActivate.apply(this);var t=this;this.set(new jindo.m.Slide(this._getAnimationOption()).attach({set:function(e){t._setStyle(e.css)}}),this._htWElement.container)},_setStyle:function(t){var e={},n=0,i=this._bUseH?"width":"height",o=this._bUseH?"left":"top";jindo.$Jindo.mixin(e,t),this._bUseCircular&&(e[i]="100%",e[o]="-100%",t.position="absolute",t[i]="100%",t.left=0,t.top=0),this._bUseH&&(e.clear="both",t["float"]="left"),this._htWElement.container.css(e),jindo.$A(this._htWElement.aPanel).forEach(function(e,i){this._bUseCircular&&(n=(i+1)%this._nDefaultPanel*100+"%",this._hasOffsetBug()?t[o]=n:t[jindo.m._toPrefixStr("Transform")]=this._getTranslate(n)),e.css(t)},this)},resize:function(){jindo.m.Flick.prototype.resize.call(this);var t=this._bUseH?"width":"height",e=this._htWElement.view[t]();if(!this._bUseCircular){if(this._htWElement.container.css(t,-this._aPos[this._aPos.length-1]+"px"),this.option("bFitContentSize"))jindo.$A(this._htWElement.aPanel).forEach(function(n){n.css(t,e+"px")});else{var n=this._aPos[this._aPos.length-1]+e;0>n&&(jindo.$A(this._aPos).forEach(function(t,e){n>t&&(this._aPos.length=e,jindo.$A.Break())},this),this._aPos.push(n),this._bUseH?this._htSize.maxX=n:this._htSize.maxY=n,this._aPos.length<=this.getContentIndex()&&(this._nContentIndex=this._aPos.length-1))}this._updateFlickInfo(),this._oAnimation.move(this._nX,this._nY)}},_restorePanel:function(t){t=t||this.getElement();var e=this._getIndexByElement(t),n=this._hasOffsetBug()?this._bUseH?"left":"top":jindo.m._toPrefixStr("Transform"),i=(0>e-1?this._nDefaultPanel-1:e-1)%this._nDefaultPanel,o=((e+1)%this._nDefaultPanel>this._nDefaultPanel-1?0:e+1)%this._nDefaultPanel,s=e%this._nDefaultPanel;this._welElement=this._htWElement.aPanel[s],this._htWElement.container.css(jindo.m._toPrefixStr("Transform"),this._getTranslate(0)),this._welElement.css(n,this._getPosValue("100%")).css("zIndex",10),this._htWElement.aPanel[i].css(n,this._getPosValue("0%")).css("zIndex",1),this._htWElement.aPanel[o].css(n,this._getPosValue("200%")).css("zIndex",1),jindo.m.getOsInfo().ios&&this._bUseCircular&&(this._oDocFragment.appendChild(this._htWElement.aPanel[i].$value()),this._oDocFragment.appendChild(this._htWElement.aPanel[o].$value()),this._htWElement.container.$value().appendChild(this._oDocFragment))},_getPosValue:function(t){return this._hasOffsetBug()?t:this._getTranslate(t)},_panelEndAfterCall:function(){this._bUseCircular&&this._restorePanel()},_moveAfterCall:function(t){this._oAnimation.move(this._nX,this._nY,0,this._makeOption({next:t.bNext}))},_onEndAniImpl:function(){jindo.m.Flick.prototype._onEndAniImpl.apply(this),this._bUseCircular||this._fixOffsetBugImpl()},destroy:function(){jindo.m.Flick.prototype.destroy.apply(this)}}).extend(jindo.m.Flick),jindo.m.CircularFlicking=jindo.$Class({$init:function(t,e){this.option({bHorizontal:!0,sClassPrefix:"flick-",nFlickThreshold:40,nDuration:100,nTotalContents:3,nBounceDuration:100,bActivateOnload:!0,bSetNextPanelPos:!1,bUseCss3d:jindo.m.useCss3d(),bUseTimingFunction:jindo.m.useTimingFunction(),bUseTranslate:!0,bUseDiagonalTouch:!0}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this._initFlicking(t),this.option("bActivateOnload")&&this.activate()},_initVar:function(){this._oFlicking=null},_initFlicking:function(t){var e=this.option();e.sContentClass="panel",e.sAnimation="slide",e.bUseCircular=!0,e.bActivateOnload=!1,this._oFlicking=new jindo.m.Flicking(jindo.$Element(t),e).attach({touchStart:jindo.$Fn(this._onTouchStart,this).bind(),touchMove:jindo.$Fn(this._onTouchMove,this).bind(),touchEnd:jindo.$Fn(this._onTouchEnd,this).bind(),beforeMove:jindo.$Fn(this._onBeforeMove,this).bind(),move:jindo.$Fn(this._onMove,this).bind(),rotate:jindo.$Fn(this._onRotate,this).bind(),scroll:jindo.$Fn(this._onScroll,this).bind(),beforeFlicking:jindo.$Fn(this._onBeforeFlicking,this).bind(),afterFlicking:jindo.$Fn(this._onAfterFlicking,this).bind()})},_setWrapperElement:function(t){this._htWElement={circularFlickBase:jindo.$Element(t)};var e=jindo.$Element(this._htWElement.circularFlickBase.query("."+this.option("sClassPrefix")+"container")),n=e.queryAll("."+this.option("sClassPrefix")+"panel");if(n&&n.length<3)for(var i=3-n.length,o=0;i>o;o++)e.$value().appendChild(jindo.$('<div class="'+this.option("sClassPrefix")+'panel">'))},getPanelIndex:function(){return this._oFlicking.getIndexByElement(this.getPanelElement().$value())},getPanelElement:function(){return this._oFlicking.getElement()},getRightPanelIndex:function(){return this._oFlicking.getIndexByElement(this.getRightPanelElement().$value())},getRightPanelElement:function(){return this._oFlicking.getNextElement()},getLeftPanelIndex:function(){return this._oFlicking.getIndexByElement(this.getLeftPanelElement().$value())},getLeftPanelElement:function(){return this._oFlicking.getPrevElement()},getContentIndex:function(){return this._oFlicking.getContentIndex()},getRightContentIndex:function(){return this._oFlicking.getNextIndex()},getLeftContentIndex:function(){return this._oFlicking.getPrevIndex()},_onTouchStart:function(t){var e=this.fireEvent("touchStart",t);return e?void 0:void t.stop()},_onTouchMove:function(t){this.fireEvent("touchMove",t)},_onTouchEnd:function(t){this.fireEvent("touchEnd",t)},_onBeforeMove:function(t){var e=t.nContentsNextIndex%3;this.fireEvent("beforeMove",{nPanelIndex:this.getPanelIndex(),nContentIndex:t.nContentsIndex,nNextPanelIndex:e,nNextContentIndex:t.nContentsNextIndex})||t.stop()},_onMove:function(){this.fireEvent("move",{nPanelIndex:this.getPanelIndex(),nPanelLeftIndex:this.getLeftPanelIndex(),nPanelRightIndex:this.getRightPanelIndex(),nContentIndex:this.getContentIndex(),nContentLeftIndex:this.getLeftContentIndex(),nContentRightIndex:this.getRightContentIndex()})},_onRotate:function(t){this.fireEvent("rotate",t)},_onScroll:function(){this.fireEvent("scroll")},_onBeforeFlicking:function(t){var e={nContentIndex:t.nContentsIndex,nNextContentIndex:t.nContentsNextIndex,nPanelIndex:this.getPanelIndex(),nNextPanelIndex:this.getLeftPanelIndex()};t.bTop&&(e.bTop=t.bTop),t.bLeft&&(e.bLeft=t.bLeft),(e.bTop||e.bLeft)&&(e.nNextPanelIndex=this.getRightPanelIndex()),this.fireEvent("beforeFlicking",e)||t.stop()},_onAfterFlicking:function(t){var e={nPanelIndex:this.getPanelIndex(),nPanelLeftIndex:this.getLeftPanelIndex(),nPanelRightIndex:this.getRightPanelIndex(),nContentIndex:this.getContentIndex(),nContentLeftIndex:this.getLeftContentIndex(),nContentRightIndex:this.getRightContentIndex()};t.bTop&&(e.bTop=t.bTop),t.bLeft&&(e.bLeft=t.bLeft),this._htWElement.aPanel=this._oFlicking._oFlickingImpl._htWElement.aPanel,this.fireEvent("afterFlicking",e)},moveNext:function(){this.isActivating()&&this._oFlicking.moveNext()},movePrev:function(){this.isActivating()&&this._oFlicking.movePrev()},refresh:function(t,e,n){this.isActivating()&&("undefined"==typeof e&&(e=!1),"undefined"==typeof n&&(n=!1),this._oFlicking.refresh(t,e,n))},setContentIndex:function(t,e){this.isActivating()&&(t=parseInt(t,10),0>t||t>this.option("nTotalContents")-1||("undefined"==typeof e&&(e=!0),this.refresh(t,e,!0)))},_onActivate:function(){this._oFlicking.activate()},_onDeactivate:function(){this._oFlicking.deactivate()},destroy:function(){this.deactivate(),this._oFlicking=null;for(var t in this._htWElement)this._htWElement[t]=null}}).extend(jindo.m.UIComponent),jindo.m.CorePagination=jindo.$Class({_nCurrentPage:1,$init:function(t){this.option({nItem:10,nItemPerPage:10,nPage:1,bActivateOnload:!0}),this.option(t||{}),this._nCurrentPage=this.option("nPage")},getItemCount:function(){return this.option("nItem")},getItemPerPage:function(){return this.option("nItemPerPage")},getCurrentPage:function(){return this._nCurrentPage},setItemCount:function(t){this.option("nItem",t)},setItemPerPage:function(t){this.option("nItemPerPage",t)},movePageTo:function(t){var e=(this._nCurrentPage,this._convertToAvailPage(t));e!=this._nCurrentPage&&(this._nCurrentPage=e)},nextPageTo:function(){var t=this._nCurrentPage+1;this.movePageTo(t)},previousPageTo:function(){var t=this._nCurrentPage-1;this.movePageTo(t)},hasNextPage:function(){var t=this.getCurrentPage(),e=this.getTotalPages();return t&&e>t},hasPreviousPage:function(){return this.getCurrentPage()>1},getTotalPages:function(){var t=this.option("nItem"),e=this.option("nItemPerPage");return e?Math.ceil(t/e):null},getPageItemIndex:function(t){t=this._convertToAvailPage(t);var e,n,i=this.option("nItem"),o=this.option("nItemPerPage");return t&&o?(e=(t-1)*o,n=Math.min(e+o,i)-1,{nStart:e,nEnd:n}):null},getPageOfItem:function(t){return Math.ceil(t/this.getItemPerPage())},_convertToAvailPage:function(t){var e=this.getTotalPages();return t=Math.max(t,1),t=Math.min(t,e)}}).extend(jindo.m.UIComponent),jindo.m.LayerEffect=jindo.$Class({$init:function(t,e){this.option({nDuration:250,fEffect:jindo.m.Effect.linear,bActivateOnload:!0}),this._initVar(),!arguments[0]||"string"!=typeof arguments[0]&&1!=arguments[0].nodeType?this.option(arguments[0]||{}):(this.setLayer(t),this.option(e||{})),this._initTransition(),this.option("bActivateOnload")&&this.activate()},_htEffect:{expand:"jindo.m.ExpandEffect",contract:"jindo.m.ContractEffect",fade:"jindo.m.FadeEffect",pop:"jindo.m.PopEffect",slide:"jindo.m.SlideEffect",flip:"jindo.m.FlipEffect"},_initVar:function(){this._htEffectInstance={},this._htLayerInfo={},this._htWElement={},this._htCurrentTask={},this.bAndroid=jindo.m.getDeviceInfo().android,this.sClassHighligting="_effct_hide_highlighting_tmp"},_initTransition:function(){this._oMorph=new jindo.m.Morph({fEffect:this.option("fEffect")||(this.option("sEffect")?this._getEffect(this.option("sEffect")):null),bUseTransition:jindo.m.useTimingFunction()})},_getEffect:function(t){var e=jindo.m.Effect.cubicEaseInOut;switch(t){case"linear":e=jindo.m.Effect.linear;break;case"ease":e=jindo.m.Effect.cubicEase;break;case"ease-in":e=jindo.m.Effect.cubicEaseIn;break;case"ease-out":e=jindo.m.Effect.cubicEaseOut;break;case"ease-in-out":e=jindo.m.Effect.cubicEaseInOut}return e},_createEffect:function(sType){if(this._htEffect[sType]&&!this._htEffectInstance[sType]){try{this._htEffectInstance[sType]=eval("new "+this._htEffect[sType]+"()")}catch(e){}this._htEffectInstance[sType].setLayerInfo(this._htLayerInfo)}},_createFunc:function(){for(var t=["slide","pop","flip","fade","expand","contract"],e=0,n=t.length;n>e;e++)this[t[e]]=function(t){return function(e){var n=t;if("string"==typeof arguments[0]||1==arguments[0].nodeType){this.setLayer(arguments[0]);var i=arguments[2]||{};
i.sDirection=arguments[1],this._run(n,i)}else this._run(n,e)}}(t[e])},isPlaying:function(){return this._oMorph.isPlaying()},_fireCustomEvent:function(t,e){return this.fireEvent(t,e)},_run:function(t,e){if(this._isAvailableEffect()){this._createEffect(t),"undefined"==typeof e&&(e={});var n=this._htEffectInstance[t],i=this.getLayer(),o="undefined"==typeof e.nDuration?this.option("nDuration"):parseInt(e.nDuration,10),s=n.getBeforeCommand(i,e),h=n.getCommand(i,e);if(this._htCurrentTask=e,this._htCurrentTask.elLayer=i,this._htCurrentTask.sTaskName=h.sTaskName,this._htCurrentTask.nDuration=o,this._fireCustomEvent("beforeEffect",{elLayer:i,sEffect:h.sTaskName,nDuration:o})){s&&this._oMorph.pushAnimate(-1,[this.getLayer(),s.htStyle]);var a=this;e.sEffect&&this._oMorph.pushCall(function(){this.option({fEffect:a._getEffect(e.sEffect)})}),o=0==o?-1:o,this._oMorph.pushAnimate(o,[this.getLayer(),h.htStyle]),h.fCallback&&("function"==typeof h.fCallback?this._oMorph.pushCall(function(){h.fCallback()}):"object"==typeof h.fCallback&&this._oMorph.pushAnimate(-1,[this.getLayer(),h.fCallback.htStyle||{}])),this._oMorph.play()}}},setLayer:function(t){this._htWElement.el=jindo.$(t),this._htWElement.wel=jindo.$Element(this._htWElement.el);var e;if(this.bAndroid&&(e=jindo.$$.getSingle("."+this.sClassHighligting,this._htWElement.el),!e)){var n='<a href="javascript:void(0)" style="position:absolute" class="'+this.sClassHighligting+'"></a>';e=jindo.$(n),this._htWElement.wel.append(e),e.style.opacity="0",e.style.width=0,e.style.height=0,e.style.left="-1000px",e.style.top="-1000px"}this.setSize()},stop:function(t){"undefined"==typeof t&&(t=!0),this._oMorph&&this._oMorph.pause(t)},clearEffect:function(t){this._oMorph&&(this.stop(t),this._oMorph.clear())},getLayer:function(){return this._htWElement.el},setSize:function(){var t=this._htWElement.el.cloneNode(!0),e=jindo.$Element(t);e.opacity(0),this._htWElement.wel.after(e),e.show(),this._htLayerInfo.nWidth=this._htWElement.wel.width(),this._htLayerInfo.nHeight=this._htWElement.wel.height(),e.css({position:"absolute",top:"0px",left:"0px"}),this._htLayerInfo.nMarginLeft=parseInt(e.css("marginLeft"),10),this._htLayerInfo.nMarginTop=parseInt(e.css("marginTop"),10),this._htLayerInfo.nMarginLeft=isNaN(this._htLayerInfo.nMarginLeft)?0:this._htLayerInfo.nMarginLeft,this._htLayerInfo.nMarginTop=isNaN(this._htLayerInfo.nMarginTop)?0:this._htLayerInfo.nMarginTop,this._htLayerInfo.nOpacity=this._htWElement.wel.opacity(),this._htLayerInfo.sPosition=this._htWElement.wel.css("position");var n=this._htWElement.wel.css("display");n="none"===n||0===n.length?"block":n,this._htLayerInfo.sDisplay=n,this._htLayerInfo.sClassHighligting=this.sClassHighligting,e.leave(),this._setEffectLayerInfo()},_setEffectLayerInfo:function(){for(var t in this._htEffectInstance)this._htEffectInstance[t].setLayerInfo(this._htLayerInfo)},_onTransitionEnd:function(){this._htCurrentTask&&this._fireCustomEvent("afterEffect",{elLayer:this._htCurrentTask.elLayer,sEffect:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})},_onTransitionStop:function(t){t.sTaskName&&this._fireCustomEvent("stop",{elLayer:this._htCurrentTask.elLayer,sEffect:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})},_isAvailableEffect:function(){return this.isActivating()},_onActivate:function(){this._attachEvent(),this._createFunc()},_onDeactivate:function(){this._detachEvent()},_attachEvent:function(){this._htEvent={},this._htEvent.end=jindo.$Fn(this._onTransitionEnd,this).bind(),this._htEvent.stop=jindo.$Fn(this._onTransitionStop,this).bind(),this._oMorph&&this._oMorph.attach({end:this._htEvent.end,stop:this._htEvent.stop})},_detachEvent:function(){this._htEvent=null},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null}}).extend(jindo.m.UIComponent),jindo.m._Effect_=jindo.$Class({$init:function(){this._sCssPrefix=jindo.m.getCssPrefix();var t=jindo.m.getDeviceInfo();this.bIos=t.iphone||t.ipad,this.bIos3=t.iphone&&t.version.length>0&&"3"==t.version.substring(0,1),this.bAndroid=t.android,this.bAndroid3Up=t.android&&t.version.length>0&&t.version.substring(0,1)>="3",this.bAndroid2_1=t.android&&t.version.length>0&&"2.1"===t.version,this.sTranOpen=this.bIos?"translate3d(":"translate(",this.sTranEnd=this.bIos?",0px)":")",this._initVar()},_initVar:function(){this._htLayerInfo={}},setLayerInfo:function(t){this._htLayerInfo={};for(var e in t)this._htLayerInfo[e]=t[e]},getTranslateStyle:function(t,e){var n=e||{};for(var i in t)n["@"+i]=t[i];return n},getTransitionTask:function(){return null},getBeforeCommand:function(){return null},getCommand:function(){return null}}),jindo.m.SlideEffect=jindo.$Class({sEffectName:"slide",getCommand:function(t,e){e.nDistance&&(e.nSize=e.nDistance);var n,i,o,s=e.sDirection?e.sDirection:"left",h=jindo.m.getCssOffset(t),a=h.left,r=h.top;if(n="undefined"!=typeof e.nSize?e.nSize:this._htLayerInfo.nWidth,i="undefined"!=typeof e.nSize?e.nSize:this._htLayerInfo.nHeight,("up"==s||"down"==s)&&(r+="up"==s?-1*i:i),("left"==s||"right"==s)&&(a+="left"==s?-1*n:n),"undefined"!=typeof e.elBaseLayer){a=0,r=0;var l=jindo.$Element(e.elBaseLayer);o=jindo.$Element(t),i="undefined"!=typeof e.nSize?e.nSize:l.height(),n="undefined"!=typeof e.nSize?e.nSize:l.width(),("up"==s||"down"==s)&&(r="down"==s?-1*i:i),("left"==s||"right"==s)&&(a="left"==s?n:-1*n),a=-1*a,r=-1*r}var c=this._htLayerInfo.sPosition,f=this.bAndroid,_=this.bAndroid3Up,u=this._htLayerInfo.sClassHighligting,d=this.bAndroid2_1;o=jindo.$Element(t);var m=e.htTo||{};m.transform=this.sTranOpen+a+"px, "+r+"px"+this.sTranEnd;var p={};return this.getTranslateStyle(m,p),{sTaskName:this.sEffectName+"-"+s,htStyle:p,fCallback:function(){var e=jindo.m.getCssOffset(t),n=1*o.css("top").replace("px",""),i=1*o.css("left").replace("px","");n=isNaN(n)?0:n,i=isNaN(i)?0:i,"relative"==c?o.css("position","relative"):o.css("position","absolute");var s=jindo.m.getCssPrefix();if(o.css(s+"Transform",""),_&&o.offset(),o.$value().style.top=parseInt(n+e.top,10)+"px",o.$value().style.left=parseInt(e.left+i,10)+"px",f&&!_){var h=jindo.$$.getSingle("."+u,o.$value());h&&(d?setTimeout(function(){h.focus()},5):h.focus())}}}},getBeforeCommand:function(t,e){var n=e.sDirection?e.sDirection:"left",i=e.htFrom||{},o=jindo.$Element(t);if("undefined"!=typeof e.elBaseLayer){var s=jindo.$Element(e.elBaseLayer);if(!s.isParentOf(o)){s.append(o);var h=o.css("position");"relative"!=h&&"absolute"!=h&&o.css("position","absolute"),o.css("opacity",0)}var a=0,r=0,l=s.height(),c=s.width();("up"==n||"down"==n)&&(r="down"==n?-1*l:l),("left"==n||"right"==n)&&(a="left"==n?c:-1*c),s.css("overflow","hidden"),i.left=a+"px",i.top=r+"px",i.opacity=this._htLayerInfo.nOpacity}var f={};return this.getTranslateStyle(i,f),{htStyle:f}}}).extend(jindo.m._Effect_),jindo.m.CoreTab=jindo.$Class({$init:function(t,e){this.option({sClassPrefix:"tc-",nDefaultIndex:0,nPanelDuration:0,nHeight:0,nWidth:0,bActivateOnload:!0}),this.option(e||{}),this._initVar(),this._setWrapperElement(t)},_initVar:function(){this._sPrefix=this.option("sClassPrefix"),this._nCurrentIndex=-1,this._aTab=[],this._aPanel=[],this._oPanelEffect=null},_setWrapperElement:function(t){this._htWElement={},t="string"==typeof t?jindo.$(t):t,t&&(this._htWElement.baseElement=jindo.$Element(t),this._htWElement.tab_container=jindo.$Element(this._htWElement.baseElement.query("."+this._sPrefix+"tab-cont")),this._htWElement.panel_container=jindo.$Element(this._htWElement.baseElement.query("."+this._sPrefix+"panel-cont")),this._htWElement.tab_container&&this._htWElement.tab_container.css("-"+jindo.m.getCssPrefix()+"-tap-highlight-color","transparent"))},_initData:function(){var t,e,n,i,o=this.option("nPanelDuration");for(this._aTab=this._htWElement.tab_container.queryAll("."+this._sPrefix+"tab"),this._aPanel=this._htWElement.panel_container.queryAll("."+this._sPrefix+"panel"),n=0,i=this._aTab.length;i>n;n++)this._aTab[n]=jindo.$Element(this._aTab[n]),this._aPanel[n]=jindo.$Element(this._aPanel[n]);for(o&&(t=(0==this.option("nWidth")?this._htWElement.panel_container.width()-parseInt(this._aPanel[0].css("paddingLeft"),10)-parseInt(this._aPanel[0].css("paddingRight"),10):this.option("nWidth"))+"px",e=this.option("nHeight")+"px"),n=0,i=this._aTab.length;i>n;n++)this._aTab[n]=this._aTab[n].attr("data-index",n),o&&this._aPanel[n].css({width:t,height:e,position:"absolute"});o&&(this._oPanelEffect=new jindo.m.LayerEffect(this._aPanel[0].$value()),this._htWElement.panel_container.css({position:"relative",overflow:"hidde",height:e}))},_getIdx:function(t){return parseInt(t.attr("data-index"),10)},_getTabElement:function(t){var e=this._sPrefix+"tab",n=this._sPrefix+"more-tab";return t.hasClass(e)||t.hasClass(n)?t:!this._htWElement.tab_container.isParentOf(t)||t.hasClass(e)&&t.hasClass(n)?t:t.parent(function(t){return t.hasClass(e)||t.hasClass(n)},2)[0]},_onActivate:function(){this._attachEvent()},_onDeactivate:function(){this._detachEvent()},_attachEvent:function(){this._htEvent={},this._htEvent.tab_click={el:this._htWElement.tab_container,ref:jindo.$Fn(this._onSelect,this).attach(this._htWElement.tab_container,"click")}},_detachEvent:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref.detach(e.el,t.substring(t.lastIndexOf("_")+1))}this._htEvent=null,this._oPanelEffect&&this._oPanelEffect.detachAll()},getCurrentIndex:function(){return this._nCurrentIndex},getTab:function(t){return null!==t&&this._aTab.length>t?this._aTab[t]:this._aTab},getPanel:function(t){return null!==t&&this._aPanel.length>t?this._aPanel[t]:this._aPanel},_onSelect:function(t){if(t.element){if(this._oPanelEffect&&this._oPanelEffect.isPlaying())return t.stop(jindo.$Event.CANCEL_ALL),!1;var e=this._getTabElement(jindo.$Element(t.element));this._onAfterSelect(e)}},select:function(t){if(null!==t&&t>=0&&this._aTab.length>t&&this._nCurrentIndex!=t&&this._fireEventBefore("beforeSelect")){var e=this._sPrefix+"selected";this._beforeSelect(t),this._aTab[t].addClass(e),this._aPanel[t].addClass(e),this._aPanel[t].show(),this._nCurrentIndex>-1&&(this._aTab[this._nCurrentIndex].removeClass(e),this._oPanelEffect?this._slide(this._nCurrentIndex,t):(this._aPanel[this._nCurrentIndex].removeClass(e),this._aPanel[this._nCurrentIndex].hide())),this._nCurrentIndex=t,this._fireEvent("select")}},_slide:function(t,e){var n=this,i=e>t,o=this._aPanel[e].width();this._fireEventBefore("beforeSlide")&&(this._oPanelEffect.setLayer(this._aPanel[e].$value()),this._oPanelEffect.attach("afterEffect",function(){n._onPannelAfterEffct(t,e)}),this._aPanel[e].css({left:i?o:-o,zIndex:9}),this._oPanelEffect.slide({sDirection:i?"left":"right",nDuration:this.option("nPanelDuration"),nSize:o}))},_onPannelAfterEffct:function(t,e){this._aPanel[t].removeClass(this._sPrefix+"selected"),this._aPanel[t].hide(),this._aPanel[t].css("zIndex",1),this._aPanel[e].css("zIndex",2),this._oPanelEffect.detachAll("afterEffect"),this._fireEvent("slide")},_fireEventBefore:function(t){return this.fireEvent(t,{nIndex:this._nCurrentIndex,elTab:this._aTab[this._nCurrentIndex],elPanel:this._aPanel[this._nCurrentIndex]})},_fireEvent:function(t){this.fireEvent(t,{nIndex:this._nCurrentIndex,elTab:this._aTab[this._nCurrentIndex],elPanel:this._aPanel[this._nCurrentIndex]})},destroy:function(){for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null;for(t in this._aTab)this._aTab[t]=null;this._aTab=null;for(t in this._aPanel)this._aPanel[t]=null;this._aPanel=null,this._oPanelEffect&&(this._oPanelEffect.destroy(),this._oPanelEffect=null)}}).extend(jindo.m.UIComponent),jindo.m.FadeEffect=jindo.$Class({sEffectName:"fade",getCommand:function(t,e){e.htTo||(e.htTo={}),e.nDistance&&(e.htTo.opacity=e.nDistance);var n=e.sDirection?e.sDirection:"in",i=e.htTo||{},o="in"==n?1:0;i.opacity="undefined"!=typeof i.opacity?i.opacity:o;var s={};"out"==n&&(s.htStyle={},s.htStyle["@display"]="none",s.htStyle["@opacity"]=this._htLayerInfo.nOpacity);var h={};return this.getTranslateStyle(i,h),{sTaskName:this.sEffectName+"-"+n,htStyle:h,fCallback:s}},getBeforeCommand:function(t,e){var n=e.sDirection?e.sDirection:"in",i=e.htFrom||{},o="in"==n?0:1;i.display=this._htLayerInfo.sDisplay,i.opacity="undefined"==typeof i.opacity?o:i.opacity;var s={};return this.getTranslateStyle(i,s),{htStyle:s,htTransform:{}}}}).extend(jindo.m._Effect_),jindo.m.LayerPosition=jindo.$Class({$init:function(t,e,n){arguments.length<3&&(!e||e&&!e.nodeType&&"string"!=typeof e)?(this._setBaseLayer(document.body),n=e||{},e=t):this._setBaseLayer(t),this.option({bActivateOnload:!0,bAutoReposition:!0,sPosition:"center",nLeftMargin:0,nRightMargin:0,nTopMargin:0,nBottomMargin:0,bUseFixed:!0}),this.option(n||{}),this._initVar(),this._setWrapperElement(e),this.option("bActivateOnload")&&this.activate()},isUseFixed:function(){return this._bUseFixedProperty},_onActivate:function(){this._isVertical=jindo.m.isVertical(),this.option("bAutoReposition")&&this._attachEvent(),this.setPosition()},_onDeactivate:function(){this.option("bAutoReposition")&&this._detachEvent()},_initVar:function(){var t=this.option("nLeftMargin"),e=this.option("nTopMargin");this._htMargin={nLeft:t,nRight:this.option("nRightMargin"),nTop:e,nBottom:this.option("nBottomMargin")},this._sPosition=this.option("sPosition"),this._htOldPosition={nTop:null,nLeft:null,nBottom:null},this._htPosition={nTop:null,nLeft:null,nBottom:null},this._bUseFixedProperty=this.option("bAutoReposition")&&this.option("bUseFixed")&&jindo.m._isUseFixed(),this._isVertical=null,this._hasOrientationChange=jindo.m.getDeviceInfo().ipad||jindo.m.getDeviceInfo().iphone||jindo.m.getDeviceInfo().bChrome,this._nPreWidth=-1},getPosition:function(){return this._sPosition},getMargin:function(){return this._htMargin},getLayer:function(){return this._htWElement.element.$value()},getCurrentPosition:function(){return this._htPosition},_setWrapperElement:function(t){this._htWElement={},this.setLayer(t)},setLayer:function(t){return this._htWElement.element=jindo.$Element(t),this._bUseFixedProperty?this._htWElement.element.css("position","fixed"):this._htWElement.element.css("position","absolute"),this._htWElement.element.parent().isEqual(document.body)||this._htWElement.element.appendTo(document.body),this},top:function(t){this.setPosition("top",t)},bottom:function(t){this.setPosition("bottom",t)},center:function(t){this.setPosition("center",t)},all:function(t){this.setPosition("all",t)},_fixedLayerSize:function(t,e){var n=parseInt(this._htMargin.nLeft,10),i=parseInt(this._htMargin.nTop,10),o={"padding-top":parseInt(this._htWElement.element.css("padding-top"),10),"padding-bottom":parseInt(this._htWElement.element.css("padding-bottom"),10),"padding-left":parseInt(this._htWElement.element.css("padding-left"),10),"padding-right":parseInt(this._htWElement.element.css("padding-right"),10)},s={"border-top-width":parseInt(this._htWElement.element.css("border-top-width"),10),"border-bottom-width":parseInt(this._htWElement.element.css("border-bottom-width"),10),"border-left-width":parseInt(this._htWElement.element.css("border-left-width"),10),"border-right-width":parseInt(this._htWElement.element.css("border-right-width"),10)};return t-=o["padding-left"]+o["padding-right"]+s["border-left-width"]+s["border-right-width"]+n+parseInt(this._htMargin.nRight,10),e-=o["padding-top"]+o["padding-bottom"]+s["border-top-width"]+s["border-bottom-width"]+i+parseInt(this._htMargin.nBottom,10),this._htWElement.element.css({width:t+"px",height:e+"px"}),{nTop:i,nLeft:n}},_setBaseLayer:function(t){return this._wel=this._el=jindo.$(t),this._el&&(this._wel=jindo.$Element(t)),this},getBaseLayer:function(){return this._el},_getPosition:function(){var t,e=this.getBaseLayer(),n=jindo.$Element(e),i=this.getLayer(),o=n.offset(),s=e.offsetWidth,h=e.offsetHeight,a=i.offsetWidth,r=i.offsetHeight,l={nTop:o.top,nLeft:o.left};if(e==document.body&&(t=jindo.$Document().clientSize(),s=t.width,h=t.height),a+=parseInt(this._htWElement.element.css("marginLeft"),10)+parseInt(this._htWElement.element.css("marginRight"),10)||0,r+=parseInt(this._htWElement.element.css("marginTop"),10)+parseInt(this._htWElement.element.css("marginBottom"),10)||0,"all"===this._sPosition)o=this._fixedLayerSize(s,h);else{switch(o.nLeft=l.nLeft+parseInt((s-a)/2,10)+parseInt(this._htMargin.nLeft,10),this._sPosition){case"top":o.nTop=l.nTop+parseInt(this._htMargin.nTop,10);break;case"center":o.nTop=l.nTop+parseInt((h-r)/2,10)+parseInt(this._htMargin.nTop,10);break;case"bottom":o.nTop=l.nTop+parseInt(h-r,10)-parseInt(this._htMargin.nBottom,10)}this._bUseFixedProperty||(o=this._adjustScrollPosition(o))}return o},_adjustScrollPosition:function(t){var e=jindo.$Document().scrollPosition();return t.nTop+=e.top,t.nLeft+=e.left,t},setPosition:function(t,e){if(this.isActivating()&&(this._htMargin=e||this._htMargin,this._sPosition=t||this._sPosition,this._fireEvent("beforePosition"))){var n=this._htWElement.element.visible();n||this._htWElement.element.css({left:"-9999px"}).show(),this._htOldPosition=this._htPosition,this._htPosition=this._getPosition(),n||this._htWElement.element.hide(),n&&this._htOldPosition.nLeft===this._htPosition.nLeft&&this._htOldPosition.nTop===this._htPosition.nTop&&this._htOldPosition.nBottom===this._htPosition.nBottom||("undefined"==typeof this._htPosition.nTop?this._htWElement.element.$value().style.top=null:"undefined"==typeof this._htPosition.nBottom&&(this._htWElement.element.$value().style.bottom=null),this._htWElement.element.css({left:this._htPosition.nLeft+"px",top:this._htPosition.nTop+"px",bottom:this._htPosition.nBottom+"px"})),this._fireEvent("position")}},_attachEvent:function(){this._htEvent={},this._htEvent.actionEvent=jindo.$Fn(this._onEvent,this),this._htEvent.pageShow=jindo.$Fn(this._onPageShow,this).bind(),this._bUseFixedProperty?this._htEvent.actionEvent.attach(window,"resize"):this._htEvent.actionEvent.attach(window,"scroll").attach(window,"resize"),jindo.m.bindPageshow(this._htEvent.pageShow),this._hasOrientationChange&&(this._htEvent.rotate=jindo.$Fn(this._onOrientationChange,this).attach(window,"orientationchange"))},_detachEvent:function(){this._htEvent.actionEvent.detach(window,"scroll").detach(window,"resize"),jindo.m.unbindPageshow(this._htEvent.pageShow),this._hasOrientationChange&&this._htEvent.rotate.detach(window,"orientationchange"),this._htEvent=null},_onEvent:function(){jindo.m._isUseFixed()&&jindo.m.getDeviceInfo().android&&this._htWElement.element.css("left",this._htWElement.element.css("left")),this._htWElement.element.visible()&&this.setPosition()},_onOrientationChange:function(){if(this._htWElement.element.visible()){var t=this;window.innerWidth<this._htWElement.element.width()?(this._nPreWidth=this._htWElement.element.width(),this._htWElement.element.width(window.innerWidth)):-1!==this._nPreWidth&&this._htWElement.element.width(this._nPreWidth),this._htWElement.element.hide(),this.setPosition(),jindo.m.getDeviceInfo().android&&!jindo.m.getDeviceInfo().bChrome?this._htWElement.element.show():setTimeout(function(){t.setPosition(),t._htWElement.element.show()},10)}},_onPageShow:function(){this.isActivating()&&this.setPosition()},_fireEvent:function(t){return this.fireEvent(t,{elLayer:this.getLayer(),htMargin:this.getMargin(),htPosition:this.getCurrentPosition()})},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;delete this._htWElement,delete this._htMargin,delete this._sPosition,delete this._htPosition,delete this._htOldPosition,delete this._bUseFixedProperty}}).extend(jindo.m.UIComponent),jindo.m.ScrollEnd=jindo.$Class({$init:function(t){this._initVar(),this._setWrapperElement(t),this._attachEvent()},_initVar:function(){this._bIOS=jindo.m.getOsInfo().ios,this._nType=this._getDetectType(),this._isTouched=!1,this._isMoved=!1,this._nObserver=null,this._nScrollEndTimer=null,this._nPreLeft=null,this._nPreTop=null,this._bMoveIOS=!1,this._bFireOrientationchange=!1},_getDetectType:function(){var t=0,e=jindo.m.getOsInfo(),n=jindo.m.getBrowserInfo();return e.android?t=!n.bSBrowser&&n.chrome?3:parseInt(e.version,10)>=3?2:1:jindo.m.getDeviceInfo().win?parseInt(e.version,10)>=8&&(t=2):this._bIOS&&parseInt(e.version,10)>=8&&(t=2),t},_setWrapperElement:function(){this._htElement={},this._htElement.body=document.body},_attachEvent:function(){this._htEvent={},this._htEvent.event_scroll={ref:jindo.$Fn(this._onScroll,this).attach(window,"scroll"),el:window},0==this._nType&&this._bIOS&&parseInt(jindo.m.getOsInfo().version,10)<=7&&(this._htEvent.event_touchmove={ref:jindo.$Fn(this._onMoveForIOS,this).attach(this._htElement.body,"touchmove"),el:this._htElement.body}),1==this._nType&&(this._htEvent.event_touchstart={ref:jindo.$Fn(this._onStartForAndroid,this).attach(this._htElement.body,"touchstart"),el:this._htElement.body},this._htEvent.event_touchmove={ref:jindo.$Fn(this._onMoveForAndroid,this).attach(this._htElement.body,"touchmove"),el:this._htElement.body},this._htEvent.event_touchend={ref:jindo.$Fn(this._onEndForAndroid,this).attach(this._htElement.body,"touchend"),el:this._htElement.body}),3==this._nType&&(this._htEvent.event_orientationchange={ref:jindo.$Fn(this._onRotateForChrome,this).attach(window,"orientationchange"),el:window})},_onRotateForChrome:function(){document.body.offsetHeight>window.innerHeight&&(this._bFireOrientationchange=!0)},_onMoveForIOS:function(){this._bMoveIOS=!1},_detachEvent:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref.detach(e.el,t.substring(t.lastIndexOf("_")))}},_startObserver:function(){var t=this;this._stopObserver(),this._nObserver=setInterval(function(){t._observe()},100)},_observe:function(){this._isTouched||this._nPreTop!==window.pageYOffset||this._nPreLeft!==window.pageXOffset?(this._nPreTop=window.pageYOffset,this._nPreLeft=window.pageXOffset):(this._stopObserver(),this._fireEventScrollEnd())},_stopObserver:function(){clearInterval(this._nObserver),this._nObserver=null},_onScroll:function(){switch(this._nType){case 0:if(this._bIOS&&this._bMoveIOS)return!1;this._fireEventScrollEnd(),this._bMoveIOS=!0;break;case 1:this._startObserver();break;case 2:this._fireEventScrollEndForAndroid();break;case 3:this._bFireOrientationchange?this._bFireOrientationchange=!1:this._fireEventScrollEnd()}},_onStartForAndroid:function(){this._isTouched=!0,this._isMoved=!1,this._nPreTop=null,this._nPreLeft=null},_onMoveForAndroid:function(){this._isMoved=!0},_onEndForAndroid:function(){this._isTouched=!1,this._isMoved&&this._startObserver()},_fireEventScrollEnd:function(){this.fireEvent("scrollEnd",{nTop:window.pageYOffset,nLeft:window.pageXOffset})},_fireEventScrollEndForAndroid:function(){var t=this;clearTimeout(this._nScrollEndTimer),this._nScrollEndTimer=setTimeout(function(){t._fireEventScrollEnd()},500)},destroy:function(){this._detachEvent(),this._nType=-1,this._isTouched=null,this._isMoved=null,this._nObserver=null,this._nPreLeft=null,this._nPreTop=null}}).extend(jindo.m.Component),jindo.m.FloatingLayer=jindo.$Class({$init:function(t,e){this.option({bActivateOnload:!0,sPosition:"bottom",sDirection:"up",nSlideDuration:500,sSlideTimingFunction:"ease-in-out",nFadeInDuration:0,sFadeInTimingFunction:"ease-in-out",nFadeOutDuration:200,sFadeOutTimingFunction:"ease-in-out",bUseHideUI:!0,bUseFixed:!1,nTimeout:-1}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this.option("bActivateOnload")&&this.activate()},_initVar:function(){this._oFloatingEffect=null,this._oFadeinEffect=null,this._oLayerPosition=null,this._oScrollEnd=null,this._nTimeoutTimer=-1,this._isFixed=!1,this._isLayerOn=!1,this._isMoving=!1},_setWrapperElement:function(t){this._htWElement={},this._htWElement.element=jindo.$Element(t),this._htWElement.viewElement=jindo.$Element(this._createView())},_initComponent:function(){var t=this,e=this._htWElement.element.$value();this._oLayerPosition=new jindo.m.LayerPosition(this._htWElement.viewElement,{sPosition:this.option("sPosition"),bActivateOnload:!1,bUseFixed:this.option("bUseFixed"),bAutoReposition:!0}),this._oFloatingEffect=new jindo.m.LayerEffect(e),this.option("bUseHideUI")&&0!==this.option("nFadeInDuration")&&(this._oFadeinEffect=new jindo.m.LayerEffect(this._htWElement.viewElement.$value(),{nDuration:this.option("nFadeInDuration")}).attach("afterEffect",function(){t._startHideTimer()})),this._isFixed=this._oLayerPosition.isUseFixed(),this._oScrollEnd=new jindo.m.ScrollEnd},getLayer:function(){return this._htWElement.element.$value()},_createView:function(){var t=this._htWElement.element.visible(),e="_"+Math.floor(1e4*Math.random()),n=jindo.$Element("<div class='_floatingLayer_view_divtag"+e+"' style='display:none;'>"),i="",o="";return t||this._htWElement.element.css({left:"-9999px"}).show(),i=-1!=this._htWElement.element.css("width").indexOf("%")?this._htWElement.element.css("width"):this._htWElement.element.width()+"px",o=-1!=this._htWElement.element.css("height").indexOf("%")?this._htWElement.element.css("height"):this._htWElement.element.height()+"px",n.css({width:i,height:o,zIndex:2050}),t||this._htWElement.element.hide(),n},resize:function(t,e){this._htWElement.viewElement.css({width:t+"px",height:e+"px"}),this._oLayerPosition.setPosition()},show:function(){this._fireEvent("beforeShow")&&(this._oLayerPosition.isActivating()||this._oLayerPosition.activate(),this._setFloatingEffect(!0),this._htWElement.element.show(),this._htWElement.viewElement.show(),this._oFloatingEffect.slide({sDirection:this.option("sDirection"),nDuration:this.option("nSlideDuration"),sTransitionTimingFunction:this.option("sSlideTimingFunction"),elBaseLayer:this._htWElement.viewElement.$value()}))},hide:function(){this._fireEvent("beforeHide")&&(this._stopHideTimer(),this._oLayerPosition.isActivating()&&this._oLayerPosition.deactivate(),this._detachFloatingEvent(),this._setFloatingEffect(!1),0!==this.option("nFadeOutDuration")?this._oFloatingEffect.fade({sDirection:"out",nDuration:this.option("nFadeOutDuration"),sTransitionTimingFunction:this.option("sFadeOutTimingFunction")}):(this._htWElement.viewElement.hide(),this._fireEvent("hide")))},_fireEvent:function(t){return this.fireEvent(t,{welLayer:this._htWElement.element})},_startHideTimer:function(){if(this.option("nTimeout")>-1){var t=this;this._stopHideTimer(),this._nTimeoutTimer=setTimeout(function(){t.hide()},this.option("nTimeout"))}},_stopHideTimer:function(){clearTimeout(this._nTimeoutTimer),this._nTimeoutTimer=-1},_onTouchStart:function(t){this._initFloatingData(),this._isLayer(t.element)?(this._isLayerOn=!0,this._htWElement.viewElement.show()):(this._htWElement.viewElement.hide(),this._htWElement.viewElement.css("left",this._htWElement.viewElement.css("left")+"px"))},_onScrollEnd:function(){this.option("bUseHideUI")?this._isFixed?this._startHideTimer():this._runFadeIn():(this._oLayerPosition.setPosition(),this._startHideTimer())},_onTouchMove:function(){this._isMoving=!0},_onTouchEnd:function(){return this._isLayerOn?void this._oLayerPosition.setPosition():void(this._isMoving||this._runFadeIn())},_runFadeIn:function(){this._htWElement.viewElement.visible()||(this._isLayerOn?this._startHideTimer():this._fadeIn())},_fadeIn:function(){this._oLayerPosition.setPosition(),this._oFadeinEffect?(this._oFadeinEffect.clearEffect(!0),this._oFadeinEffect.fade({sDirection:"in",sTransitionTimingFunction:this.option("sFadeInTimingFunction")})):(this._htWElement.viewElement.show(),this._startHideTimer())},_isLayer:function(t){return t&&(this._htWElement.element.isEqual(t)||this._htWElement.viewElement.isEqual(t)||this._htWElement.viewElement.isParentOf(t))?!0:!1},_initFloatingData:function(){this._stopHideTimer(),this._oFloatingEffect&&0!==this.option("nFadeOutDuration")&&this._oFloatingEffect.clearEffect(!0),this._oFadeinEffect&&this._oFadeinEffect.clearEffect(!0),this._isMoving=!1,this._isLayerOn=!1},_onActivate:function(){this._initComponent()},_onDeactivate:function(){this._detachEvent(),this._oFadeinEffect&&(this._oFadeinEffect.detachAll("afterEffect"),this._oFadeinEffect.destroy()),this._oFloatingEffect.destroy(),this._oScrollEnd.destroy(),this._oLayerPosition.destroy(),this._htWElement.element.appendTo(document.body),this._htWElement.viewElement.leave()},_attachFloatingEvent:function(){if(this._htEvent={},this.option("bUseHideUI")&&!this._isFixed){var t=jindo.m._getTouchEventName();this._htEvent[t.start]={el:document.body,fn:jindo.$Fn(this._onTouchStart,this).bind()},this._htEvent[t.move]={el:document.body,fn:jindo.$Fn(this._onTouchMove,this).bind()},this._htEvent[t.end]={el:document.body,fn:jindo.$Fn(this._onTouchEnd,this).bind()},t.cancel&&(this._htEvent[t.cancel]={el:document.body,fn:jindo.$Fn(this._onTouchEnd,this).bind()});for(var e in this._htEvent)this._htEvent[e].fn&&(this._htEvent[e].ref=jindo.m._attachFakeJindo(this._htEvent[e].el,this._htEvent[e].fn,e))}this._oScrollEnd.attach("scrollEnd",jindo.$Fn(this._onScrollEnd,this).bind())},_detachEvent:function(){this._detachFloatingEvent()},_setFloatingEffect:function(t){var e=this;this._oFloatingEffect.detachAll("afterEffect"),this._oFloatingEffect.clearEffect(!0),this._oFadeinEffect&&this._oFadeinEffect.clearEffect(!0),t?this._oFloatingEffect.attach("afterEffect",function(){e._attachFloatingEvent(),e._startHideTimer(),e._fireEvent("show")}):0!==this.option("nFadeOutDuration")&&this._oFloatingEffect.attach("afterEffect",function(){e._htWElement.viewElement.hide(),e._fireEvent("hide")})},_detachFloatingEvent:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref&&e.ref.detach(e.el,t)}this._oScrollEnd.detachAll("scrollEnd"),this._htEvent=null},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;delete this._htWElement,this._initFloatingData()}}).extend(jindo.m.UIComponent),jindo.m.Keyframe=jindo.$Class({$init:function(t){this._nCurRate=null,this._nCurIdx=null,this._aKeyframeLists=[],this._oPreprocessed=null,this._bPreprocessed=!1;var e=jindo.$Agent(),n=e.os(),i=e.navigator();this._bHasTransformRenderBug=n.ios&&5===parseInt(n.version,10)&&i.msafari,this.option({fEffect:jindo.m.Effect.linear}),this.option(t||{}),this._fDefaultEffect=this.option("fEffect")()},_loop:function(t,e,n,i){!function o(s){return n(s),++s<e?void(t?(window.requestAnimationFrame||window.setTimeout)(function(){o(s)},1e3/60):o(s)):void i()}(0)},_preprocessKeyframes:function(t){if(this._bPreprocessed)return void this.fireEvent("preprocessEnd");if(!this._oPreprocessed){this._oPreprocessed={objs:{},frames:null};var e=this._aKeyframeLists.sort(function(t,e){return t.rate-e.rate}),n={},i=[],o={},s={},h=this,a=function(){h._loop(t,e.length,function(t){var a,r=e[t],l=r.rate,c=h._toPropObj(r.propLists),f=n[l]={rate:l,dynamic:{},"static":{}};i.push(f);for(a in c)if(c.hasOwnProperty(a)){var _=l,u=c[a],d=h._fDefaultEffect;"function"==typeof u&&(d=u,u=u.end);var m=o[a];m&&(m.effect=d,m.rates[1]=_,m.vals[1]=u,d.effectConstructor===jindo.m.Effect.stepEnd?m.vals[1]=m.vals[0]:d.effectConstructor===jindo.m.Effect.stepStart&&(m.vals[0]=m.vals[1])),a in s||(s[a]=u),m=o[a]={effect:null,rates:[_],vals:[u]}}for(a in o)o.hasOwnProperty(a)&&(n[l].dynamic[a]=o[a])},r)},r=function(){h._loop(t,i.length,function(t){var e=i[t];for(var n in s)if(s.hasOwnProperty(n)){if(n in e.dynamic)continue;e["static"][n]=s[n]}},l)},l=function(){n[0]||(n[0]={rate:0,dynamic:{},"static":s},i.unshift(n[0])),h._oPreprocessed.frames=i;var t=h._oPreprocessed.objs;for(var e in t)t.hasOwnProperty(e)&&delete t[e].__KEYFRAME_UNIQ;n=null,h._bPreprocessed=!0,h.fireEvent("preprocessEnd")};a()}},preprocess:function(t){return this._preprocessKeyframes(!!t),this},_getPropLists:function(t,e){for(var n,i=this._oPreprocessed.frames,o=i.length-1,s=0;n=i[s];s++)if(n.rate>t){o=Math.max(0,s-1);break}var h=i[o],a={};return this._getDynamicProps(a,t,h),(e||this._nCurIdx!==o)&&this._getStaticProps(a,t,h),this._nCurIdx=o,a},_get:function(t,e){if(!this._bPreprocessed)throw new Error("First, you need to call preprocess().");var n,i,o=this._getPropLists(t,e),s=this._oPreprocessed.objs,h=[];for(var a in o)o.hasOwnProperty(a)&&(n=s[a],i=o[a],h.push(n,i));
return h},get:function(t){return this._get(t,!0)},frame:function(t,e){if(e||t!==this._nCurRate){for(var n,i,o,s,h=this._bHasTransformRenderBug,a=this._get(t,e),r=null,l=this,c=0,f=a.length;f>c;c+=2)if(n=a[c],n="function"==typeof n?n():n,i=a[c+1],r=r||function(t,e){o=jindo.$Element(t);for(var n in e)if(e.hasOwnProperty(n))if(s=e[n],/^@(.*)$/.test(n)){n=RegExp.$1,/transition/.test(n)&&(s=l._getCSSVal(s)),h&&"@transform"===n&&("@left"in e||"@top"in e)&&t.clientHeight;try{o.css(l._getCSSKey(n),s)}catch(i){if(!o||!o.$value()||!n)throw i}}else t[n]=s},n instanceof Array)for(var _=0,u=n.length;u>_;_++)r(n[_],i);else r(n,i);this._nCurRate=t}},_getStaticProps:function(t,e,n){var i=n["static"];for(var o in i)if(/^(.+):(.+)$/.test(o)){var s=RegExp.$1,h=RegExp.$2,a=i[o];t[s]=t[s]||{},t[s][h]=a}},_getDynamicProps:function(t,e,n){var i=n.dynamic,o=n["static"],s=[];for(var h in i)if(/^(.+):(.+)$/.test(h)){var a=RegExp.$1,r=RegExp.$2,l=i[h],c=l.effect,f=l.vals[0],_=l.vals[1];if(!c||f===_){o[h]=f,s.push(h);continue}c.start=f,c.end=_,/^@transform/.test(r)&&(c=this._getTransformFunction(c));var u=Math.max(0,Math.min(1,(e-l.rates[0])/(l.rates[1]-l.rates[0])));try{l=c(u)}catch(d){if(!/^unit error/.test(d.message))throw d;o[h]=f,s.push(h);continue}t[a]=t[a]||{},t[a][r]=l}for(var m=0,p=s.length;p>m;m++)delete i[s[m]];s.length=null},_toPropObj:function(t){function e(t){var e;if("object"==typeof t)e=t.__KEYFRAME_UNIQ=t.__KEYFRAME_UNIQ||Math.floor(Math.random()*(new Date).getTime())+"";else{for(var n in i)if(i.hasOwnProperty(n)&&i[n]===t)return n;e=Math.floor(Math.random()*(new Date).getTime())+""}return i[e]=t,e}for(var n={},i=this._oPreprocessed.objs,o=0,s=t.length;s>o;o+=2){var h=t[o];if(h){var a=t[o+1],r=e(h);for(var l in a)a.hasOwnProperty(l)&&(n[r+":"+l]=a[l])}}return n},_oProperPrefix:{},_getProperPrefix:function(t){var e=this._oProperPrefix;if(t in e)return e[t];for(var n,i,o=document.body.style,s=["webkit","","Moz","O","ms"],h=function(t){return t.toUpperCase()},a=0,r=s.length;r>a;a++)if(n=s[a],i=n+(n?t.replace(/^[a-z]/,h):t),i in o)return e[t]=n;return e[t]=""},_getCSSKey:function(t){var e=this,n="",i=t.replace(/^(\-(webkit|o|moz|ms)\-)?([a-z]+)/,function(t,i,o,s){return n=o||e._getProperPrefix(s),n&&(s=s.replace(/^[a-z]/,function(t){return t.toUpperCase()})),s}).replace(/\-(\w)/g,function(t,e){return e.toUpperCase()});return({o:"O",moz:"Moz",webkit:"Webkit"}[n]||n)+i},_getCSSVal:function(t){var e=this,n=t.replace(/(^|\s)(\-(webkit|moz|o|ms)\-)?([a-z]+)/g,function(t,n,i,o,s){return o=o||e._getProperPrefix(s),n+(o&&"-"+o+"-")+s});return n},set:function(t,e){return this._aKeyframeLists.push({rate:t,propLists:e}),this._oPreprocessed=null,this._bPreprocessed=!1,this._nCurIdx=null,this},_parseTransformText:function(t){t=t||"";var e={};return t.replace(/([\w\-]+)\(([^\)]*)\)/g,function(t,n,i){var o=i.split(/\s*,\s*/);switch(n){case"translate3d":case"scale3d":case"skew3d":n=n.replace(/3d$/,""),e[n+"Z"]=o[2];case"translate":case"scale":case"skew":e[n+"X"]=o[0],"undefined"==typeof o[1]?"scale"===n&&(e[n+"Y"]=o[0]):e[n+"Y"]=o[1];break;default:e[n]=o.join(",")}}),e},_getTransformFunction:function(t){var e,n=t.start,i=t.end,o=this._parseTransformText(n),s=this._parseTransformText(i),h={};for(e in o)o.hasOwnProperty(e)&&(h[e]=[o[e],s[e]||(/^scale/.test(e)?1:0)]);for(e in s)!s.hasOwnProperty(e)||e in o||(h[e]=[o[e]||(/^scale/.test(e)?1:0),s[e]]);var a=function(e){var n=[],i=[t.start,t.end];for(var o in h)h.hasOwnProperty(o)&&(t.start=h[o][0],t.end=h[o][1],n.push(o+"("+t(e)+")"));return t.start=i[0],t.end=i[1],n.join(" ")};return a.start=n,a.end=i,a}}).extend(jindo.m.Component),jindo.m.Loading=jindo.$Class({$init:function(t,e){this.option({bActivateOnload:!0,nWidth:31,nHeight:31,sDefaultForeground:"black",sDefaultBackground:"transparent",sLoadingText:"로딩중입니다",bUseFoggy:t?!1:!0,sFoggyColor:"gray",nFoggyOpacity:.3}),this.option(e||{}),this._setWrapperElement(t),this.option("bActivateOnload")&&this.activate()},$static:{DELAY:["0","-.9167s","-.833s","-.75s","-.667s","-.5833s","-.5s","-.41667s","-.333s","-.25s","-.1667s","-.0833s"],ANIMATION_STYLE:"_loading_animation_sytle_",CONTAINER_CLASS:"_loading_container_class_"},_setWrapperElement:function(t){this._htWElement={},this._htWElement.base=jindo.$Element(jindo.$(t)?jindo.$(t):document.body),this._createLoading()},_createLoading:function(){this._createLoadingStyle(),this._htWElement.container=jindo.$Element("<div style='zIndex: 2100'>").addClass(jindo.m.Loading.CONTAINER_CLASS),this.option("bUseFoggy")&&this._createFoggy().appendTo(this._htWElement.container),this._createLoadingElement(),this._htWElement.loadingbox=jindo.$Element("<div>").css({zIndex:2100,position:"absolute"}).append(this._htWElement.loading),this.option("sLoadingText")&&this._createLoadingText().appendTo(this._htWElement.loadingbox),this._htWElement.loadingbox.appendTo(this._htWElement.container)},_createFoggy:function(){return this._htWElement.foggy=jindo.$Element("<div>").css({position:"absolute",padding:"0px",margin:"0px",border:"0px",backgroundColor:this.option("sFoggyColor"),opacity:this.option("nFoggyOpacity"),width:"100%",height:"100%",left:"0px",top:"0px",zIndex:2099}),this._htWElement.foggy},_setPosition:function(){var t,e=this._htWElement.loadingbox.width(),n=this._htWElement.loadingbox.height();this._isBody()?(t=jindo.$Document().scrollPosition(),this._htWElement.container.css({left:t.left+"px",top:t.top+"px",width:window.innerWidth+"px",height:window.innerHeight+"px"})):(this._htWElement.container.width()<e&&this._htWElement.container.width(e),this._htWElement.container.height()<n&&this._htWElement.container.height(n)),this._htWElement.loadingbox.css({top:"50%",left:"50%","margin-left":-parseInt(e/2,10)+"px","margin-top":-parseInt(n/2,10)+"px"})},_isBody:function(){return this._htWElement.base.isEqual(document.body)},show:function(){if(this.fireEvent("beforeShow")){for(var t=this._htWElement.loading.queryAll("span"),e=jindo.m.getCssPrefix(),n=0;n<t.length;n++)jindo.$Element(t[n]).css(e+"Animation","loadingfade 1s linear "+jindo.m.Loading.DELAY[n]+" infinite");this._attachEvent(),this._isBody()&&this._htWElement.container.css({width:window.innerWidth+"px",height:window.innerHeight+"px"}),this._htWElement.container.show(),this._setPosition(),this.fireEvent("show")}},hide:function(){if(this.fireEvent("beforeHide")){for(var t=this._htWElement.loading.queryAll("span"),e=jindo.m.getCssPrefix(),n=0;n<t.length;n++)jindo.$Element(t[n]).css(e+"Animation","");this._detachEvent(),this._htWElement.container.hide(),this.fireEvent("hide")}},_onPrevent:function(t){return t.stop(jindo.$Event.CANCEL_ALL),!1},_onRotate:function(){if(this._htWElement.container.visible())if(jindo.m.getDeviceInfo().andorid)this._setPosition();else{this._htWElement.container.hide();var t=this;setTimeout(function(){t._htWElement.container.show(),t._setPosition()},0)}},_attachEvent:function(){this._htEvent.rotate=jindo.$Fn(this._onRotate,this).bind(),this._htEvent.prevent=jindo.$Fn(this._onPrevent,this).attach(this._htWElement.container,"touchstart").attach(this._htWElement.container,"touchmove"),jindo.m.bindRotate(this._htEvent.rotate)},_detachEvent:function(){this._htEvent.prevent&&this._htEvent.prevent.detach(this._htWElement.container,"touchmove").detach(this._htWElement.container,"touchstart"),jindo.m.unbindRotate(this._htEvent.rotate)},_createLoadingStyle:function(){if(!jindo.$(jindo.m.Loading.ANIMATION_STYLE)){var t=document.createElement("style");if(t){t.setAttribute("type","text/css"),t.setAttribute("id",jindo.m.Loading.ANIMATION_STYLE);var e="@-"+jindo.m.getCssPrefix()+"-keyframes loadingfade{from{opacity:1}to{opacity:0}}",n=document.createTextNode(e);t.styleSheet?t.styleSheet.cssText=n.nodeValue:t.appendChild(n);var i=document.getElementsByTagName("head")[0];i&&i.appendChild(t)}}},_createLoadingElement:function(){for(var t=jindo.m.getCssPrefix(),e=[],n=jindo.m.useCss3d()?{open:"3d(",end:",0)"}:{open:"(",end:")"},i=0;12>i;i++)e.push("<span style='display:block;position:absolute;top:40%;left:48%;width:11%;height:24%;border-radius:6px;background:"),e.push(this.option("sDefaultForeground")),e.push("; opacity:0; -"),e.push(t),e.push("-transform:rotate("),e.push(30*i),e.push("deg) translate"+n.open+"0,-140%"+n.end+";'></span>");this._htWElement.loading=jindo.$Element("<div>").css({position:"relative",margin:"0 auto"}).html(e.join(""))},refresh:function(){this._htWElement.loading.css({width:this.option("nWidth")+"px",height:this.option("nHeight")+"px",background:this.option("sDefaultBackground")}),this._htWElement.text&&this._htWElement.text.html(this.option("sLoadingText"))},_createLoadingText:function(){return this._htWElement.text=jindo.$Element("<div>").css({margin:"2px 0 0 0",bottom:0,width:"100%","text-align":"center"}),this._htWElement.text},_onActivate:function(){this._htEvent={},this._htWElement.container.appendTo(this._htWElement.base),this._isBody()?this._htWElement.container.css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).hide():this._htWElement.container.css({position:"relative"}).hide(),this.refresh()},_onDeactivate:function(){this._detachEvent(),this._htWElement.container.leave()},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null}}).extend(jindo.m.UIComponent),jindo.m.MoreContentButton=jindo.$Class({$init:function(t,e){this.option({sClassPrefix:"more_",nTotalItem:10,nShowMaxItem:10,nItemPerPage:10,nPage:1,bActivateOnload:!0,htAjax:{}}),this.option(e||{}),this.option("nItem",this.option("nShowMaxItem")),this._initVar(),this._setWrapperElement(t),this.option("bActivateOnload")&&(this.activate(),this._nCurrentPage=this.option("nPage"),this.updateInfo())},_initVar:function(){var t={sApi:null,htAjaxOption:{type:"xhr"},htQuery:{},sStart:"start",sDisplay:"display"},e=this.option("htAjax");if(!e)return void this.option("htAjax",t);for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);for(n in t.htAjaxOption)"undefined"==typeof e.htAjaxOption[n]&&(e.htAjaxOption[n]=t.htAjaxOption[n]);for(n in t.htQuery)"undefined"==typeof e.htQuery[n]&&(e.htQuery[n]=t.htQuery[n]);e.sApi&&(this.oAjax=new jindo.$Ajax(e.sApi,e.htAjaxOption))},_setWrapperElement:function(t){this._htWElement={};var e="."+this.option("sClassPrefix");this._htWElement.elBase=jindo.$Element(t),this._htWElement.elMoreButton=jindo.$Element(this._htWElement.elBase.query(e+"button")),this._htWElement.elTop=jindo.$Element(this._htWElement.elBase.query(e+"top")),this._htWElement.elLoading=jindo.$Element(this._htWElement.elBase.query(e+"loading")),this._htWElement.elMoreCnt=jindo.$Element(this._htWElement.elBase.query(e+"moreCnt")),this._htWElement.elTotal=jindo.$Element(this._htWElement.elBase.query(e+"total")),this._htWElement.elCurrent=jindo.$Element(this._htWElement.elBase.query(e+"current")),this._htWElement.elRemainder=jindo.$Element(this._htWElement.elBase.query(e+"remainder")),this._htWElement.elLast=jindo.$Element(this._htWElement.elBase.query(e+"last")),this._htWElement.elLast&&(this._htWElement.elLastTotal=jindo.$Element(this._htWElement.elLast.query(e+"total")),this._htWElement.elLastCurrent=jindo.$Element(this._htWElement.elLast.query(e+"current")),this._htWElement.elLastRemainder=jindo.$Element(this._htWElement.elLast.query(e+"remainder")))},_onClickMore:function(t){t.stop(jindo.$Event.CANCEL_DEFAULT),this.hasNextPage()&&this.more()},_onClickTop:function(t){t.stop(jindo.$Event.CANCEL_DEFAULT),this.fireEvent("goTop",{element:t.element})},more:function(t){"undefined"==typeof t&&(t=!0);var e=this._nCurrentPage+1,n=this.getCurrentPage();if(!t||this.fireEvent("beforeMore",{nPage:e,nCurrentPage:n})){var i=this.getPageItemIndex(e);if(!i)return void this.updateInfo();this.showLoadingImg(),this.option("htAjax").sApi?this._callAjax(e,!0,t):(this._move(e),t&&this.fireEvent("more",{nPage:e,nStartIndex:i.nStart,nEndIndex:i.nEnd}),this.updateInfo())}},movePageTo:function(t,e){"undefined"==typeof e&&(e=!0);var n=this.getCurrentPage();if(!e||this.fireEvent("beforeMovePage",{nPage:t,nCurrentPage:n})){var i=this.getPageItemIndex(t);if(!i)return void this.updateInfo();this.showLoadingImg(),this.option("htAjax").sApi?this._callAjax(t,!1,e):(this._move(t),e&&this.fireEvent("movePage",{nPage:t,nBeforePage:n,nStartIndex:0,nEndIndex:i.nEnd}),this.updateInfo())}},_move:function(t){var e=this._convertToAvailPage(t);e!=this._nCurrentPage&&(this._nCurrentPage=e)},updateInfo:function(){var t=this.getCurrentPage(),e=this.getPageItemIndex(t);if(this.hideLoadingImg(),t>=this.getTotalPages()?(this._htWElement.elBase&&this._htWElement.elBase.addClass("u_pg_end"),this._htWElement.elMoreButton&&this._htWElement.elMoreButton.hide(),this._htWElement.elLast&&this._htWElement.elLast.show("block")):(this._htWElement.elBase&&this._htWElement.elBase.removeClass("u_pg_end"),this._htWElement.elMoreButton&&this._htWElement.elMoreButton.show("block"),this._htWElement.elLast&&this._htWElement.elLast.hide()),this._htWElement.elCurrent&&e){var n=e.nEnd+1;this._htWElement.elCurrent.text(this._setNumberFormat(n))}if("undefined"!=typeof this._htWElement.elLastCurrent&&this._htWElement.elLastCurrent&&e&&this._htWElement.elLastCurrent.text(this._setNumberFormat(e.nEnd+1)),this._htWElement.elRemainder&&e&&this._htWElement.elRemainder.text(this._setNumberFormat(parseInt(this.option("nTotalItem"),10)-(e.nEnd+1))),this._htWElement.elLastRemainder&&e&&this._htWElement.elLastRemainder.text(this._setNumberFormat(parseInt(this.option("nTotalItem"),10)-(e.nEnd+1))),this._htWElement.elTotal&&this._htWElement.elTotal.text(this._setNumberFormat(this.option("nTotalItem"))),"undefined"!=typeof this._htWElement.elLastTotal&&this._htWElement.elLastTotal&&this._htWElement.elLastTotal.text(this._setNumberFormat(this.option("nTotalItem"))),this._htWElement.elMoreCnt&&e){var i=Math.min(this.getItemPerPage(),this.getItemCount()-e.nEnd-1);this._htWElement.elMoreCnt.text(this._setNumberFormat(i))}},_callAjax:function(t,e,n){var i=this;this.oAjax.option("onload",null),this.oAjax.option("onload",function(o){i._onAjaxResponse(o,t,e,n)}),this.oAjax.request(this._getQueryString(t,e))},_onAjaxResponse:function(t,e,n,i){if(i){this._move(e);var o=n?"more":"movePage",s=this.getPageItemIndex(e);this.fireEvent(o,{oResponse:t,nPage:e,nStartIndex:n?s.nStart:0,nEndIndex:s.nEnd})}this.updateInfo()},_getQueryString:function(t,e){"undefined"==typeof e&&(e=!0);var n=this.option("htAjax").htQuery||{},i=this.getPageItemIndex(t);return n[this.option("htAjax").sStart]=e?i.nStart:0,n[this.option("htAjax").sDisplay]=Math.min(this.getItemPerPage(),this.getShowMaxItem()-i.nStart),n},_setNumberFormat:function(t){t=t.toString();for(var e="",n=0,i=t.length,o=i;o>=0;o--){var s=t.charAt(o);o>i?e=s+e:/[0-9]/.test(s)&&(n>=3&&(e=","+e,n=0),n++,e=s+e)}return e},showLoadingImg:function(){this._htWElement.elLoading&&this._htWElement.elLoading.show()},hideLoadingImg:function(){this._htWElement.elLoading&&this._htWElement.elLoading.hide()},reset:function(t){"undefined"==typeof t&&(t=this.option("nShowMaxItem")),this.setShowMaxItem(t),this.movePageTo(1,!1)},getTotalItem:function(){return this.option("nTotalItem")},setTotalItem:function(t){this.option("nTotalItem",t)},getShowMaxItem:function(){return this.option("nShowMaxItem")},setShowMaxItem:function(t){this.option("nShowMaxItem",t),this.option("nItem",t)},_onActivate:function(){this._attachEvent()},_onDeactivate:function(){this._detachEvent()},_attachEvent:function(){this._htEvent={},this._htWElement.elMoreButton&&(this._htEvent.click_More={ref:jindo.$Fn(this._onClickMore,this).attach(this._htWElement.elMoreButton,"click"),el:this._htWElement.elMoreButton.$value()}),this._htWElement.elTop&&(this._htEvent.click_Top={ref:jindo.$Fn(this._onClickTop,this).attach(this._htWElement.elTop,"click"),el:this._htWElement.elTop.$value()})},_detachEvent:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref.detach(e.el,t.substring(0,t.indexOf("_")))}this._htEvent=null},header:function(t,e){return this.oAjax?this.oAjax.header(t,e):void 0},destroy:function(){this._detachEvent();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null}}).extend(jindo.m.CorePagination),jindo.m.MovableCoord=jindo.$Class({$init:function(t,e){var n=this;this._sRandKey="__MOVABLECOORD_"+Math.round(Math.random()*(new Date).getTime()),this._aPos=t||[0,0],this.option({nDeceleration:6e-4,aMin:[0,0],aMax:[100,100],aBounce:[10,10,10,10],aMargin:[0,0,0,0],aCircular:[!1,!1,!1,!1]}),this.option(e||{}),this._subOptions={_htOption:{_htSetter:{}}},setTimeout(function(){n.fireEvent("change",{aPos:[n._aPos[0],n._aPos[1]],bHolding:!1})},0)},_grap:function(){var t=this._aPos,e=this._oAnimating;e&&(this._frame(e,t),this._oAnimating=null,this._oRaf&&cancelAnimationFrame(this._oRaf),this._oRaf=null)},setTo:function(t,e,n){var i=this;this._grap();var o=this.option("aMin"),s=this.option("aMax"),h=this.option("aCircular");if(n){var a=[this._aPos[0],this._aPos[1]];null!==t&&(a[0]=t),null!==e&&(a[1]=e),this._move(a,!1,!1,!0)}else{null!==t&&(h[3]||(t=Math.max(o[0],t)),h[1]||(t=Math.min(s[0],t))),null!==e&&(h[0]||(e=Math.max(o[1],e)),h[2]||(e=Math.min(s[1],e)));var r=this._adjustCircularPos([t,e],o,s,h);null!==t&&(this._aPos[0]=r[0]),null!==e&&(this._aPos[1]=r[1]),i.fireEvent("change",{aPos:[this._aPos[0],this._aPos[1]],bHolding:!1})}return this},setBy:function(t,e,n){return this._grap(),this.setTo(null!==t?this._aPos[0]+t:null,null!==e?this._aPos[1]+e:null,n)},get:function(){return[this._aPos[0],this._aPos[1]]},bind:function(t,e){var n=this,i=this._sRandKey;t=t instanceof jindo.$Element?t.$value():t;var o={nDirection:31,aScale:[1,1],nMaximumSpeed:1/0};if(e)for(var s in e)e.hasOwnProperty(s)&&(o[s]=e[s]);t[i]&&this.unbind(t);var h=16&o.nDirection?2:2&o.nDirection||8&o.nDirection?1:0,a=4&o.nDirection||8&o.nDirection,r=1&o.nDirection||2&o.nDirection;return t[i]=new jindo.m.Touch(t,{nDeceleration:this.option("nDeceleration"),nUseDiagonal:h,nMoveThreshold:0,nSlopeThreshold:5,nTapThreshold:1,bHorizental:!!r,bVertical:!!a}).attach({touchStart:function(t){n._subOptions=o,n._touchStart(t)},touchMove:function(t){n._touchMove(t)},touchEnd:function(t){n._touchEnd(t)}}),this},unbind:function(t){var e=this._sRandKey;return t=t instanceof jindo.$Element?t.$value():t,t[e]&&(t[e].deactivate(),t[e]=null),this},_touchStart:function(t){var e=this._aPos,n=this.option("aMin"),i=this.option("aMax"),o=this._oAnimating;o&&this._frame(o,e),this._oAnimating=null,this._oRaf&&cancelAnimationFrame(this._oRaf),this._oRaf=null,this.fireEvent("hold",{oEvent:t.oEvent,aPos:[e[0],e[1]]}),this._bGrapOutside=e[0]<n[0]||e[1]<n[1]||e[0]>i[0]||e[1]>i[1],this._aMovingPos=[e[0],e[1]],this._aDirFilter=null},_easeOutQuint:jindo.m.Effect.easeOutQuint(0,1),_adjustCircularPos:function(t,e,n,i){return e=e||this.option("aMin"),n=n||this.option("aMax"),i=i||this.option("aCircular"),i[0]&&t[1]<e[1]&&(t[1]=(t[1]-e[1])%(n[1]-e[1])+n[1]),i[1]&&t[0]>n[0]&&(t[0]=(t[0]-e[0])%(n[0]-e[0])+e[0]),i[2]&&t[1]>n[1]&&(t[1]=(t[1]-e[1])%(n[1]-e[1])+e[1]),i[3]&&t[0]<e[0]&&(t[0]=(t[0]-e[0])%(n[0]-e[0])+n[0]),t},_touchMove:function(t){if("tap"!==t.sMoveType&&t.sMoveTypeAgree&&this._aMovingPos){var e,n,i,o=this._aPos,s=this._aMovingPos,h=this.option("aMin"),a=this.option("aMax"),r=this.option("aBounce"),l=this.option("aMargin"),c=this._subOptions.nDirection,f=this._subOptions.aScale,_=this._easeOutQuint,u=7.5,d=this._aDirFilter;if(!d)switch(d=this._aDirFilter=[!1,!1],t.sStartMoveType){case"hScroll":d[0]=1&c,d[1]=2&c;break;case"vScroll":d[1]=4&c,d[0]=8&c;break;case"dScroll":d[0]=d[1]=16&c}d[0]&&(s[0]+=t.nVectorX*f[0]),d[1]&&(s[1]+=t.nVectorY*f[1]),o[0]=s[0],o[1]=s[1],o=this._adjustCircularPos(o,h,a),this._bGrapOutside&&o[0]>=h[0]&&o[0]<=a[0]&&o[1]>=h[1]&&o[1]<=a[1]&&(this._bGrapOutside=!1);var m=l[0]+r[0],p=l[1]+r[1],v=l[2]+r[2],g=l[3]+r[3];this._bGrapOutside?(n=-g,i=a[0]+p,e=o[0],o[0]=e>i?i:n>e?n:e,n=-m,i=a[1]+v,e=o[1],o[1]=e>i?i:n>e?n:e):(o[1]<h[1]?(e=(h[1]-o[1])/(m*u),o[1]=h[1]-_(e>1?1:e)*m):o[1]>a[1]&&(e=(o[1]-a[1])/(v*u),o[1]=a[1]+_(e>1?1:e)*v),o[0]<h[0]?(e=(h[0]-o[0])/(g*u),o[0]=h[0]-_(e>1?1:e)*g):o[0]>a[0]&&(e=(o[0]-a[0])/(p*u),o[0]=a[0]+_(e>1?1:e)*p)),this.fireEvent("change",{aPos:o,bHolding:!0}),t.oEvent.stopDefault()}},_touchEnd:function(t){if(this._aMovingPos){var e=(this._aPos,this.option("aBounce"),this._subOptions.nMaximumSpeed),n=this._subOptions.aScale,i=t.htMomentum,o=this._aDirFilter||[!1,!1];o[0]||(i.nSpeedX=0),o[1]||(i.nSpeedY=0);var s=this._getRelPosFromSpeed([i.nSpeedX*(i.nDistanceX<0?-1:1)*n[0],i.nSpeedY*(i.nDistanceY<0?-1:1)*n[1]],e);this._move(s,!0,!1),this._aMovingPos=null,this._aDirFilter=null}},_move:function(t,e,n){var i=this;this[e?"_animateBy":"_animateTo"](t,function(){var t=[],e=i._aPos,n=i.option("aMin"),o=i.option("aMax");t[0]=Math.min(o[0],Math.max(n[0],e[0])),t[1]=Math.min(o[1],Math.max(n[1],e[1])),i._animateTo(t,function(){i.fireEvent("animationEnd")},!0)},n,!0)},_getRelPosFromSpeed:function(t,e){var n=-this.option("nDeceleration"),i=Math.min(e||1/0,Math.sqrt(t[0]*t[0]+t[1]*t[1])),o=Math.abs(i/n);return[t[0]/2*o,t[1]/2*o]},_getDurationFromRelPos:function(t){var e=this.option("nDeceleration"),n=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return Math.sqrt(n/e*2)},_getPointOfIntersection:function(t,e,n,i,o){e=[e[0],e[1]];var s=e[0]-t[0],h=e[1]-t[1];return o[3]||(e[0]=Math.max(n[0],e[0])),o[1]||(e[0]=Math.min(i[0],e[0])),e[1]=s?t[1]+h/s*(e[0]-t[0]):e[1],o[0]||(e[1]=Math.max(n[1],e[1])),o[2]||(e[1]=Math.min(i[1],e[1])),e[0]=h?t[0]+s/h*(e[1]-t[1]):e[0],e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e},_animateBy:function(t,e,n,i){var o=this._aPos;return this._animateTo([o[0]+t[0],o[1]+t[1]],e,n,i)},_animateTo:function(t,e,n){var i,o,s,h,a,r=this,l=this._aPos,c=[t[0],t[1]];i=this.option("aBounce"),o=this.option("aMargin"),s=this.option("aCircular"),h=this.option("aMin"),a=this.option("aMax"),c=this._getPointOfIntersection(l,c,[h[0]-i[3],h[1]-i[0]],[a[0]+i[1],a[1]+i[2]],s);var f={aDepaPos:[l[0],l[1]],aDestPos:c,bBounce:n};n||this.fireEvent("release",f),i=this.option("aBounce"),o=this.option("aMargin"),h=this.option("aMin"),a=this.option("aMax"),c=f.aDestPos;var _=s[0]&&c[1]<h[1]||s[1]&&c[0]>a[0]||s[2]&&c[1]>a[1]||s[3]&&c[0]<h[0];(l[0]<h[0]||l[0]>a[0]||l[1]<h[1]||l[1]>a[1])&&(c[0]<h[0]||c[0]>a[0]||c[1]<h[1]||c[1]>a[1])&&(c=l);var u=[Math.abs(c[0]-l[0]),Math.abs(c[1]-l[1])],d=this._getDurationFromRelPos(u);10>d&&(d=0);var m=function(){r._oAnimating=null,l[0]=Math.round(c[0]),l[1]=Math.round(c[1]),l=r._adjustCircularPos(l,h,a,s),e&&e()};if(!d)return m();f={nDuration:d,fEffect:jindo.m.Effect.cubicBezier(.18,.35,.56,1),aDepaPos:[l[0],l[1]],aDestPos:c,bBounce:n,bCircular:_,fDone:m};var p=this.fireEvent("animation",f);if(_&&!p)throw new Error("Can't stop the 'animation' event when 'bCircular' is true.");if(f.aDepaPos=l,f.nStartTime=(new Date).getTime(),this._oAnimating=f,p===!0){var v=this._oAnimating;!function g(){return r._oRaf=null,r._frame(v)>=1?m():void(r._oRaf=requestAnimationFrame(g))}()}},_frame:function(t,e){var n=Math.min(1,(new Date-t.nStartTime)/t.nDuration);return e=e||[],e[0]=1*t.fEffect(t.aDepaPos[0],t.aDestPos[0])(n),e[1]=1*t.fEffect(t.aDepaPos[1],t.aDestPos[1])(n),e=this._adjustCircularPos(e),this.fireEvent("change",{aPos:e,bHolding:!1}),n}}).extend(jindo.m.Component),jindo.m.PageNavigation=jindo.$Class({$init:function(t,e){this.option({sClassPrefix:"page_",nItem:10,nItemPerPage:10,nPage:1,bActivateOnload:!0,sInfoTemplate:"{=PAGE} / {=TOTALPAGE}",bUseCircular:!1,htAjax:{}}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this.option("bActivateOnload")&&(this.activate(),this._nCurrentPage=this.option("nPage"))},_initVar:function(){var t={sApi:null,htAjaxOption:{type:"xhr"},htQuery:{},sPage:"page",sDisplay:"display"},e=this.option("htAjax");if(!e)return void this.option("htAjax",t);for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);for(n in t.htAjaxOption)"undefined"==typeof e.htAjaxOption[n]&&(e.htAjaxOption[n]=t.htAjaxOption[n]);for(n in t.htQuery)"undefined"==typeof e.htQuery[n]&&(e.htQuery[n]=t.htQuery[n]);e.sApi&&(this.oAjax=new jindo.$Ajax(e.sApi,e.htAjaxOption))},_setWrapperElement:function(t){this._htWElement={},t=jindo.$(t);var e="."+this.option("sClassPrefix");this._htWElement.elBase=jindo.$Element(t),this._htWElement.elPrev=jindo.$Element(jindo.$$.getSingle(e+"prev",t)),this._htWElement.elNext=jindo.$Element(jindo.$$.getSingle(e+"next",t)),this._htWElement.elPrevOff=jindo.$Element(jindo.$$.getSingle(e+"prev-off",t)),this._htWElement.elNextOff=jindo.$Element(jindo.$$.getSingle(e+"next-off",t)),this._htWElement.elInfo=jindo.$Element(jindo.$$.getSingle(e+"info",t))},_onClickPrev:function(t){if(t.stop(jindo.$Event.CANCEL_DEFAULT),!this.hasPreviousPage())return void(this.option("bUseCircular")&&this.movePageTo(this.getTotalPages()));var e=this.getCurrentPage();this.movePageTo(e-1)},_onClickNext:function(t){if(t.stop(jindo.$Event.CANCEL_DEFAULT),!this.hasNextPage())return void(this.option("bUseCircular")&&this.movePageTo(1));var e=this.getCurrentPage();this.movePageTo(e+1)},movePageTo:function(t,e){"undefined"==typeof e&&(e=!0),(!e||this._fireEventBefore(t))&&(this.option("htAjax").sApi?this._callAjax(t,e):(this._move(t),e&&this._fireEventEnd(),this.updateInfo(),this.updateNavigation()))},_move:function(t){var e=this._convertToAvailPage(t);e!=this._nCurrentPage&&(this._nCurrentPage=e)},_callAjax:function(t,e){var n=this;this.oAjax.option("onload",null),this.oAjax.option("onload",function(i){n._onAjaxResponse(i,t,e)}),this.oAjax.request(this._getQueryString(t))},_fireEventBefore:function(t){return this.fireEvent("beforeMove",{nPage:t,nCurrentPage:this.getCurrentPage(),nItemCount:this.getItemCount(),nItemPerPage:this.getItemPerPage(),nTotalPages:this.getTotalPages()})},_fireEventEnd:function(t){"undefined"==typeof t&&(t=null);var e=this.getCurrentPage(),n=this.getPageItemIndex(e);return this.fireEvent("move",{nPage:this.getCurrentPage(),nStartIndex:n.nStart,nEndIndex:n.nEnd,oResponse:t,nItemCount:this.getItemCount(),nItemPerPage:this.getItemPerPage(),nTotalPages:this.getTotalPages()})},_onAjaxResponse:function(t,e,n){this._move(e),n&&this._fireEventEnd(t),this.updateInfo(),this.updateNavigation()},_getQueryString:function(t){var e=this.option("htAjax").htQuery||{},n=this.getPageItemIndex(t);return e[this.option("htAjax").sPage]=t,e[this.option("htAjax").sDisplay]=Math.min(this.getItemPerPage(),this.getItemCount()-n.nStart),e},updateInfo:function(){if(this._htWElement.elInfo){var t=this.getCurrentPage(),e=this.getPageItemIndex(t),n=this.option("sInfoTemplate").replace(/\{=PAGE\}/,t).replace(/\{=TOTALPAGE\}/,this.getTotalPages()).replace(/\{=ITEMCOUT\}/,this.option("nItem")).replace(/\{=STARTINDEX\}/,e.nStart+1).replace(/\{=ENDINDEX\}/,e.nEnd+1);this._htWElement.elInfo.html(n)}},updateNavigation:function(){var t=this.getCurrentPage();this._htWElement.elPrev&&this._htWElement.elPrev.hide(),this._htWElement.elNext&&this._htWElement.elNext.hide(),this._htWElement.elPrevOff&&this._htWElement.elPrevOff.hide(),this._htWElement.elNextOff&&this._htWElement.elNextOff.hide(),1!=this.getTotalPages()&&(this.option("bUseCircular")?(this._htWElement.elPrev&&this._htWElement.elPrev.show("inline-block"),this._htWElement.elNext&&this._htWElement.elNext.show("inline-block")):1==t?(this._htWElement.elPrevOff&&this._htWElement.elPrevOff.show("inline-block"),this._htWElement.elNext&&this._htWElement.elNext.show("inline-block")):t==this.getTotalPages()?(this._htWElement.elNextOff&&this._htWElement.elNextOff.show("inline-block"),this._htWElement.elPrev&&this._htWElement.elPrev.show("inline-block")):(this._htWElement.elPrev&&this._htWElement.elPrev.show("inline-block"),this._htWElement.elNext&&this._htWElement.elNext.show("inline-block")))},reset:function(t){"undefined"==typeof t&&(t=this.option("nItem")),this.setItemCount(t),this.movePageTo(1,!1)},_onActivate:function(){this._attachEvent()},_onDeactivate:function(){this._detachEvent()},_attachEvent:function(){this._htEvent={},this._htWElement.elNext&&(this._htEvent.click_Next={ref:jindo.$Fn(this._onClickNext,this).attach(this._htWElement.elNext,"click"),el:this._htWElement.elNext.$value()}),this._htWElement.elPrev&&(this._htEvent.click_Prev={ref:jindo.$Fn(this._onClickPrev,this).attach(this._htWElement.elPrev,"click"),el:this._htWElement.elPrev.$value()})},_detachEvent:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref.detach(e.el,t.substring(0,t.indexOf("_")))}this._htEvent=null},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null}}).extend(jindo.m.CorePagination),jindo.m.PreviewFlicking=jindo.$Class({$init:function(t,e){this.option({nTotalContents:5,nWidthPer:50}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this.option("bActivateOnload")&&this.activate()},_initVar:function(){jindo.m.Flick.prototype._initVar.apply(this),this._nDefaultPanel=5},_onActivate:function(){jindo.m.Flick.prototype._onActivate.apply(this);var t=this;this.set(new jindo.m.Slide(this._getAnimationOption()).attach({set:function(e){t._setStyle(e.css)}}),this._htWElement.container)},_setStyle:function(t){{var e={},n=this._bUseH?"width":"height";this._bUseH?"left":"top"}for(var i in t)e[i]=t[i];if(e.position="relative",this._bUseCircular&&(t.position="absolute"),this._bUseH)e.clear="both",t["float"]="left",this._htWElement.base.css("margin","0 auto");else{var o=this._htWElement.view.height(),s=(o-this._htWElement.aPanel[0].height())/2;this._htWElement.base.css("marginTop",s+"px")}if(this.option("nMinWidth")){var h=n.charAt(0).toUpperCase()+n.substr(1);this._htWElement.base.css("min"+h,this.option("nMinWidth").replace(/\D/gi,"")+"px")}this._htWElement.base.css({position:"relative"}),this._htWElement.base.css(n,this.option("nWidthPer")+"%"),this._htWElement.container.css(e);var a=this;jindo.$A(this._htWElement.aPanel).forEach(function(e){var i=e;a._bUseCircular&&i.css("position","absolute"),this._bUseH?t[n]=100/a._htWElement.aPanel.length+"%":t.width="100%",i.css(t)},this)},_setWrapperElement:function(t){jindo.m.SwipeCommon.prototype._setWrapperElement.call(this,t);this.option("bHorizontal")?"height":"width";this._htWElement.aPanel=this._htWElement.container.queryAll("."+this.option("sClassPrefix")+this.option("sContentClass"));for(var e in this._htWElement.aPanel)this._htWElement.aPanel[e]=jindo.$Element(this._htWElement.aPanel[e]);this._htWElement.container.css({left:"",top:""})},resize:function(){jindo.m.SwipeCommon.prototype.resize.call(this),this._restorePanel();{var t=this._bUseH?"width":"height";this._htWElement.view[t]()}this._htWElement.container.css(t,100*this._htWElement.aPanel.length+"%"),this._nRange=this._bUseH?this._htWElement.aPanel[0].width():this._htWElement.aPanel[0].height(),this._refreshPanelInfo(),this._bUseH?(this._htSize.maxX=(this.option("nTotalContents")-1)*-this._nRange,this._nX=this._aPos[this.getContentIndex()]):(this._htSize.maxY=(this.option("nTotalContents")-1)*-this._nRange,this._nY=this._aPos[this.getContentIndex()]),this._updateFlickInfo(),this._bUseCircular||this._oAnimation.move(this._nX,this._nY)},_restorePanel:function(t){t=t||this.getElement();var e=this.getTotalPanels(),n=this._bUseH?"left":"top",i=this._getIndexByElement(t);this._htWElement.container.css(this._oAnimation.p("Transform"),this._getTranslate(0));for(var o=0,s=Math.floor(e/2),h=0;e>h;h++)o=h-i,this._bUseCircular&&(o>s?o-=e:-s>o&&(o+=e)),this._htWElement.aPanel[h].css(n,20*o+"%"),0==o?this._htWElement.aPanel[h].css("zIndex",10):this._htWElement.aPanel[h].css("zIndex",1)},_getPosValue:function(t){return this._hasOffsetBug()?t:this._getTranslate(t)},_panelEndAfterCall:function(){this._bUseCircular&&this._restorePanel()},_moveAfterCall:function(t){this._oAnimation.move(this._nX,this._nY,0,this._makeOption({next:t.bNext,startIndex:this._nPosToIndex}))},getIndexByElement:function(t){for(var e=-1,n=0,i=this._htWElement.aPanel.length;i>n;n++)if(this._htWElement.aPanel[n].$value()===t){e=n;break}return e},destroy:function(){jindo.m.Flick.prototype.destroy.apply(this)}}).extend(jindo.m.Flick),jindo.m.Scroll=jindo.$Class({$init:function(t,e){this.option({bActivateOnload:!0,bUseHScroll:!1,bUseVScroll:!0,bUseMomentum:!0,nDeceleration:6e-4,nOffsetTop:0,nOffsetBottom:0,nHeight:0,nWidth:0,bUseBounce:!0,bUseHighlight:!0,sClassPrefix:"scroll_",bUseCss3d:jindo.m.useCss3d(!0),bUseTimingFunction:jindo.m.useTimingFunction(!0),nScrollbarIndicatorSize:0,bAutoResize:!1,bUseDiagonalTouch:!0,fEffect:jindo.m.Effect.cubicBezier(.18,.35,.56,1),nZIndex:2e3,sListElement:"",nRatio:1.5,sScrollbarClass:"",bUseScrollbar:!0,nScrollbarHideThreshold:0,bUseFixedScrollbar:!1,sScrollbarBorder:"1px solid white",sScrollbarColor:"#8e8e8e",bUseScrollBarRadius:!0,bUsePullDown:!1,bUsePullUp:!1,fnPullDownIdle:null,fnPullDownBeforeUpdate:null,fnPullDownUpdating:null,fnPullUpIdle:null,fnPullUpBeforeUpdate:null,fnPullUpUpdating:null}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this.option("bActivateOnload")&&this.activate()
},_initVar:function(){this.isPositionBug=jindo.m.hasOffsetBug(),this.isClickBug=jindo.m.hasClickBug(),this.nVersion=parseFloat(jindo.m.getDeviceInfo().version.substr(0,3)),this.sCssPrefix=jindo.m.getCssPrefix(),this._bUseCss3d=this.option("bUseCss3d"),this.nWrapperW=null,this.nWrapperH=null,this.nScrollW=null,this.nScrollH=null,this.nMaxScrollLeft=null,this.nMaxScrollTop=null,this.nMinScrollTop=0,this.bUseHScroll=null,this.bUseVScroll=null,this.bUseHighlight=this.option("bUseHighlight"),this._nPropHScroll=null,this._nPropVScroll=null,this._bAppendScrollbar=!1,this._nLeft=0,this._nTop=0,this._oldLeft=0,this._oldTop=0,this._aAni=[],this._htTimer={ani:-1,fixed:-1,touch:-1,scrollbar:-1},this._htPlugin={dynamic:{},pull:{}},this._oTouch=null,this._isAnimating=!1,this._isControling=!1,this._isStop=!1,this.option("sListElement")&&this.option("bUseTimingFunction",!1),this.bUseHighlight&&(this._sHighlightClass="_jmc_no_tap_highlight_",this._hasHighlightBug=jindo.m.getBrowserInfo().chrome&&!jindo.m.getBrowserInfo().bSBrowser,this._nHightlightBug=-1,this._hasHighlightBug&&this._makeHighlightStyle(),this.isPositionBug&&(this._elDummyTag=null)),this._nUpdater=-1,this._oMoveData={nLeft:0,nTop:0}},getCurrentPos:function(){return{nTop:this._nTop,nLeft:this._nLeft}},setLayer:function(t){this._htWElement.wrapper=jindo.$Element(t),this._htWElement.wrapper.css({overflow:"hidden",zIndex:this.option("nZIndex")}),"static"==this._htWElement.wrapper.css("position")&&this._htWElement.wrapper.css("position","relative"),this.bUseHighlight||this._htWElement.wrapper.css(jindo.m._toPrefixStr("TapHighlightColor"),"rgba(0,0,0,0)"),this.setScroller()},setScroller:function(){this._htWElement.scroller=this._htWElement.wrapper.first(),this._htWElement.scroller.css({position:"absolute",zIndex:1,left:0,top:0}),this._htWElement.scroller.css(jindo.m._toPrefixStr("TransitionProperty"),""==this.sCssPrefix?"transform":"-"+this.sCssPrefix+"-transform").css(this.sCssPrefix+"Transform",jindo.m._getTranslate(0,0,this._bUseCss3d)),this.option("bUseTimingFunction")&&this._htWElement.scroller.css(jindo.m._toPrefixStr("TransitionTimingFunction"),this.option("fEffect").toString()),this.isPositionBug&&this.bUseHighlight&&this.nVersion<3&&(this._elDummyTag=this._htWElement.scroller.query("._scroller_dummy_atag_"),this._elDummyTag?this._elDummyTag=this._elDummyTag.$value():(this._elDummyTag=jindo.$("<a href='javascript:void(0);' style='position:absolute;height:0px;width:0px;' class='_scroller_dummy_atag_'></a>"),this._htWElement.scroller.append(this._elDummyTag)))},width:function(t){return t?(this.option("nWidth",t),void this.refresh()):this.option("nWidth")?parseInt(this.option("nWidth"),10):this._htWElement.wrapper.width()},height:function(t){return t?(this.option("nHeight",t),void this.refresh()):this.option("nHeight")?parseInt(this.option("nHeight"),10):this._htWElement.wrapper.height()},_setWrapperElement:function(t){this._htWElement={},this.setLayer(t)},hasHScroll:function(){return this.bUseHScroll},hasVScroll:function(){return this.bUseVScroll},_createDynamicPlugin:function(t){var e={nRatio:this.option("nRatio"),sListElement:this.option("sListElement"),sDirection:t};this._inst("dynamic")?this._inst("dynamic").option(e):this._htPlugin.dynamic.o=new jindo.m.DynamicPlugin(this._htWElement.wrapper,e),this._inst("dynamic").refresh("V"==t?this._nTop:this._nLeft),this.option("bUseTimingFunction",!1),this._htPlugin.dynamic.bUse=!0},_refreshDynamicPlugin:function(){if(this._htPlugin.dynamic.bUse=!1,this.option("sListElement")&&(!this.bUseVScroll||!this.bUseHScroll)){var t=2*this.option("nRatio");this.bUseVScroll&&this.nScrollH>this.nWrapperH*t?this._createDynamicPlugin("V"):this.bUseHScroll&&this.nScrollW>this.nWrapperW*t&&this._createDynamicPlugin("H")}},_refreshPullPlugin:function(){return this._htPlugin.pull.bUse=this.option("bUsePullDown")||this.option("bUsePullUp"),this._isUse("pull")?(this._inst("pull")||(this._htPlugin.pull.o=new jindo.m.PullPlugin(this)),this._inst("pull").refresh(),!0):!1},refresh:function(t){if(this.isActivating()){this._hasHighlightBug&&this._htWElement.wrapper.addClass(this._sHighlightClass),this.option("nWidth")&&this._htWElement.wrapper.width(parseInt(this.option("nWidth"),10)),this.option("nHeight")&&this._htWElement.wrapper.height(parseInt(this.option("nHeight"),10));var e=parseInt(this._htWElement.wrapper.css("border-left-width"),10),n=parseInt(this._htWElement.wrapper.css("border-right-width"),10),i=parseInt(this._htWElement.wrapper.css("border-top-width"),10),o=parseInt(this._htWElement.wrapper.css("border-bottom-width"),10);e=isNaN(e)?0:e,n=isNaN(n)?0:n,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.nWrapperW=this._htWElement.wrapper.width()-e-n,this.nWrapperH=this._htWElement.wrapper.height()-i-o,this._refreshPullPlugin()||(this.nScrollW=this._htWElement.scroller.width(),this.nScrollH=this._htWElement.scroller.height()-this.option("nOffsetBottom"),this.nMinScrollTop=-(0===this.option("nOffsetTop")?-0:this.option("nOffsetTop")),this.nMaxScrollTop=this.nWrapperH-this.nScrollH),this.nMaxScrollLeft=this.nWrapperW-this.nScrollW,this.bUseHScroll=this.option("bUseHScroll")&&this.nWrapperW<=this.nScrollW,this.bUseVScroll=this.option("bUseVScroll")&&this.nWrapperH<=this.nScrollH,this.bUseHScroll&&!this.bUseVScroll&&(this._htWElement.scroller.$value().style.height="100%"),!this.bUseHScroll&&this.bUseVScroll&&(this._htWElement.scroller.$value().style.width="100%"),this._refreshDynamicPlugin(),this.option("bUseScrollbar")&&(this._refreshScroll("V"),this._refreshScroll("H")),!this.bUseHScroll&&!this.bUseVScroll&&this._fixPositionBug(),!t&&this.restorePos(0)}},_setPos:function(t,e){var n;t=this.bUseHScroll?parseInt(t,10):0,e=this.bUseVScroll?parseInt(e,10):0,this._isUse("dynamic")&&(n=this._checkDirection(t,e));var i={nLeft:this._nLeft,nTop:this._nTop,nNextLeft:t,nNextTop:e,nVectorX:t-this._nLeft,nVectorY:e-this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop};if(this.fireEvent("beforePosition",i)){if(this._isControling=!0,this._nLeft=t=i.nNextLeft,this._nTop=e=i.nNextTop,this._isUse("dynamic")&&this._inst("dynamic").updateListStatus(n,this.bUseVScroll?this._nTop:this._nLeft),this.bUseHighlight&&this.isPositionBug){var o=this.getStyleOffset(this._htWElement.scroller);t-=o.left,e-=o.top}this._htWElement.scroller.css(jindo.m._toPrefixStr("Transform"),jindo.m._getTranslate(t+"px",e+"px",this._bUseCss3d)),this.option("bUseScrollbar")&&(this._setScrollBarPos("V",this._nTop),this._setScrollBarPos("H",this._nLeft)),this._oMoveData={nLeft:this._nLeft,nTop:this._nTop},this.fireEvent("position",{nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop})}else this._isAnimating=!1},_isUse:function(t){return this._htPlugin[t].bUse},_inst:function(t){return this._htPlugin[t].o},_checkDirection:function(t,e){var n,i=this.bUseVScroll?this._nTop:this._nLeft,o=this.bUseVScroll?e:t;return n=i>o?"forward":"backward"},restorePos:function(t){var e=this.getPosLeft(this._nLeft),n=this.getPosTop(this._nTop);if(e===this._nLeft&&n===this._nTop){if(this._isControling=!1,this._isStop=!1,!this.option("bUseBounce")&&this._oldLeft===e&&this._oldTop===n)return;this._fireAfterScroll(),this._fixPositionBug()}else this._scrollTo(e,n,t);this._oldLeft=e,this._oldTop=n},_getMomentum:function(t,e,n,i,o,s){var h=this.option("nDeceleration"),a=n/h,r=0,l=0;return 0>t&&a>o?(l=i/(6/(a/e*h)),o+=l,e=e*o/a,a=o):t>0&&a>s&&(l=i/(6/(a/e*h)),s+=l,e=e*s/a,a=s),a*=t>0?-1:1,r=e/h,{nDist:a,nTime:Math.round(r)}},_stop:function(){this.option("bUseTimingFunction")?(jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd),this._transitionTime(0)):(cancelAnimationFrame(this._htTimer.ani),this._stopUpdater()),this._isAnimating&&this._setPos(this._nLeft,this._nTop),this._aAni=[],this._isAnimating=!1,this._isStop=!0},_scrollTo:function(t,e,n){this._stop(),t=this.bUseHScroll?t:0,e=this.bUseVScroll?e:0,this._aAni.push({nLeft:t,nTop:e,nDuration:n||0}),this._animate()},scrollTo:function(t,e,n){n=n||0,t=-Math.abs(t),e=-Math.abs(e),e+=this.getTop(),this._scrollTo(t>=this.getLeft()?this.getLeft():t<=this.getRight()?this.getRight():t,e>=this.getTop()?this.getTop():e<=this.getBottom()?this.getBottom():e,n)},getRight:function(){return this.nMaxScrollLeft},getLeft:function(){return 0},getBottom:function(){return this.nMaxScrollTop},getTop:function(){return this.nMinScrollTop},isMoving:function(){return this._isControling},_animate:function(){var t,e=this;if(!this._isAnimating){if(!this._aAni.length)return void this.restorePos(300);do if(t=this._aAni.shift(),!t)return;while(t.nLeft==this._nLeft&&t.nTop==this._nTop);if(0==t.nDuration)this.option("bUseTimingFunction")&&this._transitionTime(0),this._setPos(t.nLeft,t.nTop),this._animate();else if(this._isAnimating=!0,this.option("bUseTimingFunction"))this._transitionTime(t.nDuration),this._setPos(t.nLeft,t.nTop),this._isAnimating=!1,jindo.m.attachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);else{e._startUpdater();var n,i=(new Date).getTime(),o=this.bUseHScroll?this.option("fEffect")(this._nLeft,t.nLeft):null,s=this.bUseVScroll?this.option("fEffect")(this._nTop,t.nTop):null;!function h(){return n=(new Date).getTime(),n>=i+t.nDuration?(e._stopUpdater(),e._setPos(t.nLeft,t.nTop),e._isAnimating=!1,void e._animate()):(n=(n-i)/t.nDuration,e._oMoveData={nLeft:o&&o(n),nTop:s&&s(n)},void(e._isAnimating?e._htTimer.ani=requestAnimationFrame(h):e._stopUpdater()))}()}}},_onRotate:function(t){this.fireEvent("rotate",{isVertical:t.isVertical})&&this.refresh()},_transitionTime:function(t){t+="ms",this._htWElement.scroller.css(jindo.m._toPrefixStr("TransitionDuration"),t),this.option("bUseScrollbar")&&this._setScrollbarDuration(t)},_setScrollbarDuration:function(t){this.bUseHScroll&&this._htWElement.HscrollbarIndicator&&this._htWElement.HscrollbarIndicator.css(jindo.m._toPrefixStr("TransitionDuration"),t),this.bUseVScroll&&this._htWElement.VscrollbarIndicator&&this._htWElement.VscrollbarIndicator.css(jindo.m._toPrefixStr("TransitionDuration"),t)},_stopScroll:function(){var t,e,n=jindo.m.getTranslateOffset(this._htWElement.scroller.$value()),i={left:0,top:0};this.isPositionBug&&this.bUseHighlight&&(i=this.getStyleOffset(this._htWElement.scroller)),e=n.left+i.left,t=n.top+i.top,this.option("bUseFixedScrollbar")||(this._hideScrollBar("V"),this._hideScrollBar("H")),this._stopUpdater(),this._stop(),this._setPos(this.getPosLeft(e),this.getPosTop(t)),this._isControling=!1,this._fireAfterScroll(),this._fixPositionBug()},getStyleOffset:function(t){var e=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return e=isNaN(e)?0:e,n=isNaN(n)?0:n,{left:e,top:n}},getPosLeft:function(t){return this.bUseHScroll?t>=0?0:t<=this.nMaxScrollLeft?this.nMaxScrollLeft:t:0},getPosTop:function(t){return this.bUseVScroll?t>=this.nMinScrollTop?this.nMinScrollTop:t<=this.nMaxScrollTop?this.nMaxScrollTop:t:0},_hideScrollBar:function(t){if(this._htWElement){var e=this._htWElement[t+"scrollbar"],n="H"===t?this.bUseHScroll:this.bUseVScroll;n&&e&&(e.hide(),e.$value().offsetHeight,this.isPositionBug&&this.bUseHighlight&&this.makeStylePos(this._htWElement[t+"scrollbarIndicator"]))}},_fireAfterScroll:function(){if(this.option("bUseScrollbar")){var t=this;this._htTimer.scrollbar=setTimeout(function(){t.option("bUseFixedScrollbar")||(t._hideScrollBar("V"),t._hideScrollBar("H"))},this.option("nScrollbarHideThreshold"))}this._fireEvent("afterScroll")},_fireEvent:function(t){return this.fireEvent(t,this._getNowPosition())},_fireTouchEvent:function(t,e){return this.fireEvent(t,this._getNowPosition(e))},_getNowPosition:function(t){return{nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop,oEvent:t||{}}},setUsePullDown:function(t){this._isUse("pull")&&(this.option("bUsePullDown",t),this.refresh())},setUsePullUp:function(t){this._isUse("pull")&&(this.option("bUsePullUp",t),this.refresh())},_onUpdater:function(){(this._oMoveData.nLeft!=this._nLeft||this._oMoveData.nTop!=this._nTop)&&this._setPos(this._oMoveData.nLeft,this._oMoveData.nTop),this._startUpdater()},_startUpdater:function(){this._stopUpdater(),this._nUpdater=window.requestAnimationFrame(this._htEvent.updater)},_stopUpdater:function(){window.cancelAnimationFrame(this._nUpdater),this._nUpdater=-1},_onStart:function(t){this._clearPositionBug(),this._isStop=!1,this._fireTouchEvent("beforeTouchStart",t)?(this.option("bUseTimingFunction")&&this._transitionTime(0),this._isAnimating&&this._stopScroll()&&(this._isAnimating=!1),this._isControling=!0,this._fireTouchEvent("touchStart",t)||t.stop()):t.stop()},_onMove:function(t){var e=0,n=0;if(this._clearTouchEnd(),this._clearPositionBug(),this.isClickBug&&this._htWElement.scroller.css("pointerEvents","none"),this._fireTouchEvent("beforeTouchMove",t)){this._isUse("pull")&&this._inst("pull").touchMoveForUpdate(t,this.nMaxScrollTop);var i=t.oEvent,o=function(){t.sMoveType!=jindo.m.MOVETYPE[6]&&t.sMoveType!=jindo.m.MOVETYPE[8]&&i.stop(jindo.$Event.CANCEL_ALL)};if(t.sMoveType===jindo.m.MOVETYPE[0]){if(!this.bUseHScroll)return!0;if(!this.option("bUseBounce")&&(this._nLeft>=0&&t.nVectorX>0||this._nLeft<=this.nMaxScrollLeft&&t.nVectorX<0))return void this._forceRestore(t);o()}else if(t.sMoveType===jindo.m.MOVETYPE[1]){if(!this.bUseVScroll)return!0;if(!this.option("bUseBounce")&&(this._nTop>=this.nMinScrollTop&&t.nVectorY>0||this._nTop<=this.nMaxScrollTop&&t.nVectorY<0))return void this._forceRestore(t);o()}else{if(t.sMoveType!==jindo.m.MOVETYPE[2])return o(),!0;if(!this.option("bUseDiagonalTouch"))return;o()}if(this.option("bUseBounce")){this.bUseHScroll&&(e=this._nLeft+(this._nLeft>=0||this._nLeft<=this.nMaxScrollLeft?t.nVectorX/2:t.nVectorX)),this.bUseVScroll&&(n=this._nTop+(this._nTop>=this.nMinScrollTop||this._nTop<=this.nMaxScrollTop?t.nVectorY/2:t.nVectorY));var s=this;this._htTimer.touch=setTimeout(function(){s._forceRestore(t)},500)}else e=this.getPosLeft(this._nLeft+t.nVectorX),n=this.getPosTop(this._nTop+t.nVectorY);this._setPos(e,n),this._fireTouchEvent("touchMove",t)||t.stop()}else t.stop()},_onEnd:function(t){this._isUse("pull")&&this._inst("pull").pullUploading(),this._fireTouchEvent("beforeTouchEnd",t)?(this._clearPositionBug(),this._clearTouchEnd(),t.sMoveType===jindo.m.MOVETYPE[0]||t.sMoveType===jindo.m.MOVETYPE[1]||this.option("bUseDiagonalTouch")&&t.sMoveType===jindo.m.MOVETYPE[2]?(this._endForScroll(t),this.nVersion<4.1&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT)):(this._isControling=!1,this._isStop||this._tapHighlight()),this._fireTouchEvent("touchEnd",t)||t.stop()):t.stop(),this.isClickBug&&this._htWElement.scroller.css("pointerEvents","auto")},_makeHighlightStyle:function(){var t=jindo.$("_jmc_no_tap_highlight_tag_");if(!t){t=document.createElement("style");var e=document.getElementsByTagName("html")[0];t.type="text/css",t.id="_jmc_no_tap_highlight_tag_",e.insertBefore(t,e.firstChild);var n=t.sheet||t.styleSheet;n.insertRule("."+this._sHighlightClass+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0),n.insertRule("."+this._sHighlightClass+" * { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0)}},_tapHighlight:function(){if(this._hasHighlightBug){this._htWElement.wrapper.removeClass(this._sHighlightClass);var t=this;clearTimeout(this._nHightlightBug),this._nHightlightBug=setTimeout(function(){t._htWElement.wrapper.addClass(t._sHighlightClass)},200)}},_forceRestore:function(t){t.nMomentumX=t.nMomentumY=null,this._endForScroll(t),this._clearPositionBug(),this._clearTouchEnd()},_endForScroll:function(t){clearTimeout(this._nFixedDubbleEndBugTimer);var e={nDist:0,nTime:0},n={nDist:0,nTime:0},i={nMomentumX:t.nMomentumX,nMomentumY:t.nMomentumY,nDistanceX:t.nDistanceX,nDistanceY:t.nDistanceY,nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop};this.option("bUseMomentum")&&(t.nMomentumX||t.nMomentumY)?(this.bUseHScroll&&(e=this._getMomentum(-t.nDistanceX,t.nSpeedX,t.nMomentumX,this.nWrapperW,-this._nLeft,-this.nMaxScrollLeft+this._nLeft)),this.bUseVScroll&&(n=this._getMomentum(-t.nDistanceY,t.nSpeedY,t.nMomentumY,this.nWrapperH,-this._nTop,-this.nMaxScrollTop+this._nTop)),i.nNextLeft=this._nLeft+e.nDist,i.nNextTop=this._nTop+n.nDist,i.nTime=Math.max(Math.max(e.nTime,n.nTime),10),this.fireEvent("beforeScroll",i)&&(this.option("bUseBounce")?this._scrollTo(i.nNextLeft,i.nNextTop,i.nTime):this._scrollTo(this.getPosLeft(i.nNextLeft),this.getPosTop(i.nNextTop),i.nTime))):(i.nNextLeft=this._nLeft,i.nNextTop=this._nTop,i.nTime=0,this.fireEvent("beforeScroll",i)&&(this._nLeft!==i.nNextLeft||this._nTop!==i.nNextTop?this._scrollTo(i.nNextLeft,i.nNextTop,i.nTime):this.restorePos(300)))},_onTransitionEnd:function(){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd),this._animate()},_onDocumentStart:function(t){if(this._htWElement.wrapper.visible()){if(this._htWElement.wrapper.isChildOf(t.element))return!0;this._isAnimating&&this._isControling&&this._stopScroll()}},_onActivate:function(){this._oTouch?this._oTouch.activate():this._oTouch=new jindo.m.Touch(this._htWElement.wrapper.$value(),{nMoveThreshold:0,nMomentumDuration:jindo.m.getDeviceInfo().android?500:200,nUseDiagonal:0,nTapThreshold:1,nSlopeThreshold:5,nEndEventThreshold:jindo.m.getDeviceInfo().win8?100:0,bHorizental:this.option("bUseHScroll"),bVertical:this.option("bUseVScroll")}),this._attachEvent(),this.refresh()},_onDeactivate:function(){this._detachEvent(),this._oTouch.deactivate()},_attachEvent:function(){this._htEvent={},this._htEvent.touchStart=jindo.$Fn(this._onStart,this).bind(),this._htEvent.touchMove=jindo.$Fn(this._onMove,this).bind(),this._htEvent.touchEnd=jindo.$Fn(this._onEnd,this).bind(),this._htEvent.TransitionEnd=jindo.$Fn(this._onTransitionEnd,this).bind(),this._htEvent.document=jindo.$Fn(this._onDocumentStart,this).attach(document,"touchstart"),this._oTouch.attach({touchStart:this._htEvent.touchStart,touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd}),this.option("bAutoResize")&&(this._htEvent.rotate=jindo.$Fn(this._onRotate,this).bind(),jindo.m.bindRotate(this._htEvent.rotate)),this.option("bUseTimingFunction")||(this._htEvent.updater=jindo.$Fn(this._onUpdater,this).bind())},_fixPositionBug:function(){if(this.isPositionBug&&this.bUseHighlight){var t=this;this._clearPositionBug(),this._htTimer.fixed=setTimeout(function(){t._htWElement&&t._htWElement.scroller&&(t.makeStylePos(t._htWElement.scroller),t.nVersion<=3&&t._elDummyTag.focus())},200)}},makeStylePos:function(t){var e=t.$value(),n=jindo.m.getTranslateOffset(e),i=t.offset();e.style[jindo.m._toPrefixStr("Transform")]=this.nVersion>=4?jindo.m._getTranslate(0,0,this._bUseCss3d):null,e.style[jindo.m._toPrefixStr("TransitionDuration")]=null,t.offset(n.top+i.top,n.left+i.left)},_clearPositionBug:function(){this.isPositionBug&&this.bUseHighlight&&(clearTimeout(this._htTimer.fixed),this._htTimer.fixed=-1)},_clearTouchEnd:function(){clearTimeout(this._htTimer.touch),this._htTimer.touch=-1},_detachEvent:function(){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd),this._htEvent.document.detach(document,"touchstart"),this.option("bAutoResize")&&jindo.m.unbindRotate(this._htEvent.rotate),this._oTouch.detachAll(),this._elDummyTag&&this._htWElement.scroller.remove(this._elDummyTag),this.option("bUseTimingFunction")||this._stopUpdater()},_createScroll:function(t){var e,n,i=this._htWElement.wrapper;this.option("sScrollbarClass")&&(e=jindo.$Element(jindo.$$.getSingle("."+this.option("sScrollbarClass"),i.$value())),n=jindo.$Element(jindo.$$.getSingle("._scroll_indicator",e.$value()))),("H"===t?this.bUseHScroll:this.bUseVScroll)&&(e||(e=this._createScrollbar(t),n=this._createScrollbarIndicator(t),this._bAppendScrollbar=!0),this._htWElement[t+"scrollbar"]=e,this._htWElement[t+"scrollbarIndicator"]=n,this._bAppendScrollbar&&(e.append(n),i.append(e)))},_createScrollbar:function(t){var e=jindo.$Element("<div>");return e.css({position:"absolute",zIndex:100,bottom:"H"===t?"1px":(this.bUseHScroll?"7":"2")+"px",right:"H"===t?(this.bUseVScroll?"7":"2")+"px":"1px",pointerEvents:"none"}),e.css("H"===t?{height:"5px",left:"2px"}:{width:"5px",top:"2px"}),this.option("bUseFixedScrollbar")?e.show():e.hide(),e},_createScrollbarIndicator:function(t){var e=jindo.$Element("<div>");return e.css({position:"absolute",zIndex:100,border:this.option("sScrollbarBorder"),pointerEvents:"none",left:0,top:0,backgroundColor:this.option("sScrollbarColor")}),"H"===t?e.height(5):e.width(5),jindo.m.getOsInfo().ios&&this.option("bUseScrollBarRadius")&&e.css(jindo.m._toPrefixStr("BorderRadius"),"12px"),e.css(jindo.m._toPrefixStr("TransitionProperty"),""==this.sCssPrefix?"transform":"-"+this.sCssPrefix+"-transform").css(jindo.m._toPrefixStr("Transform"),jindo.m._getTranslate(0,0,this._bUseCss3d)),this.option("bUseTimingFunction")&&e.css(jindo.m._toPrefixStr("TransitionTimingFunction"),this.option("fEffect").toString()),e},_refreshScroll:function(t){if("H"===t){if(!this.bUseHScroll||this.nWrapperW==this.nScrollW)return}else if(!this.bUseVScroll||this.nWrapperH==this.nScrollH)return;this._htWElement[t+"scrollbar"]||this._createScroll(t);var e=this._htWElement[t+"scrollbar"],n=this._htWElement[t+"scrollbarIndicator"],i=0,o=[[this.nWrapperW,this.nScrollW,this.nMaxScrollLeft,"width"],[this.nWrapperH,this.nScrollH,this.nMaxScrollTop,"height"]],s="H"===t?o[0]:o[1];i=this.option("nScrollbarIndicatorSize")?this.option("nScrollbarIndicatorSize"):Math.max(Math.round(Math.pow(s[0],2)/s[1]),8),this._bAppendScrollbar?(this["_nProp"+t+"Scroll"]=(s[0]-i)/s[2],e[s[3]](s[0])):this["_nProp"+t+"Scroll"]=(e[s[3]]()-i)/s[2],n[s[3]](isNaN(i)?0:i)},_setScrollBarPos:function(t,e){if("H"===t?this.bUseHScroll:this.bUseVScroll){var n=this._htWElement[t+"scrollbarIndicator"],i=this._htWElement[t+"scrollbar"];if(n&&i&&(e=this["_nProp"+t+"Scroll"]*e,this.option("bUseFixedScrollbar")||!i||i.visible()||(i.show(),this.option("bUseTimingFunction")&&i.$value().clientHeight),n)){if(this.isPositionBug&&this.bUseHighlight){var o=parseInt(n.css("H"===t?"left":"top"),10);e-=isNaN(o)?0:o}n.css(jindo.m._toPrefixStr("Transform"),jindo.m._getTranslate("H"==t?e+"px":0,"H"==t?0:e+"px",this._bUseCss3d))}}},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null,this._oTouch.destroy(),delete this._oTouch}}).extend(jindo.m.UIComponent),jindo.m.Slider=jindo.$Class({$init:function(t,e){this.option({sClassPrefix:"slider-",bVertical:!1,nMinValue:0,nMaxValue:100,nDefaultValue:0,nMoveThreshold:0,nSlopeThreshold:5,bActivateOnload:!0}),this.option(e||{}),this._setWrapperElement(t),this._initVar(),this.option("bActivateOnload")&&(this.activate(),this.setValue(this.option("nDefaultValue")))},_initVar:function(){this._oTouch=new jindo.m.Touch(this._htWElement.track.$value(),{nTapThreshold:1,nMoveThreshold:this.option("nMoveThreshold"),nSlopeThreshold:this.option("nSlopeThreshold"),bHorizental:!this.option("bVertical"),bVertical:this.option("bVertical"),nEndEventThreshold:jindo.m.getDeviceInfo().win8?100:0,bActivateOnload:!1}),this._oTouch.attach({touchMove:jindo.$Fn(this._onMove,this).bind(),touchEnd:jindo.$Fn(this._onMove,this).bind(),touchStart:jindo.$Fn(this._onStart,this).bind()}),this._htSwap={left:this.option("bVertical")?"top":"left",width:this.option("bVertical")?"height":"width",nX:this.option("bVertical")?"nY":"nX"},this._nPos=0;var t=this._htWElement.thumb[this._htSwap.width]()/2;this._htWElement.thumb.css("margin-"+this._htSwap.left,-1*t)},_setWrapperElement:function(t){this._htWElement={},t=jindo.$(t);var e="."+this.option("sClassPrefix");this._htWElement.track=jindo.$Element(t);var n=jindo.$$.getSingle(e+"thumb",t);this._htWElement.thumb=n?jindo.$Element(n):null;var i=jindo.$$.getSingle(e+"range",t);this._htWElement.range=i?jindo.$Element(i):null},_onStart:function(t){var e={nValue:this.getValue(),nPosition:this.getPosition()};this.fireEvent("touchStart",e)&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT)},_onMove:function(t){if("touchMove"==t.sType&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT),"touchEnd"==t.sType&&t.element==this._htWElement.thumb.$value())return void this._fireEvent(t);var e=t[this._htSwap.nX]-this._htWElement.track.offset()[this._htSwap.left]-this._htWElement.thumb[this._htSwap.width]()/2,n=this._getAdjustedPos(e);this._move(n),this._fireEvent(t)},_fireEvent:function(t){this.fireEvent(t.sType,{nValue:this.getValue(),nPosition:this.getPosition()})},_move:function(t,e){if("undefined"==typeof e&&(e=!0),this._nPos!=t){var n=this.getValue(t),i=Math.round(t),o=this.getValue(i);this._nPos=t;var s={nValue:n,nPosition:t,nAdjustValue:o,nAdjustPosition:i};(!e||this._fireBeforeEvent(s))&&(s.nAdjustValue!=o&&(s.nAdjustPosition=this._getPositionFromValue(s.nAdjustValue)),this._moveThumb(s.nAdjustPosition),e&&this._fireChangeEvent(s),this._htWElement.range&&this._htWElement.range.css(this._htSwap.width,s.nAdjustPosition+"%"))}},_fireBeforeEvent:function(t){return this.fireEvent("beforeChange",t)},_fireChangeEvent:function(t){this.fireEvent("change",t)},_moveThumb:function(t){t>100||0>t||(this._htWElement.thumb.css("webkitTransitionDuration","0ms"),this._htWElement.thumb.css("webkitTransitionProperty",this._htSwap.left),this._htWElement.thumb.css(this._htSwap.left,t+"%"))},_getTrackInfo:function(){var t=this.option("bVertical")?this._htWElement.track.height():this._htWElement.track.width(),e=this.option("bVertical")?this._htWElement.thumb.height():this._htWElement.thumb.width(),n=t-e/2;return{maxPos:n,max:1*this.option("nMaxValue"),min:1*this.option("nMinValue")}},getValue:function(t){"undefined"==typeof t&&(t=this.getPosition());var e=this._getTrackInfo(),n=e.min+(e.max-e.min)*(t/100);return n},setValue:function(t,e){t=1*t;var n=this._getPositionFromValue(t);"undefined"==typeof e&&(e=!0),this._move(n,e)},_getAdjustedPos:function(t){var e=this._getTrackInfo(),n=100*t/e.maxPos;return n=Math.max(0,n),n=Math.min(n,100)},getPosition:function(){var t=this._htWElement.thumb.css(this._htSwap.left);return"auto"==t?0:parseFloat(t,10)},setPosition:function(t,e){"undefined"==typeof e&&(e=!0),this._move(t,e)},_getPositionFromValue:function(t){var e=this._getTrackInfo(),n=100*(t-e.min)/(e.max-e.min);return n=isNaN(n)?100:n,n=Math.max(0,n),n=Math.min(100,n)},_onClick:function(t){t.stop()},_attachEvent:function(){this._htEvent={}},_detachEvent:function(t){if(t){var e=this._htEvent[t];e.ref.detach(e.el,t)}},_onActivate:function(){this._attachEvent(),this._oTouch.activate()},_onDeactivate:function(){this._detachEvent(),this._oTouch.deactivate()},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null;for(t in this._htSwap)this._htSwap[t]=null;this._htSwap=null,this._oTouch.detachAll()}}).extend(jindo.m.UIComponent),jindo.m.Tab=jindo.$Class({$init:function(t,e){this.option({sMoreText:"더보기",nCountOnList:0}),this.option(e||{}),this._initData(),this.option("bActivateOnload")&&this.activate(),this.select(this.option("nDefaultIndex"))},_initVar:function(){this.$super._initVar(),this._isMore=!1,this._nCurrentMoreTab=-1},_initData:function(){this.$super._initData();var t=this.option("nCountOnList");t>0&&this._aTab.length>t&&this._makeMoreContainer(t)},_makeMoreContainer:function(t){this._htWElement.more_tab=jindo.$Element('<li class="'+this._sPrefix+'more-tab"><a style="display: block; height: 100%">'+this.option("sMoreText")+' <span class="'+this._sPrefix+'arrow-down"></span></a></li>'),this._htWElement.more_container_wrap=jindo.$Element('<div style="position:relative; width:100%;z-index:10">'),this._htWElement.more_container=jindo.$Element('<ul class="'+this._sPrefix+'more-cont" style="display:none; position: absolute">');for(var e=t,n=this._aTab.length;n>e;e++)this._tab2more(e);this._htWElement.more_container_wrap.append(this._htWElement.more_container),this._htWElement.more_tab.append(this._htWElement.more_container_wrap),this._htWElement.tab_container.append(this._htWElement.more_tab),this._htWElement.more_arrow=jindo.$Element(this._htWElement.more_tab.query("span")),this._nCurrentMoreTab=t-1,this._isMore=!0},_attachMoreContainerEvent:function(){this._htEvent.more_click={el:this._htWElement.more_container,ref:jindo.$Fn(this._onClickMore,this).attach(this._htWElement.more_container,"click")}},_onClickMore:function(t){if(this._isMore){var e=jindo.$Element(t.element),n=this._sPrefix+"more-li";e.hasClass(n)||(e=e.parent(function(t){return t.hasClass(n)},1)[0]),this.select(this._getIdx(e)),t.stop(jindo.$Event.CANCEL_BUBBLE)}},_tab2more:function(t){var e,n=this._htWElement.more_container.first(),i=!1;for(this._aTab[t].className(this._sPrefix+"more-li"),this._aTab[t].first().className(this._sPrefix+"more-lia");n;){if(e=this._getIdx(n),e>t){n.before(this._aTab[t]),i=!0;break}n=n.next()}i||this._htWElement.more_container.append(this._aTab[t])},_more2tab:function(t){this._aTab[t].className(this._sPrefix+"tab"),this._aTab[t].first().className(this._sPrefix+"taba"),this._htWElement.more_tab.before(this._aTab[t]),this._nCurrentMoreTab=t},_onAfterSelect:function(t){if(t.hasClass(this._sPrefix+"more-tab")){var e=this._htWElement.more_container.visible();this._fireEventBefore(e?"beforeHide":"beforeShow")&&(this._htWElement.more_container.toggle(),this._htWElement.more_tab.toggleClass(this._sPrefix+"more-on"),this._htWElement.more_arrow.toggleClass(this._sPrefix+"arrow-down",this._sPrefix+"arrow-up"),this._fireEventBefore(e?"hide":"show"))}else this._hideMoreList(),this.select(this._getIdx(t))},_hideMoreList:function(){this._isMore&&this._fireEventBefore("beforeHide")&&(this._htWElement.more_container.hide(),this._htWElement.more_tab.removeClass(this._sPrefix+"more-on"),this._htWElement.more_arrow.className(this._sPrefix+"arrow-up"),this._fireEventBefore("hide"))},_beforeSelect:function(t){this._isMore&&t>=this.option("nCountOnList")-1&&this._nCurrentMoreTab!=t&&(this._hideMoreList(),this._tab2more(this._nCurrentMoreTab),this._more2tab(t))},_attachEvent:function(){this.$super._attachEvent(),this._isMore&&this._attachMoreContainerEvent()},_detachEvent:function(){this.$super._detachEvent()},destroy:function(){this.deactivate(),this.$super.destroy()}}).extend(jindo.m.CoreTab),jindo.m.Transition=jindo.$Class({_aTaskQueue:null,$init:function(t){this.option({sTransitionTimingFunction:"ease-in-out",bUseTimingFunction:jindo.m._isUseTimingFunction()}),this.option(t||{});var e=this;this._oMorph=new jindo.m.Morph({bUseTransition:this._htOption.bUseTimingFunction,fEffect:this._getEffect(this.option("sTransitionTimingFunction"))}).attach({end:function(){e._onTransitionEnd()},pause:function(){e._onTransitionEnd()}}),this._aTaskQueue=[],this._bIsPlaying=!1,this._initVar()},_initVar:function(){this._aTaskQueue=[],this._bIsPlaying=!1,this._sCssPrefix=jindo.m.getCssPrefix(),this._aBeforeStatus=[],this._sCssPrefix.length>0&&(this._sCssPrefix="-"+this._sCssPrefix.toLowerCase()+"-"),this._htCurrentTask=null},_getEffect:function(t){var e=jindo.m.Effect.cubicEaseInOut;switch(t){case"linear":e=jindo.m.Effect.linear;break;case"ease":e=jindo.m.Effect.cubicEase;break;case"ease-in":e=jindo.m.Effect.cubicEaseIn;break;case"ease-out":e=jindo.m.Effect.cubicEaseOut;break;case"ease-in-out":e=jindo.m.Effect.cubicEaseInOut}return e},start:function(){this._oMorph.isPlaying()||this.isPlaying()||!this.isExistTask()||this._prepareTask()},isPlaying:function(){return this._bIsPlaying},isExistTask:function(){if(!this._aTaskQueue)return!1;var t=this._aTaskQueue.length,e=t>0?!0:!1;return e},queue:function(t,e,n){var i={sType:"style",sTaskName:"",elTarget:t,nDuration:e};i.htDefault={},i.htStyle=n.htStyle||{},i.htTransform=n.htTransform||{},i.sTaskName=n.sTaskName||null,i.fCallback=n.fCallback;var o={};return o=this._getTranslateStyle(n.htStyle||{},o),o=this._getTranslateStyle(n.htTransform||{},o),this._pushTask(e,t,o,i),this},_getTranslateStyle:function(t,e){var n=e||{};for(var i in t)n["@"+i]=t[i];return n},stop:function(t){this.isPlaying()&&("undefined"==typeof t&&(t=!0),this._fireCustomEvent("stop",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})&&this._stopTransition(t))
},clear:function(t){this.stop(t),this._aTaskQueue=[]},_resume:function(){this._htCurrentTask&&this._doTask()},_stopTransition:function(t){var e=0;if(t)e=1;else{var n=this._getBeforeStatusElement(this._elCurrent);n>-1&&jindo.$Element(this._elCurrent).attr("style",this._aBeforeStatus[n].style)}this._oMorph.pause(e),this._bIsPlaying=!1,this._htCurrentTask=null},_prepareTask:function(){var t=this._popTask();return null!==t&&t?(this._htCurrentTask=t,void this._resume()):(this._oMorph.clear(),void(this._bIsPlaying=!1))},_pushTask:function(t,e,n,i){this._aTaskQueue.push({nDuration:t,elTarget:e,htTask:n,sTaskName:i.sTaskName,fCallback:i.fCallback})},_popTask:function(){if(!this.isExistTask())return null;var t=this._aTaskQueue.shift();return t?t:null},_doTask:function(){if(this._htCurrentTask){if(this._bIsPlaying=!0,!this._fireCustomEvent("start",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration}))return;this._oMorph.pushAnimate(0==this._htCurrentTask.nDuration?-1:this._htCurrentTask.nDuration,[this._htCurrentTask.elTarget,this._htCurrentTask.htTask]),this._oMorph.play();var t=this._htCurrentTask.elTarget,e=jindo.$Element(t);this._elCurrent=t,this._setBeforeStatus(e)}},_setBeforeStatus:function(t){var e=this._getBeforeStatusElement(t.$value());e>-1?this._aBeforeStatus[e].style=t.attr("style"):this._aBeforeStatus.push({el:t.$value(),style:t.attr("style")})},_getBeforeStatusElement:function(t){for(var e=-1,n=0,i=this._aBeforeStatus.length;i>n;n++)if(this._aBeforeStatus[n].el===t){e=n;break}return e},_fireCustomEvent:function(t,e){return this.fireEvent(t,e)},_onTransitionEnd:function(){var t=this;if(this._htCurrentTask){var e=typeof this._htCurrentTask.fCallback;if("function"==e)t._htCurrentTask.fCallback();else if("object"==e){var n,i=jindo.$Element(this._htCurrentTask.elTarget);for(n in this._htCurrentTask.fCallback.htTransform){var o=this._htCurrentTask.fCallback.htTransform[n];if("transform"==n){var s=this._sCssPrefix+n,h=i.$value().style[s];h.length>0&&(o=o)}i.$value().style[this._sCssPrefix+n]=o}for(n in this._htCurrentTask.fCallback.htStyle)i.css(n,this._htCurrentTask.fCallback.htStyle[n])}this._fireCustomEvent("end",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration}),setTimeout(function(){t._prepareTask()},10)}},destroy:function(){for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null,this._aTaskQueue=null,this._bIsPlaying=null,this._sCssPrefix=null,this._aBeforeStatus=null,this._htCurrentTask=null}}).extend(jindo.m.Component),jindo.m._FlickingAnimation_=jindo.$Class({$init:function(t,e){this.option(e||{}),this._setWrapperElement(t),this._initVar(),this._initTouch(),this._createDummyTag(),this.option("bActivateOnload")&&this.activate()},_initVar:function(){this._oTouch=null,this._doFlicking=!1,this._bTouchStart=!1,this._bMove=!1;var t=this.option("nDefaultIndex")||0;this._checkIndex(t)||(t=0),this.option("bUseCircular")&&(t%=3),this._htIndexInfo={nContentIndex:t,nNextContentIndex:t,welElement:this._htWElement.aPanel[t],welNextElement:this._htWElement.aPanel[t],sDirection:null};var e=jindo.m.getDeviceInfo();this._isIos=e.iphone||e.ipad,this._bAndroid=e.android&&!e.bChrome,this._nVersion=e.version,this._fnDummyFnc=function(){return!1},this._bClickBug=jindo.m.hasClickBug(),this._sCssPrefix=jindo.m.getCssPrefix(),this._elTransition=null,this._wfTransitionEnd=jindo.$Fn(this._onTransitionEnd,this).bind(),this._bDummyTagException=this._bAndroid&&this._nVersion<"3"},_setWrapperElement:function(t){this._htWElement={};var e=jindo.$(t),n="."+this.option("sClassPrefix");this._htWElement.base=jindo.$Element(e).css("zIndex",this.option("nZIndex")),this._htWElement.container=jindo.$Element(jindo.$$.getSingle(n+"container",e));var i=jindo.$$(n+this.option("sContentClass"),e);this._htWElement.aPanel=jindo.$A(i).forEach(function(t,e,n){n[e]=jindo.$Element(t)}).$value()},_initFlicking:function(){this._setElementStyle(),this._setElementSize()},_setElementStyle:function(){},_setElementSize:function(){},_initTouch:function(){this._oTouch=new jindo.m.Touch(this._htWElement.base.$value(),{nSlopeThreshold:4,nMoveThreshold:0,nEndEventThreshold:jindo.m.getDeviceInfo().win?400:0,bActivateOnload:!1,bHorizental:this.option("bHorizontal"),bVertical:!1})},_createDummyTag:function(){if(this._bDummyTagException){this._htWElement.aDummyTag=[];for(var t=0,e=this._htWElement.aPanel.length;e>t;t++){var n=this._htWElement.aPanel[t],i=jindo.$$.getSingle("._cflick_dummy_atag_",n.$value());i||(i=jindo.$("<a href='javascript:void(0);' class='_cflick_dummy_atag_'></a>"),i.style.position="absolute",i.style.left="-1000px",i.style.top="-1000px",i.style.width=0,i.style.height=0,n.append(i)),this._htWElement.aDummyTag.push(i)}}},_focusFixedBug:function(){if(this._htWElement&&"undefined"!=typeof this._htWElement.aDummyTag)for(var t=0,e=this._htWElement.aDummyTag.length;e>t;t++)this._htWElement.aDummyTag[t].focus()},_onStart:function(t){if(!this._doFlicking){if(!this.fireEvent("touchStart",t))return void t.stop();this._bTouchStart=!0,this._clearAnchor(),this._onAfterStart()}},_onAfterStart:function(){},_onMove:function(t){var e=this.option("bHorizontal"),n=t.oEvent;if(t.sMoveType===jindo.m.MOVETYPE[0]){if(!e)return this.fireEvent("scroll"),void(this._bTouchStart=!1);n.stop(jindo.$Event.CANCEL_ALL)}else if(t.sMoveType===jindo.m.MOVETYPE[1]){if(e)return this.fireEvent("scroll"),void(this._bTouchStart=!1);n.stop(jindo.$Event.CANCEL_ALL)}else if(t.sMoveType===jindo.m.MOVETYPE[2]){if(!this.option("bUseDiagonalTouch"))return this.fireEvent("scroll"),void(this._bTouchStart=!1);n.stop(jindo.$Event.CANCEL_ALL)}if(!this._doFlicking&&this._bTouchStart){this.fireEvent("touchMove",t);var i=e?t.nDistanceX:t.nDistanceY,o=e?t.nVectorX:t.nVectorY,s=e?t.nX:t.nY;this._onAfterMove(i,o,s),this._bMove=!0}},_onAfterMove:function(){},_onEnd:function(t,e){if(!this._doFlicking&&this._bTouchStart){this._doFlicking=!0;var n=this.option("bHorizontal");this._bAndroid&&this._nVersion>="4.1"||(t.sMoveType===jindo.m.MOVETYPE[0]||t.sMoveType===jindo.m.MOVETYPE[1]||t.sMoveType===jindo.m.MOVETYPE[2])&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT),(t.sMoveType===jindo.m.MOVETYPE[3]||t.sMoveType===jindo.m.MOVETYPE[4])&&this._restoreAnchor();var i=this.option("nDuration"),o=this._getSnap(t.nDistanceX,t.nDistanceY,i,t.sMoveType),s=n?t.nDistanceX:t.nDistanceY,h=n?t.nVectorX:t.nVectorY,a=n?t.nX:t.nY;null===o.sDirection&&(i=this.option("nBounceDuration"),(0===s||t.sMoveType===jindo.m.MOVETYPE[2]&&!this.option("bUseDiagonalTouch"))&&this._endAnimation(!1));var r={nContentsIndex:this.getContentIndex(),nContentsNextIndex:o.nContentIndex};if(null!==this._bFlickLeft&&(this.option("bHorizontal")?r.bLeft=this._bFlickLeft:r.bTop=this._bFlickLeft),null!==o.sDirection){if(!this.fireEvent("beforeFlicking",r))return void this.restorePosition()}else if(!this.fireEvent("beforeRestore",{nContentsIndex:this.getContentIndex()}))return;this._htIndexInfo.nNextContentIndex=o.nContentIndex,this._htIndexInfo.welNextElement=o.welElement,this._htIndexInfo.sDirection=o.sDirection,s=n?t.nDistanceX:t.nDistanceY,h=n?t.nVectorX:t.nVectorY,a=n?t.nX:t.nY,this._onAfterEnd(s,h,a,e),this.fireEvent("touchEnd",t)}},_onAfterEnd:function(){},_endAnimation:function(t){var e=this;"undefined"==typeof t&&(t=!0),this._doFlicking=!1,this._bTouchStart=!1,this._bMove=!1;var n=null==this._htIndexInfo.sDirection&&this._htIndexInfo.nContentIndex===this._htIndexInfo.nNextContentIndex?!0:!1;this._resetIndexInfo(this._htIndexInfo.nNextContentIndex,this._htIndexInfo.welNextElement),t&&this._fireCustomEvent("afterFlicking"),n&&this.fireEvent("restore",{nContentsIndex:this._htIndexInfo.nContentIndex}),this._restoreAnchor(),this._setAnchorElement(),setTimeout(function(){e._createDummyTag(),e._focusFixedBug()},5),this._bFlickLeft=null},_resetIndexInfo:function(t,e){this._htIndexInfo.nContentIndex=t,this._htIndexInfo.nNextContentIndex=t,"undefined"==typeof e&&(this.option("bUseCircular")&&(t%=3),e=this._htWElement.aPanel[t]),this._htIndexInfo.welElement=e,this._htIndexInfo.welNextElement=e,this._htIndexInfo.sDirection=null},_checkIndex:function(t){var e=!0;(isNaN(1*t)||0>t)&&(e=!1);var n=this.getTotalContents()-1;return t>n&&(e=!1),e},refresh:function(t,e,n){var i=this;"undefined"==typeof t&&(t=this.getContentIndex()),this._checkIndex(t)&&("undefined"==typeof e&&(e=!0),"undefined"==typeof n&&(n=!0),(!n||this._fireCustomEvent("beforeMove",{nContentsIndex:this.getContentIndex(),nContentsNextIndex:t}))&&(this._refresh(t,e),this._resetIndexInfo(t),n&&this._fireCustomEvent("move"),this._restoreAnchor(),this._setAnchorElement(),this._createDummyTag(),setTimeout(function(){i._focusFixedBug()},100)))},_refresh:function(){},moveTo:function(t,e,n){"undefined"!=typeof t&&t!=this.getContentIndex()&&(0>t||t>=this.getTotalContents()||("undefined"==typeof e&&(e=this.option("nDuration")),"undefined"==typeof n&&(n=!0),this._moveTo(t,e,n)))},_getSnap:function(t,e,n,i){var o=this.option("bHorizontal")?t:e,s=this._htIndexInfo.welElement,h=this.getContentIndex(),a=null;return(i!==jindo.m.MOVETYPE[2]||this.option("bUseDiagonalTouch"))&&this._bMove&&Math.abs(o)>=this.option("nFlickThreshold")&&(0>o?(s=this.getNextElement(),h=this.getNextIndex(),this._bFlickLeft=!0,a="next"):(s=this.getPrevElement(),h=this.getPrevIndex(),this._bFlickLeft=!1,a="prev")),this._htIndexInfo.welElement.$value()===s.$value()&&(a=null),{elElement:s.$value(),welElement:s,nContentIndex:h,sDirection:a}},_onResize:function(t){this.option("bAutoResize")&&this.refresh(this.getContentIndex(),!0,!1),this.fireEvent("rotate",{isVertical:t.isVertical})},_fireCustomEvent:function(t,e){return"undefined"==typeof e&&(e={nContentsIndex:this._htIndexInfo.nContentIndex},this._bFlickLeft&&(this.option("bHorizontal")?e.bLeft=this._bFlickLeft:e.bTop=this._bFlickLeft)),this.fireEvent(t,e)},restorePosition:function(){this._onAfterEnd()},movePrev:function(t){if(!this._doFlicking){var e=this.getPrevElement();e.$value()!==this.getElement().$value()&&("undefined"==typeof t&&(t=this.option("nDuration")),this._bTouchStart=!0,this._bMove=!0,this._movePrev(t))}},_movePrev:function(t){var e=this.option("nFlickThreshold");this._onEnd({nDistanceX:e+10,nDistanceY:e+10,nX:10,nY:10},t)},moveNext:function(t){if(!this._doFlicking){var e=this.getNextElement();e.$value()!==this.getElement().$value()&&("undefined"==typeof t&&(t=this.option("nDuration")),this._bTouchStart=!0,this._bMove=!0,this._moveNext(t))}},_moveNext:function(t){{var e=-1*this.option("nFlickThreshold");this.option("bHorizontal")?this._htWElement.base.width():this._htWElement.base.height()}this._onEnd({nDistanceX:e-10,nDistanceY:e-10,nX:10,nY:10},t)},_attachTransitionEnd:function(t,e){if(t!==this._elTransition){this._elTransition=t;var n=this;0===e?setTimeout(function(){n._onTransitionEnd()},10):jindo.m.attachTransitionEnd(t,this._wfTransitionEnd)}},_detachTarnsitonEnd:function(){this._elTransition&&(jindo.m.detachTransitionEnd(this._elTransition,this._wfTransitionEnd),this._elTransition=null)},getIndexByElement:function(t){for(var e=-1,n=0,i=this._htWElement.aPanel.length;i>n;n++)if(this._htWElement.aPanel[n].$value()===t){e=n;break}return e},getElement:function(){return this._htIndexInfo.welElement},getContentElement:function(){return this.getElement()},getContentIndex:function(){return this._htIndexInfo.nContentIndex},getNextElement:function(){var t=this.getNextIndex();return this.option("bUseCircular")&&(t=this.getIndexByElement(this.getElement().$value()),t=t+1>2?0:t+1),this._htWElement.aPanel[t]},getPrevElement:function(){var t=this.getPrevIndex();return this.option("bUseCircular")&&(t=this.getIndexByElement(this.getElement().$value()),t=0>t-1?2:t-1),this._htWElement.aPanel[t]},getTotalContents:function(){var t=this._htWElement.aPanel.length;return this.option("bUseCircular")&&(t="undefined"==typeof this.option("nTotalContents")?3:this.option("nTotalContents")),t},getTotalPanels:function(){return this.option("bUseCircular")?3:this.getTotalContents()},getPanels:function(){return this._htWElement.aPanel},getPrevIndex:function(){var t=this.getContentIndex()-1;return this.option("bUseCircular")&&0>t&&(t=this.getTotalContents()-1),t=Math.max(0,t)},getNextIndex:function(){var t=this.getContentIndex()+1,e=this.getTotalContents()-1;return this.option("bUseCircular")&&t>e&&(t=0),t=Math.min(e,t)},_onTransitionEnd:function(){},_setAnchorElement:function(){this._bClickBug&&(this._aAnchor=jindo.$$("A",this._htWElement.container.$value()))},_clearAnchor:function(){if(this._aAnchor&&!this._bBlocked){for(var t=null,e=0,n=this._aAnchor.length;n>e;e++){this._fnDummyFnc!==this._aAnchor[e].onclick&&(this._aAnchor[e]._onclick=this._aAnchor[e].onclick),this._aAnchor[e].onclick=this._fnDummyFnc,t=this._aAnchor[e].___listeners___||[];for(var i=0,o=t.length;o>i;i++)___Old__removeEventListener___.call(this._aAnchor[e],"click",t[i].listener,t[i].useCapture)}this._bBlocked=!0}},_restoreAnchor:function(){if(this._aAnchor&&this._bBlocked){for(var t=null,e=0,n=this._aAnchor.length;n>e;e++){this._aAnchor[e].onclick=this._fnDummyFnc!==this._aAnchor[e]._onclick?this._aAnchor[e]._onclick:null,t=this._aAnchor[e].___listeners___||[];for(var i=0,o=t.length;o>i;i++)___Old__addEventListener___.call(this._aAnchor[e],"click",t[i].listener,t[i].useCapture)}this._bBlocked=!1}},_onActivate:function(){this._attachEvent(),this._setAnchorElement(),this._oTouch.activate()},_onDeactivate:function(){this._detachEvent(),this._oTouch.deactivate()},_attachEvent:function(){this._htEvent={},this._htEvent.touchMove=jindo.$Fn(this._onMove,this).bind(),this._htEvent.touchEnd=jindo.$Fn(this._onEnd,this).bind(),this._htEvent.touchStart=jindo.$Fn(this._onStart,this).bind(),this._oTouch.attach("touchStart",this._htEvent.touchStart),this._oTouch.attach("touchMove",this._htEvent.touchMove),this._oTouch.attach("touchEnd",this._htEvent.touchEnd),this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind(),jindo.m.bindRotate(this._htEvent.rotate),jindo.m.bindPageshow(this._htEvent.rotate)},_detachEvent:function(){this._oTouch.detachAll(),jindo.m.unbindRotate(this._htEvent.rotate),jindo.m.unbindPageshow(this._htEvent.rotate);for(var t in this._htEvent){var e=this._htEvent[t];"undefined"!=typeof e.ref&&e.ref.detach(e.el,t)}this._htEvent=null},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null,this._oTouch=null,this._o_FlickingAnimation_=null;for(var e in this._htIndexInfo)this._htIndexInfo[t]=null;this._isIos=null,this._bAndroid=null,this._nVersion=null,this._fnDummyFnc=null,this._doFlicking=null,this._bClickBug=null,this._b3dExecption=null,this._bDummyTagException=null}}).extend(jindo.m.UIComponent);
function trim_space(e){var t=/^ */,n=/ *$/;return e=e.replace(t,""),e=e.replace(n,"")}function urlencode(e){return escape(e).replace(/\+/g,"%2B")}function bt(e,t){document.getElementById(e).src=t}function cpip(){var e,t,n=sy=px=py=cn=-1;try{t=window.event}catch(o){}try{n=t.clientX-document.body.clientLeft,sy=t.clientY-document.body.clientTop}catch(o){}try{px=document.body.scrollLeft+(0>n?0:n),py=document.body.scrollTop+(sy<0?0:sy)}catch(o){}try{t.pageX&&(px=t.pageX),t.pageY&&(py=t.pageY)}catch(o){}try{void 0!=oPageLayoutUI&&oPageLayoutUI.getCurrentIndex()>=0&&(cn=oPageLayoutUI.getCurrentIndex()+1)}catch(o){}return e="px="+px+"&py="+py+"&sx="+n+"&sy="+sy,cn>=0&&(e=e+"&cn="+cn),e}function nxGetCommonCRParam(){return"p="+g_puid+"&q="+g_query+"&ssc="+g_ssc+"&f="+g_tab+"&w="+g_stab+"&s="+g_suid+"&time="+(new Date).getTime()+g_crt}function nxGetCRURL(e,t,n,o,r,a){var c,i="";return void 0==o&&void 0==r&&void 0==a?(i=(void 0==t?"":"&"+t)+(void 0==n||0==t.indexOf("u=")||t.indexOf("&u=")>0?"":"&u="+urlencode(n)),c=n):(i=(void 0==t?"":"&a="+urlencode(t))+(void 0==n?"":"&r="+urlencode(n))+(void 0==o?"":"&i="+urlencode(o))+(void 0==r?"":"&u="+urlencode(r))+(void 0==a?"":"&"+a),c=r),i?(0!=e&&(e=g_D>1&&c&&c.indexOf("://")>=0&&c.search(/^\w*:\/\/([^:/?]*\.|)*(?!(ad)?cr\.)[^.:/?]+\.+naver\.com(:\d*)?(\/|$)/)<0?2:g_crm?g_crm:0>e?0:1),(window.location.protocol&&0==window.location.protocol.indexOf("https:")?"/p/cr/":"http://cr.naver.com/")+(g_D>1&&!g_crm?"nr":"rd")+"?m="+e+"&"+cpip()+"&"+nxGetCommonCRParam()+i):null}function getCRRanking(e){if("undefined"==typeof nx_cr_area_info)return 0;var t=0;try{for(var n,o,n=e.split("&"),r=0;r<n.length;r++)if((o=n[r].split("="))&&"a"==o[0]){for(var a=0;a<nx_cr_area_info.length;a++)if(o[1].substr(0,nx_cr_area_info[a].n.length)==nx_cr_area_info[a].n){t=nx_cr_area_info[a].r;break}break}}catch(c){}return t}function goOtherCR(e,t){return goCR(e,"rd",t,!1)}function goOtherTCR(e,t){return goCR(e,"rd",t,!0)}function get_form_url(e){var t=e.getAttribute("action");null==t&&(t="");for(var n,o=0,r=0;r<e.elements.length;r++)n=e.elements[r],!n.disabled&&n.name&&(t+=(o++>0?"&":t.indexOf("?")<0?"?":t.indexOf("?")<t.length-1?"&":"")+encodeURIComponent(n.name)+"="+encodeURIComponent(n.value));return t}function formCR(e,t,n,o){"string"==typeof e&&(e=document.getElementById(e));var r=e.getAttribute("target");if(r&&"_self"!=r&&"_parent"!=r&&"_top"!=r||/^post$/i.test(e.getAttribute("method")))return tCR(t,n,o),e.submit(),!1;var a=get_form_url(e),c=document.createElement("a");c.href=a;var i=void 0!=t?"a="+t:"";return void 0!=n&&(i+=(i?"&":"")+"r="+encodeURIComponent(n)),void 0!=o&&(i+=(i?"&":"")+"id="+encodeURIComponent(o)),void 0!=a&&(i+=(i?"&":"")+"u="+encodeURIComponent(urlexpand(a))),goCR(c,"rd",i),navigator.userAgent.indexOf("MSIE")>0?(c.style.display="none",e.appendChild(c),c.click()):document.location=c.href,!1}function nx_set_cookie(e,t,n,o){var r=e+"="+escape(t);if(null!=n)if(n instanceof Date)r=r+"; expires="+n.toUTCString();else{var a=new Date((new Date).getTime()+1e3*n);r=r+"; expires="+a.toUTCString()}r+="; path=/",null!=o&&(r=r+"; domain="+o),document.cookie=r}function nx_get_cookie(e){for(var t=document.cookie.split(/\s*;\s*/),n=0;n<t.length;n++){var o=t[n].split("="),r=trim_space(o[0]),a=o[1];if(e==r)return unescape(a)}return null}function document_write(e){document.write(e)}function nx_js_lazyload(e,t,n){function o(){return 0==e.length?void t():void _nx_js_load(e.shift(),o)}if(e instanceof Array||(e=[e]),n)o();else for(var r=function(){var n=e.length;return function(){n--,0>=n&&t()}}(),a=0;a<e.length;a++)_nx_js_load(e[a],r)}function lcs_do(e){if(!t)var t="lcs.naver.com";var n,o="";try{var r=(window.location.protocol?window.location.protocol:"http:")+"//"+t+"/m?"}catch(a){return}try{o=r+"u="+encodeURIComponent(window.location.href)+"&e="+(document.referrer?encodeURIComponent(document.referrer):"")}catch(a){}try{for(var n in e)(n.length>=3&&"function"!=typeof e[n]||"qy"==n)&&(o+="&"+n+"="+encodeURIComponent(e[n]));if(lcs_cnt>0){var c=(new Date).getTime();o+="&ts="+c}if(lcs_cnt++,o+="&EOU",document.images){var i=new Image;lcs_obj.push(i),i.src=o}else document.write('<img src="'+o+'" width="1" height="1" border="0">')}catch(a){return}}"function"!=typeof encodeURIComponent&&(encodeURIComponent=function(e){function t(e){var t="0123456789ABCDEF";return"%"+t.charAt(e>>4)+t.charAt(15&e)}for(var n="",o=0;o<e.length;){var r=e.charCodeAt(o++);if(55296==(63488&r)){var a=e.charCodeAt(o++);r=(r-55296<<10)+(a-56320)+65536}n+=-128&r?-2048&r?-65536&r?t(240+(r>>18))+t(128+(r>>12&63))+t(128+(r>>6&63))+t(128+(63&r)):t(224+(r>>12))+t(128+(r>>6&63))+t(128+(63&r)):t(192+(r>>6))+t(63&r):r>=65&&90>=r||r>=97&&122>=r||r>=48&&57>=r||r>=45&&46>=r||95==r||33==r||126==r||r>=39&&42>=r?String.fromCharCode(r):t(r)}return n}),DLScript={quSXI:new Array,quS:new Array,retry:0,isLoad:function(e){for(var t=this.quS.length-1;t>=0;t--)if(this.quS[t]===e)return!0;return!1},_runOnload:function(e,t,n){if(t){var o=e.readyState;return"undefined"!=typeof o||e.onloadDone?void("loaded"!==o&&"complete"!==o||e.onloadDone?this.retry<10&&(this.retry++,setTimeout(function(){DLScript._runOnload(e,t,n)},10)):(e.onloadDone=!0,setTimeout(t,100))):(e.onloadDone=!0,void(n?setTimeout(t,100):e.onload=t))}},_createJSDom:function(e,t){var n=document.createElement("script");return"src"==t?n.src=e:n.text=e,n},_appendJSDom:function(e){document.getElementsByTagName("head")[0].appendChild(e)},loadDS:function(e,t,n,o){if(this.isLoad(e))t&&setTimeout(t,o?o:100);else{this.quS[this.quS.length]=e;var r=this._createJSDom(e,"src");this._runOnload(r,t,n),this._appendJSDom(r)}},loadXI:function(e,t,n,o){if(this.isLoad(e))n&&setTimeout(n,100);else{this.quS[DLScript.quS.length]=e;var r=this.quSXI.length;if(o){var a={response:null,onload:n,done:!1};DLScript.quSXI[r]=a}if("object"==typeof window.localStorage){try{var c=localStorage.getItem(e+"_uid"),i=localStorage.getItem(e)}catch(d){}if(i&&t&&c==t){if(o)DLScript.quSXI[r].response=i,DLScript.injectScripts();else{var u=DLScript._createJSDom(i,"text");DLScript._runOnload(u,n,!0),DLScript._appendJSDom(u)}return}}var l=DLScript.getXHRObject();if(!l)return void this.loadDS(e,n);l.onreadystatechange=function(){if(4==l.readyState)if(200==l.status||0==l.status){var a=l.responseText;try{"object"==typeof window.localStorage&&t&&(localStorage.setItem(e,a),localStorage.setItem(e+"_uid",t))}catch(c){}if(o)DLScript.quSXI[r].response=a,DLScript.injectScripts();else{var i=DLScript._createJSDom(a,"text");DLScript._runOnload(i,n,!0),DLScript._appendJSDom(i)}}else DLScript.removeUrl(e),DLScript.clearLS(),setTimeout(n,100)};var s="";t&&(s=e.indexOf("?")>0?"&"+t:"?"+t),l.open("GET",e+s,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8"),l.setRequestHeader("charset","utf-8"),l.send("")}},injectScripts:function(){for(var e=DLScript.quSXI.length,t=0;e>t;t++){var n=DLScript.quSXI[t];if(!n.done){if(!n.response)break;n.done=!0;var o=DLScript._createJSDom(n.response,"text");DLScript._runOnload(o,n.onload,!0),DLScript._appendJSDom(o)}}},getXHRObject:function(){var e=!1;try{e=new XMLHttpRequest}catch(t){for(var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0"],o=n.length,r=0;o>r;r++){try{e=new ActiveXObject(n[r])}catch(t){continue}break}}finally{return e}},loadWS:function(e){document.write('<script src="' + a + '" type="text/javascript"></scr' + 'ipt>');},clearLS:function(){if("object"==typeof window.localStorage)try{localStorage.clear()}catch(e){}},removeUrl:function(e){for(var t=this.quS.length-1;t>=0;t--)this.quS[t]===e&&(this.quS[t]="")}};var _nx_js_load=function(){var e={};return function(t,n){e[t]={},e[t].domscript=document.createElement("script"),e[t].domscript.src=t,n&&(e[t].callback=n instanceof Array?n:[n]),e[t].domscript.onloadDone=!1,e[t].domscript.onload=function(){if(e[t].domscript.onloadDone=!0,e[t].callback)for(var n=0;n<e[t].callback.length;n++)e[t].callback[n]();e[t].domscript.onload=e[t].domscript.onreadystatechange=null},e[t].domscript.onreadystatechange=function(){"loaded"!==e[t].domscript.readyState&&"complete"!==e[t].domscript.readyState||e[t].domscript.onloadDone||e[t].domscript.onload()},document.getElementsByTagName("head")[0].appendChild(e[t].domscript)}}(),nx_js_defer_load=function(){var e={};return function(t,o,r){var a=function(){return function(t){e[t].t>0?setTimeout(function(){_nx_js_load(t,e[t].callback)},r):_nx_js_load(t,e[t].callback)}}();if(0>r&&(r=0),e[t]){n=e[t].length;for(var c=0;c<n;c++)if(e[t][c]==o)return;r<e[t].t&&(e[t].t=r)}else e[t]={},e[t].callback=[],e[t].t=r,jindo.$Fn(function(){a(t)}).attach(window,"load");e[t].callback.push(o)}}(),lcs_ver="v0.4.12.l";lcs_obj=[];var lcs_cnt=0;!function(e){var t,n,o=e.document;if("undefined"==typeof BMR&&(BMR={}),!BMR.v){t={v:"t6",cN:"BMR=",bU:"",loaded:!1,aL:function(t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},sT:function(){t.sC({s:(new Date).getTime(),r:o.URL.replace(/#.*/,""),r2:o.referrer.replace(/#.*/,"")})},nT:function(){var e=[];if("undefined"==typeof window.performance)return!1;var t=window.performance,n=t.timing,o=t.navigation,r=n.navigationStart,a=o.type,c=n.fetchStart,i=n.domainLookupStart,d=n.domainLookupEnd,u=n.connectStart,l=n.connectEnd,s=n.requestStart,p=n.responseStart,f=n.responseEnd,m=(o.redirectCount,n.domLoading),h=n.domInteractive,v=n.domContentLoadedEventStart,g=n.domContentLoadedEventEnd,_=n.domComplete,S=n.loadEventStart,y=d-i,w=l-u,L=p-s,D=f-p,C=h-m,x=v-h,b=_-g;if(r>0)var R=S-r;else var R=S-c;var T=a;return e.push("l="+R),e.push("d="+y),e.push("c="+w),e.push("rq="+L),e.push("rs="+D),e.push("di="+C),e.push("dl="+x),e.push("dc="+b),e.push("n="+T),e.join("&")},cT:function(){return""},eU:function(e){return encodeURIComponent(e)},sC:function(n){var r,a="";for(r in n)n.hasOwnProperty(r)&&(a+="&"+t.eU(r)+"="+t.eU(n[r]));a=a.replace(/^&/,""),o.cookie=t.cN+a+"; path=/; domain="+e.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase()},gC:function(){var e,n,r,a,c=o.cookie+";",i={};if(!((e=c.indexOf(t.cN))>=0))return null;if(e+=t.cN.length,n=c.substring(e,c.indexOf(";",e)).split("&"),0===n.length)return null;for(e=0,r=n.length;r>e;e++)a=n[e].split("="),a.push(""),i[decodeURIComponent(a[0])]=decodeURIComponent(a[1]);return i},run:function(n){n||(n=(e.location.protocol?e.location.protocol:"http:")+"//sp.naver.com/sp");var o=function(){t.sT&&t.sT.call(),t.sT=null};t.bU=n,"onpagehide"in e?t.aL("pagehide",o):(t.aL("unload",o),t.aL("beforeunload",o)),t.aL("onpageshow"in e?"pageshow":"load",t.done)},done:function(){var e,n=(new Date).getTime(),r=0,a=[],c=o.URL.replace(/#.*/,""),i=r2=o.referrer.replace(/#.*/,""),d=t.gC(),u=t.nT(),l=t.cT();t.loaded=!0,t.sC({}),a.push(t.bU+"?v="+t.v),null!=d&&(i=d.r,i!=r2||i==d.r2&&i==c||(r=1)),1==r&&(e=n-parseInt(d.s,10),a.push("t="+e)),u&&a.push(u),l&&a.push("ct="+l),a.push("u="+t.eU(c)),a.push("r="+t.eU(i)),(1==r||u)&&t.sendBeacon(a)},sendBeacon:function(e){var t=new Image;t.src=e.join("&"),t.onload=function(){t.onload=null}}};for(n in t)t.hasOwnProperty(n)&&(BMR[n]=t[n])}}(window);

nhn=window.nhn||{},nhn.common=nhn.common||{},nhn.common.nco_area_name=function(n){var e=n.split("*");return this.sAreaName=e[0],e[0]},nhn.common.is_first_nco_area_name=function(){if("undefined"==typeof this.sAreaName)return!1;var n="sdr",e=0;return 0!==this.sAreaName.indexOf(n)&&0===nx_cr_area_info[0].n.indexOf(n)&&"undefined"!=typeof nx_cr_area_info[1]&&(e=1),nx_cr_area_info[e].n===this.sAreaName?!0:!1},nhn.common.load_js=function(n,e,a,i){"undefined"==typeof a&&(a=!0),"undefined"==typeof i&&(i=150),"undefined"==typeof this.sAreaName&&(this.sAreaName=""),"string"==typeof n?a||!this.is_first_nco_area_name()?nx_js_defer_load(n,e,i):nx_js_lazyload(n,e):a||!this.is_first_nco_area_name()?jindo.$Fn(function(){setTimeout(e,i)}).attach(window,"load"):setTimeout(e,i)};
"undefined"==typeof nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},function(t){var e=function(){this.$init()};e.prototype={$init:function(){this.EXECUTION_LIMIT=1500,this.INSTALL_DELAY=1e3,this._oAgent=this._getOS(),this._deviceInfo=function(){var t=navigator.userAgent,e={};return e.chrome25=t.match(/Chrome\/(\d+)/)&&RegExp.$1>=25,e.chrome40=t.match(/Chrome\/(\d+)/)&&RegExp.$1>=40,e.chromeCustomBrowser=/Version\/[\d+\.]+ Chrome/.test(t),e.lgIframeDevice=/LG-F(370|350|340|310|300|240)/.test(t),e.lgIframeTarget=e.chromeCustomBrowser&&e.lgIframeDevice,e}()},launch:function(t){if(this._oAgent.ios||this._oAgent.iphone){if(t.ios.redirect)return location.href=t.ios.redirect,!1;this._isIOS9()===!0?t.ios.universal||t.ios.universalFullUrl?this._launchIOSByUniversalLink(t):this._isNaverInApp()===!0?(this._installIOS(t),this._launchIOSWithFrame(t)):(this._launchIOS(t),t.ios.scheme||(location.href="https://itunes.apple.com/app/id"+t.ios.installId+"?mt=8")):(this._installIOS(t),this._launchIOSWithFrame(t))}else if(this._oAgent.android){if(t.android.redirect)return location.href=t.android.redirect,!1;t.android.appstore&&t.android.appstore.productNo&&this._isNaverInApp()===!0?this._launchAndroidWithAppStore(t):this._launchAndroid(t)}else this._printNotMatchInfo(t)},_launchAppByIframe:function(t){var e=document.createElement("iframe");e.style.display="none",e.src=t,document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},1e3)},_launchIOSByUniversalLink:function(t){t.ios.universalFullUrl?window.location.href=t.ios.universalFullUrl:window.location.href=t.ios.universal+t.ios.query},_launchIOS:function(t){return t.ios.scheme?void(window.location.href=t.ios.scheme+"://"+t.ios.query):!1},_launchIOSWithFrame:function(t){if(!t.ios.scheme)return!1;var e=t.ios.scheme+"://"+t.ios.query;this._launchAppByIframe(e)},_installIOS:function(t){var e=+new Date,i=this,n=this.INSTALL_DELAY,r="https://itunes.apple.com/app/id"+t.ios.installId+"?mt=8";t.ios.scheme||(n=0),naverAppCheckTimer=setTimeout(function(){+new Date-e<i.EXECUTION_LIMIT&&(window.location.href=r)},n)},_launchAndroid:function(t){if(!t.android.scheme)return this._launchAndroidWithIntent("market://details?id="+t.android["package"]),!1;if(this._isNaverInApp()===!0&&"naverapp"===t.android.scheme){var e=t.android.scheme+"://"+t.android.query;this._launchAndroidWithIntent(e)}else{var i="intent://"+t.android.query+"#Intent;",n=["appstore","redirect","query","fallback"];for(var r in t.android){var o=t.android[r];n.indexOf(r)<0&&o&&(i+=r+"="+o+";")}i+="end",this._launchAndroidWithIntent(i)}},_launchAndroidWithIntent:function(t){this._isNaverInApp()===!0&&parseFloat(this._oAgent.version)>=4.4?this._launchAppByIframe(t):window.location.href=t},_launchAndroidWithAppStore:function(t){var e=t.android.scheme+"://"+t.android.query;this._launchAppByIframe(e),this._moveToInstallByAppStore(t)},_moveToInstallByAppStore:function(t){var e=this,i=new Date;naverAppCheckTimer=setTimeout(function(){new Date-i<e.EXECUTION_LIMIT&&(e._launchAppByIframe("appstore://store?version=7&productNo="+t.android.appstore.productNo),e._moveToInstallByWebAppStore(t))},this.INSTALL_DELAY)},_moveToInstallByWebAppStore:function(t){var e=this,i=new Date,n=t.android.appstore.link;naverAppCheckTimer=setTimeout(function(){new Date-i<e.EXECUTION_LIMIT&&(window.location.href=n)},this.INSTALL_DELAY)},_printNotMatchInfo:function(t){var e=t.config.unsupportedMsg;e&&window.alert(e)},_getOS:function(){var t,e=navigator.userAgent,i=!1,n=!1,r=!1,o="";return e.match(/iPad/i)||e.match(/iPhone/i)?(i=!0,t=e.indexOf("OS ")):e.match(/Android/i)&&(n=!0,t=e.indexOf("Android ")),i===!0&&t>-1?o=e.substr(t+3,3).replace("_","."):n===!0&&t>-1&&(o=e.substr(t+8,3)),{ios:i,iphone:r,android:n,version:o}},_isIframeTarget:function(){var t=this._deviceInfo;return!(1!==window.g_inapp&&!t.lgIframeTarget&&t.chrome25)},_isNaverInApp:function(){return/NAVER/.test(navigator.userAgent)||window.g_inapp&&1===window.g_inapp},_isIOS9:function(){return 9===parseInt(this._oAgent.version,10)}};var i=new e,n=function(t){var e=t.getAttribute("data-confirm-msg");return e&&window.confirm(e)===!1?!1:void i.launch({ios:{scheme:t.getAttribute("data-ios-scheme"),installId:t.getAttribute("data-ios-install"),query:t.getAttribute("data-ios-query"),redirect:t.getAttribute("data-ios-redirect"),universal:t.getAttribute("data-ios-universal"),universalFullUrl:t.getAttribute("data-ios-universal-fullurl")},android:{scheme:t.getAttribute("data-android-scheme"),"package":t.getAttribute("data-android-package"),query:t.getAttribute("data-android-query"),action:t.getAttribute("data-android-action"),category:t.getAttribute("data-android-category"),redirect:t.getAttribute("data-android-redirect"),appstore:{productNo:t.getAttribute("data-appstore-productno"),link:t.getAttribute("data-appstore-link"),redirect:t.getAttribute("data-appstore-redirect")}},config:{unsupportedMsg:t.getAttribute("data-unsupported-msg")}})};t.AppLauncher=e,t.oAppLauncher=i,t.launchApp=n}(nhn.mobile);
"undefined"==typeof nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},nhn.mobile.common=nhn.mobile.common||{},nhn.mobile.common.Carousel=$Class({_CLASS_SCROLLER_SUFFIX:"_scroller",_CLASS_MORE_LINK_ELEMENT:"_circle_gauge",_CLASS_FIT_WIDTH:"_fit_width",$init:function(t,e){this._elBase=t,this._initVar(e),this._assignElement(),this.option("bActivateOnload")&&this.activate()},_initVar:function(t){var e={bActivateOnload:!0,sItemClassName:"_item",nPercentSensitive:2,nLeftSpace:0,nScrollDuration:200,bUseWrapperHeight:!0,bAutoFitWrapperHeight:!1,bAutoFitWidth:!1,elMore:$$.getSingle("."+this._CLASS_MORE_LINK_ELEMENT,this._elBase),bUseMoreAnimation:!0,nMaxItemCount:10,sItemTemplate:"",sMoreTemplate:"",sScrollbarClass:"",nScrollbarIndicatorSize:0};this.option(e),this.option(t||{}),this._nWrapperHeight=0,this._nCurrentIndex=0,this._nItemCount=0,this._nGauge=0,this._bMoreLinkScrolling=!1,this._bNotAfterScroll=!1},_assignElement:function(){var t=$Element(this._elBase),e=this.option();this._welScroller=t.query("."+this._CLASS_SCROLLER_SUFFIX)||t.first(),this._aItems=t.queryAll("."+e.sItemClassName),this._welGauge=$Element(e.elMore)},_setElementsSizeAndPosition:function(){var t=this._aItems,e=[],i=0,n=0,o=null,s=0,r=0,h=this._getSize;$A(t).forEach(function(t,a){o=$Element(t),i=h(o,"margin-left")+h(o,"margin-right")+o.width(),s+=i,e.push(n),n-=i,r=Math.max(r,o.height())}),this._aItemPosition=e,this._nWrapperHeight=r,this._welScroller.width(s)},_onActivate:function(){var t=this._oScroll;this._fitItemWidth(),this._setElementsSizeAndPosition(),this._nItemCount=this._aItems.length,t?t.activate():this._oScroll=new jindo.m.Scroll(this._elBase,{bUseVScroll:!1,bUseHScroll:!0,nDeceleration:.06,nHeight:this.option("bUseWrapperHeight")?this._nWrapperHeight:0,bAutoResize:!0,bUseDiagonalTouch:!1,bUseScrollbar:this._useScrollbar(),bUseFixedScrollbar:this._useScrollbar(),sScrollbarClass:this.option("sScrollbarClass"),nScrollbarIndicatorSize:this.option("nScrollbarIndicatorSize")}),this._attachEvent(),this._loadImage()},_attachEvent:function(){this._oScroll.attach({beforeTouchStart:$Fn(this._onBeforeTouchStart,this).bind(),beforeTouchMove:$Fn(this._onBeforeTouchMove,this).bind(),beforeTouchEnd:$Fn(this._onBeforeTouchEnd,this).bind(),touchStart:$Fn(this._onTouchStart,this).bind(),touchMove:$Fn(this._onTouchMove,this).bind(),touchEnd:$Fn(this._onTouchEnd,this).bind(),beforePosition:$Fn(this._onBeforePosition,this).bind(),position:$Fn(this._onPosition,this).bind(),rotate:$Fn(this._onRotate,this).bind(),beforeScroll:$Fn(this._onBeforeScroll,this).bind(),afterScroll:$Fn(this._onAfterScroll,this).bind()})},_detachEvent:function(){this._oScroll.detachAll()},_fitItemWidth:function(){var t=$Element(this._elBase),e=this._existMoreItem(),i=this._aItems,n=null,o=i.length,s=o-1;if($A(i).forEach($Fn(function(i,o){n=$Element(i),this._isFitWidth()||n.hasClass(this._CLASS_FIT_WIDTH)||$A.Continue(),(!e||e&&o!==s)&&n.width(t.width())},this).bind()),e){var r=this._getMoreItem();r.width(r.first().width())}},_fitItemHeight:function(){var t=$Element(this._elBase),e=this._getCurrentItem();t.height(e.height()),this._existMoreItem()&&!e.query("."+this._CLASS_MORE_LINK_ELEMENT)&&this._getMoreItem().height(e.height())},_loadImage:function(){var t=(this._aItems,this._nCurrentIndex,this._getPositionedItem()),e=[];$A(t).forEach(function(t,i){e=$Element(t).queryAll("*[data-source]"),$A(e).forEach(function(t){t.test("img")||$A.Continue(),t.attr({src:t.attr("data-source"),"data-source":null,alt:""})})})},_addItem:function(t){var e=this.option("sItemTemplate"),i=this.option("nMaxItemCount")-this._nItemCount,n=!1,o="";this._existMoreItem()||($A(t).forEach($Fn(function(t,s){s>=i?(n=!0,o+=this._getMoreItemTemplate(),$A.Break()):(this._nItemCount+=1,o+=e.replace("{=sHtml}",t))},this).bind()),!n&&""!==this.option("sMoreTemplate")&&this._isLimitedItemCount()&&(o+=this._getMoreItemTemplate()),this._welScroller.first().appendHTML(o),this._bNotAfterScroll=!0,this.refresh())},_getMoreItemTemplate:function(){var t=this.option("sItemTemplate"),e=this.option("sMoreTemplate");return""===e?"":t.replace("{=sHtml}",e)},_getPositionedItem:function(){var t=$Element(this._elBase),e=(t.width(),this._aItems),i=(-this._oScroll.getCurrentPos().nLeft||0,0),n=0,o=0,s=[];return $A(this._aItemPosition).forEach($Fn(function(t,r){i=e[r].width(),n=-t,o=n+i,this._isInnerViewport(n,o)&&s.push(e[r])},this).bind()),s},_clear:function(){this._welScroller.first().html(""),this.refresh(0)},_getMoreItem:function(){return this._welGauge.query("! ."+this.option("sItemClassName"))},_getCurrentItem:function(){return this._aItems[this._nCurrentIndex]||null},_getLastItem:function(){return this._aItems[this._aItems.length-1]||null},_getLastIndex:function(){var t=this._aItems.length-1;return 1>t?0:t},_getSize:function(t,e){return parseFloat(t.css(e),10)},_getTotalSize:function(t,e){var i=this._getSize,n=0;return $A(e).forEach(function(e){n+=i(t,e)}),n},_setGauge:function(t){var e=this._welGauge;e.css("width",100-t+"%")},_getRemainItemCount:function(){return this._nItemCount-this._nCurrentIndex},_isInnerViewport:function(t,e){var i=-this._oScroll.getCurrentPos().nLeft||0,n=i+$Element(this._elBase).width(),t=t||0,e=e||0,o=!1;return n>t&&e>i?o=!0:t>=i&&n>=e&&(o=!0),o},_isFitWidth:function(){return this.option("bAutoFitWidth")},_useScrollbar:function(){return""===this.option("sScrollbarClass")?!1:!0},_existMoreItem:function(){return this._welGauge?!0:!1},_isLimitedItemCount:function(){return this._nItemCount>=this.option("nMaxItemCount")},_onDeactivate:function(){this._detachEvent(),this._oScroll.deactivate()},_onTouchStart:function(t){var e=this;this.fireEvent("touchStart",t),this.attach("touchMove",function(t){e._bNext=t.oEvent.nDistanceX<0,e.fireEvent("clicklog-carousel",{welRoot:$Element(this._elBase),bNext:t.oEvent.nDistanceX<0}),this.detach("touchMove",arguments.callee)})},_onTouchMove:function(t){this.fireEvent("touchMove",t)},_onTouchEnd:function(t){var e=(this._welGauge,this._bMoreLinkScrolling),i=this._nGauge;this.fireEvent("touchEnd",t),e&&this._existMoreItem()&&this.option("bUseMoreAnimation")&&(100===i&&(this._nGauge=0,this._setGauge(0),this._oScroll.scrollTo(this._oScroll.getRight(),0),this.fireEvent("afterPullUp",{welRoot:$Element(this._elBase)})),this._bMoreLinkScrolling=!1)},_onBeforeScroll:function(t){var e=this._aItemPosition,i=t.nNextLeft,n=t.nDistanceX,o=this._nCurrentIndex;if(0>n){for(var s=0;s<e.length;s++)if(i>=e[s]){o=s;break}}else if(n>0)for(var s=e.length;s>0;s--){if(i<=e[s]){o=s;break}o=0}else if(0===n)return;t.nNextLeft=Math.max(Math.min(0,e[o]-this.option("nLeftSpace")),this._oScroll.getRight()),t.nTime=this.option("nScrollDuration"),t.nNextIndex=o,this._nCurrentIndex=o,this.fireEvent("beforeScroll",t)},_onAfterScroll:function(t){var e=this._nCurrentIndex;if(this._loadImage(),this._bNotAfterScroll)return void(this._bNotAfterScroll=!1);if(this.option("bAutoFitWrapperHeight")&&this._fitItemHeight(),this._existMoreItem()&&this.option("bUseMoreAnimation")&&this._setGauge(0),t.welCurrentItem=this._getCurrentItem(),t.nIndex=e,t.aPositionedItem=this._getPositionedItem(),t.bNext=this._bNext,this.fireEvent("afterScroll",t),!this._isLimitedItemCount()){var i=this._getPositionedItem().length,n=this._getRemainItemCount()-i;i>=n&&(t.welLastItem=this._getLastItem(),t.welCurrentItem=this._getCurrentItem(),t.nCurrentIndex=this._nCurrentIndex,t.nLastIndex=this._getLastIndex(),this.fireEvent("moreItem",t))}},_onBeforePosition:function(t){this.fireEvent("beforePosition",t)},_onBeforeTouchStart:function(t){this.fireEvent("beforeTouchStart",t)},_onBeforeTouchMove:function(t){this.fireEvent("beforeTouchMove",t)},_onBeforeTouchEnd:function(t){this.fireEvent("beforeTouchEnd",t)},_onPosition:function(t){var e=t.nLeft,i=t.nMaxScrollLeft,n=(this._welGauge,0),o=this._nGauge;this._existMoreItem()&&this.option("bUseMoreAnimation")&&i>e&&(this._bMoreLinkScrolling=!0,n=Math.abs(e)-Math.abs(i),o=Math.min(n*this.option("nPercentSensitive"),100),this._setGauge(o)),this._nGauge=o,this.fireEvent("position",t)},_onRotate:function(t){this._bNotAfterScroll=!0,this.refresh(),this.fireEvent("rotate",t)},getCurrentItem:function(){return this._getCurrentItem()},getLastItem:function(){return this._getLastItem()},getPositionedItem:function(){return this._getPositionedItem()},getIndex:function(){return this._nCurrentIndex},getLastIndex:function(){return this._getLastIndex()},optionSetter:function(t){return this.option(t),this},addItem:function(t){return t=t||[],this._addItem(t),this},clear:function(){return this._clear(),this.fireEvent("endClear",{nCurrentIndex:this.getIndex()}),this},moveTo:function(t,e){var i=0===t?0:this.option("nLeftSpace");return e=isNaN(e)?this.option("nScrollDuration"):e,this._nCurrentIndex=t,this._oScroll.scrollTo(this._aItemPosition[t]-i,0,e),this},movePrev:function(t){var t=isNaN(t)?this.option("nScrollDuration"):t,e=this.getIndex();return 0>=e?this:(this.moveTo(e-1,t),this)},moveNext:function(t){var t=isNaN(t)?this.option("nScrollDuration"):t,e=this.getIndex();return e>this.getLastIndex()?this:(this.moveTo(e+1,t),this)},refresh:function(t){var e=$Element(this._elBase);return t=void 0!==t?t:this._nCurrentIndex,this._aItems=e.queryAll("."+this.option("sItemClassName")),this._welGauge=e.query("."+this._CLASS_MORE_LINK_ELEMENT),this._nItemCount=this._aItems.length,this._fitItemWidth(),this._setElementsSizeAndPosition(),this._bNotAfterScroll=!0,this._oScroll.height(e.height()),this.moveTo(t,0),this},destroy:function(){return this.deactivate(),this._oScroll.destroy(),this}}).extend(jindo.m.UIComponent);
(function(a,b,c){var d=b.performance,e=b.history,f=b.location,g=b.JSON,h="___persist___",i="KEY"+h,j=d&&d.navigation&&d.navigation.type===(d.navigation.TYPE_BACK_FORWARD||2),k="replaceState"in e&&"state"in e,l=function(){if(!k){if("sessionStorage"in b){var a="__tmp__"+h;return sessionStorage.setItem(a,h),sessionStorage.getItem(a)===h?sessionStorage:localStorage}return localStorage}}();b.Persist=a.$Class({$init:function(){this._isPersisted=b[h]===!0,!j&&this._reset(),a.$Fn(this._onPageShow,this).attach(b,"pageshow")},_onPageShow:function(a){this._isPersisted=this._isPersisted||a.$value()&&a.$value().persisted,!this._isPersisted&&j?this.fireEvent("persist",{state:this._getStateByKey(i)}):this._reset()},_reset:function(){this._setState(null)},_getState:function(){if(k)return g.parse(e.state);var a=l.getItem(f.href+h);return a&&a.length>0?g.parse(a):null},_getStateByKey:function(a){var b=this._getState();return b?b[a]:null},_setState:function(a){k?e.replaceState(g.stringify(a),c.title,f.href):a?l.setItem(f.href+h,g.stringify(a)):l.removeItem(f.href+h),b[h]=a?!0:null},_setStateByKey:function(a,b){var c=this._getState();c||(c={},c[i]=null),c[a]=b,this._setState(c)},persist:function(a){var b,c;return"string"==typeof a?(b=a,c=2===arguments.length?arguments[1]:null):(b=i,c=1===arguments.length?a:null),c&&this._setStateByKey(b,c),this._getStateByKey(b)}}).extend(a.m.Component)}(jindo,window,document));

"undefined"==typeof nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},nhn.mobile.search=nhn.mobile.search||{},nhn.mobile.search.related_search_word=nhn.mobile.search.related_search_word||{},nhn.mobile.search.related_search_word.Main=$Class({$init:function(t){var e=$Fn(this._onRotate,this).bind();this.option({nMaxRow:2}),this.option(t),this._isFold=!0,this._nMaxRow=this.option("nMaxRow"),this._welRoot=$Element(this.option("elRoot")),this._welBx=this._welRoot.query("._bx"),this._welContainer=this._welRoot.query("._keyword"),this._sToggleHTML=this._welRoot.query("._bt_more").outerHTML().replace(/display *: *none/,""),this._oTpl=$Template(this.option("sTemplate")),this._oPersist=new Persist,$Agent().os().ios&&"onorientationchange"in window?$Element(window).attach("orientationchange",e):$Element(window).attach("resize",e),$Element(window).attach("pageshow",$Fn(this._onPageshow,this).bind()),this._welRoot.attach("click@._bt_more",$Fn(this._onToggleClick,this).bind()),this._welBx.attr("style",""),this.draw(),"unfold"===this._oPersist.persist(this.option("sPersistKey"))&&this.unfold()},fold:function(){this._isFold=!0,this._welRoot.removeClass("open").query("._bt_more").text("펼치기"),this.draw()},unfold:function(){this._isFold=!1,this._welRoot.addClass("open").query("._bt_more").text("접기"),this.draw()},isFolded:function(){return this._isFold},toggle:function(){this.isFolded()?this.unfold():this.fold(),this._oPersist.persist(this.option("sPersistKey"),this.isFolded()?"fold":"unfold")},draw:function(){this.isFolded()?this._drawAtFold():this._drawAtUnfold()},_drawAtFold:function(){var t,e,i=this._welContainer,o=this.option("aData"),s=o.length,n=this._nMaxRow,h=1,l=[];i.html(this._oTpl.process({sQuery:"A",sArea:"",nIndex:0,nTotal:s,nMaxRow:n,nRow:h})),this._nHPR=i.height(),i.html(""),$A(o).forEach(function(o,a){var r=o[0],d=o[1];t=this._oTpl.process({sQuery:r,sArea:d,nIndex:a,nTotal:s,nMaxRow:n,nRow:h}),h>n?l.push(t):i.appendHTML(t),h=this._getRow(),!e&&h>n&&(e=i.last())},this),l.length&&i.appendHTML(l.join("")),i.appendHTML(this._sToggleHTML),n>=h&&this._welRoot.query("._bt_more").hide(),this._limitRowCount(e)},_drawAtUnfold:function(){var t=this.option("sEllipsisPosition");$A(this._welContainer.queryAll("._a[data-query]")).forEach(function(t){t.text(t.attr("data-query"))}),$ElementList(this._welContainer.queryAll("._ic, ._a")).attr("style",""),t&&$A(this._welContainer.queryAll("._a")).forEach(function(e){e.addClass("clip"),"front"===t?this._applyEllipsisAtFront(e):"middle"===t&&this._applyEllipsisAtMiddle(e)},this)},_limitRowCount:function(t){var e,i,o=this._nMaxRow;if(t&&(t.hasClass("_ic")&&(t.hide(),t=t.prev()),t.hasClass("_a"))){for(e=t.text(),t.attr("data-query",e),i=e.length-1;i>0;i--)if(t.text(e.substr(0,i)+"..."),this._getRow()===o){this._welellipsis=t;break}this._getRow()>o&&(t.text(e).removeClass("basic_show").attr({"data-query":null,style:"display:none"}),t=t.prev()),this._getRow()>o?this._limitRowCount(t):t.hasClass("_ic")&&t.hide()}},_getRow:function(){return Math.round(this._welBx.height()/this._nHPR)},_applyEllipsisAtFront:function(t){var e,i,o,s,n,h,l="...",a=0;if(e=t.text(),s=o=e.length,h=t.$value().offsetHeight-a,n=t.text("A").$value().offsetHeight-a,i=e,1.5*n>h)return void t.text(e);for(h=1.5*n+1,s=l.length,t.attr("data-query",e);h>1.5*n&&(h=t.text(l+e.substring(s,o)).$value().offsetHeight-a,i=t.text(),s+=1,!(s>o)););t.text(i)},_applyEllipsisAtMiddle:function(t){var e,i,o,s,n,h,l,a,r="...",d=0;if(e=t.text(),s=o=e.length,h=t.$value().offsetHeight-d,n=t.text("A").$value().offsetHeight-d,i=e,1.5*n>h)return void t.text(e);if(h=1.5*n+1,s=o-r.length,s%2===1&&s--,0>s)return void t.text(e);for(a=s/2,l=a+s%2,t.attr("data-query",e);h>1.5*n&&(h=t.text(e.substring(0,l)+r+e.substring(o-a,o)).$value().offsetHeight-d,i=t.text(),s--,s%2===1&&s--,a=s/2,l=a+s%2,!(s>o||0>s)););t.text(i)},_onToggleClick:function(t){this.toggle()},_onPageshow:function(t){t.$value().persisted&&setTimeout($Fn(function(){this.draw()},this).bind(),0)},_onRotate:function(t){this.draw()}}).extend(jindo.m.Component),nhn.mobile.search.related_search_word.Main.VERSION="1.0.2";
!function(){var t=$Class({$init:function(t,e){var i={sItemSelector:"._item",bUseInteraction:!0,nVirtualMargin:0,elSlideIndicator:null};this.option(i),this.option(e||{}),this._initVars(t),this._initComponent(),this._attachEvent(),this._startup()},_initVars:function(t){this._welBase=jindo.$Element(t),this._welScroller=this._welBase.first(),this._waelItem=jindo.$A(jindo.$$(this.option("sItemSelector"),this._welBase)),this._nSelectedIndex=Math.max(this._waelItem.indexOf(jindo.$$.getSingle(this.option("sItemSelector")+".on",this._welBase)),0),this._welIndicator=jindo.$Element(this.option("elSlideIndicator")),this._nIndicatorWidth=this._welIndicator?parseInt(this._welIndicator.css("width"),10):0},_preprocessToInitializingScroll:function(){var t=parseInt(this._welScroller.css("padding-left"),10)||0,e=parseInt(this._welScroller.css("padding-right"),10)||0,i=t;this._waItem=this._waelItem.map(function(t,e){var n=jindo.$Element(t),o=parseFloat(n.css("width")),s=i,l=s+o/2,r=s+o;return i=r,{elItem:t,welItem:n,sText:jindo.$S(n.text()).trim().toString(),nIndex:e,nLeft:s,nCenter:l,nRight:r,nWidth:o}},this),this._setScrollerWidth(Math.ceil(i+e))},_setScrollerWidth:function(t){var e=t||this._nScrollerWidth;this._welScroller.width(Math.max(this._welBase.width(),e)),this._nScrollerWidth=e},_initComponent:function(){this._preprocessToInitializingScroll(),this._oHScroll=new jindo.m.Scroll(this._welBase,{bUseHScroll:!0,bUseVScroll:!1,bUseScrollbar:!1,bAutoResize:!0}),this._welIndicator&&(this._oMorphForIndicator=new jindo.m.Morph({fEffect:jindo.m.Effect.easeOut}))},_attachEvent:function(){var t=!!this.option("bUseInteraction");this._oHScroll.attach("rotate",jindo.$Fn(function(){this._setScrollerWidth(),t&&setTimeout(jindo.$Fn(function(){this.moveTo()},this).bind(),0)},this).bind()),t&&(this._oHScroll.attach("afterScroll",jindo.$Fn(function(){!!this._welIndicator&&this._moveIndicator(!0)},this).bind()),this._welBase.preventTapHighlight(!0).delegate("click",this.option("sItemSelector")+" a",jindo.$Fn(function(t){var e=this._waelItem.indexOf(jindo.$$.getSingle("!"+this.option("sItemSelector"),t.element));this.fireEvent("beforeSelect",this._waItem.get(e))&&(t.stopDefault(),this.moveTo(e,!0),this.fireEvent("select",this._waItem.get(e)))},this).bind()))},_startup:function(){!!this._nSelectedIndex&&this.moveTo(this._nSelectedIndex),this._welIndicator&&(this._welIndicator.css({position:"absolute",left:-1*this._nIndicatorWidth+"px"}).show(),this._moveIndicator(!1))},_needToScroll:function(t){var e=Math.abs(this._oHScroll.getCurrentPos().nLeft),i=this.option("nVirtualMargin"),n=e+i,o=e+this._oHScroll.width()-i,s=this._oHScroll.getCurrentPos().nLeft===this._oHScroll.getLeft(),l=this._oHScroll.getCurrentPos().nLeft===this._oHScroll.getRight();return s&&t.nRight>o||l&&t.nLeft<n||!s&&!l&&(t.nLeft<n||t.nRight>o)},_moveIndicator:function(t){var e=this._waItem.get(this._nSelectedIndex).nCenter+this._nIndicatorWidth/2+this._oHScroll.getCurrentPos().nLeft;t?this._oMorphForIndicator.clear().pushAnimate(200,[this._welIndicator,{"@transform":"translate("+e+"px, 0)"}]).play():this._welIndicator.css("transform","translate("+e+"px, 0)")},getTotalCount:function(){return this._waItem.length()},getSelectedIndex:function(){return this._nSelectedIndex},getItem:function(){var t,e=-1;if(0===arguments.length)return this._waItem.$value();switch(t=arguments[0],typeof t){case"number":case"string":case"object":this._waItem.forEach(jindo.$Fn(function(i){(i.nIndex===t||i.sText===t||i.elItem===t||i.elItem===(t instanceof $Element&&t.$value()))&&(e=i.nIndex)},this).bind());break;default:e=this._nSelectedIndex}return this._waItem.get(e)},moveTo:function(t,e){var i,n,o,s,l,r=this.getItem(t),h=e?300:0;arguments.length>0&&(i=this.getItem(this._nSelectedIndex),n=i.nWidth,o=r.nWidth,i.welItem.removeClass("on"),r.welItem.addClass("on"),s=parseFloat(i.welItem.css("width")),l=parseFloat(r.welItem.css("width")),(n!==s||o!==l)&&(this._preprocessToInitializingScroll(),this.refresh(!0)),this._nSelectedIndex=r.nIndex),this._needToScroll(r)?this._oHScroll.scrollTo(Math.max(0,r.nCenter-this._welBase.width()/2),0,h):!!this._welIndicator&&this._moveIndicator(e)},refresh:function(t){this._oHScroll.refresh(t)}}).extend(jindo.m.Component);"undefined"!=typeof module&&module.exports&&(module.exports=t),"undefined"!=typeof nhn.mobile&&(nhn.mobile.common=nhn.mobile.common||{},nhn.mobile.common.ScrollTab=t)}();