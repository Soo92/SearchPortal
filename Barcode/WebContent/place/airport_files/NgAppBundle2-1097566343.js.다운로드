(function(){angular.module("bgApp","ui.router ngSanitize ngTouch bgConfig bgBlogHome.controller bgGuestbook.controller bgGuestbookReport.controller bgBuddyList.controller bgSympathyHistoryList.controller bgNaverCommentList.controller bgFeedList.controller bgReadHistoryList.controller bgBlogAppAd.directive bgExternalAppAd.directive bgSimpleHeader.directive bgSectionSearch.controller bgBlogSearch.controller bgBlogTagDetail.controller bgBlogTagView.controller bgRecommendation.controller bgDirectoryKeywordPost.controller bgNews.controller bgPostUpdateSetInfo.controller bgBusiness.controller bgBuddyGroupAddForm.controller bgBuddyGroupMoveForm.controller bgBuddyAddForm.controller bgBuddyAddComplete.controller bgBothBuddyInviteComplete.controller bgBuddyModifyForm.controller bgBothBuddyModifyForm.controller bgBothBuddyRequestToMeList.controller bgBothBuddyRejectForm.controller bgBothBuddyReportForm.controller bgBothBuddyAcceptForm.controller bgLinkShare.controller _template_cache_ bgOfficialBlog.controller bgPopularBlogGroupViewList.controller bgRookieBlogList.controller bgThemeBlogGroupViewList.controller bgInterestingBlogViewList.controller".split(" "))})();
(function(){var e=angular.module("bgBlogHome.controller","bgNotice.controller bgPostList.controller bgIntroduce.controller bgPopularPostBlock.controller bgReputation.controller bgTalkTalk.controller bgError.controller bgExternalChannel.controller bgExternalPost.controller bgCategoryList.controller bgDrawerMenu.directive bgNeedLogin.directive bgNclick.directive bgHiddenHeader.directive bgFullLayer.directive bgBlockLayoutService.service bgUsainClient.service bgPersist.service bgNilSender.service bgLcs.service blogCommonHelper.services bgBuddyAdd.service bgShareSNSModal.service bgLocalStorage.service bgNaverApp.service bgBlogUser.model bgBlog.model bgBusiness.model".split(" "));
e.config(["$stateProvider","$urlRouterProvider","lazyImgConfigProvider",function(d,a,b){b.setOptions({offset:100});d.state("postList",{url:"/PostList.nhn?blogId\x26logCode\x26categoryNo\x26currentPage\x26positionLogNo\x26listStyle\x26napp",templateUrl:"/html/ngapp/post/BlogHome.html",controller:"blogHomeCtrl",controllerAs:"blogHomeCtrl"}).state("postListPermalink",{url:"/{blogId:[^./]+}?logCode\x26categoryNo\x26currentPage\x26positionLogNo\x26listStyle\x26napp",templateUrl:"/html/ngapp/post/BlogHome.html",
controller:"blogHomeCtrl",controllerAs:"blogHomeCtrl"});a.when(/^\/([^.\/]+)\/([0-9]+)$/i,["$match",function(a){location.href=a[0]}])}]);e.controller("blogHomeCtrl",["$rootScope","$scope","$document","$stateParams","$q","$window","$timeout","ERROR_MESSAGE","blogModel","blogUserModel","businessModel","blockLayoutService","errorRedirect","UsainClient","nilSender","lcsService","buddyAdder","bgShareSNSModal","categoryListModal","bgConst.urlMap","representPostRedDotService","naverAppAddButtonService",
"NaverAppViewService",function(d,a,b,f,l,g,m,p,e,k,n,q,w,v,u,h,t,y,D,B,x,E,F){function G(){var b=[];angular.forEach(A.blockLayoutList,function(f){if("cover"!=f.type){var d=l.defer();a.$on("blogHomeCtrl:activate:"+f.type,function(){d.resolve()});b.push(d.promise)}});l.all(b).then(function(){(new v).send("bloghomeactivate");f.categoryNo&&m(function(){a.$broadcast("scrollTo:setScrollToPostList",f.positionLogNo)})})}var A=this,H=f.blogId;A.loaded=!1;A.blogId=f.blogId;b=f.napp||"";A.blogUrlForNaverApp=
B.https_nmobile+"/"+H;var z=new F(b);A.isNaverAppAddBtnHide=z.isNaverAppAddBtnHide();(function(){var a=e.getBlog(f.blogId).then(function(a){A.blog=d.blog=a}),b=k.getBlogUser(f.blogId).then(function(a){A.blogUser=a}),t=n.getBusinessInfo(f.blogId).then(function(a){a.error||(A.hasBusinessInfo=a.existBusinessInfo&&a.setBusiness)}),v=q.getBlockLayout(f.blogId).then(function(a){a.error?A.blockLayoutList=a:(A.blockLayoutList=a.blockLayoutList,G())});l.all([a,b,v,t]).then(function(){A.blog.error||A.blogUser.error||
A.blockLayoutList.error?m(function(){confirmLayer(p.errorConfirmRefresh.message,function(){g.location.reload()},function(){g.history.back()})},0):A.blog.mylogBlock?w.alertAngBackBlogBlock():(A.loaded=!0,u.sendCV(f.blogId,A.blog.relationType,A.blogUser.statAllowYn,"post_list"),h.lcs_do_url(B.nmobile+"/PostList.nhn?blogId\x3d"+f.blogId),m(function(){E.init()}))})})();A.getLayoutTemplate=function(a){return q.getPath(a)};A.isRegoBlock=function(a){return q.isRegoBlock(a)};A.getProfileImage=function(){if(A.blog)return A.blog.encodedProfileImagePath?
A.blog.encodedProfileImagePath+"?type\x3ds1":"http://static.naver.net/blog/img_default2.gif"};A.getOriginalProfileImage=function(){if(A.blog)return A.blog.encodedProfileImagePath?A.blog.encodedProfileImagePath:"http://static.naver.net/blog/img_default2.gif"};A.addBuddy=function(){t.goAddBuddyForm(H)};A.bothBuddyModify=function(){t.goBothBuddyModifyForm(H)};A.addBothBuddy=function(){t.goModifyBuddyForm(H)};A.openShareLayer=function(){y.activate()};A.isDefaultCover=function(){var a=A.getCoverBlockLayout();
return a&&q.isDefaultCover(a)};A.isFullCover=function(){var a=A.getCoverBlockLayout();return a&&q.isFullCover(a)};A.isSimpleCover=function(){var a=A.getCoverBlockLayout();return a&&q.isSimpleCover(a)};A.isCenterAlignCover=function(){var a=A.getCoverBlockLayout();return a&&q.isCenterAlignCover(a)};A.getCoverBlockLayout=function(){if(A.blockLayoutList)return A.blockLayoutList[0]};A.showCategoryList=function(){D.activate()};A.getMobileTitleImage=function(){if(A.blog&&A.blog.mobileTitleImage)return A.blog.mobileTitleImage.croppedImage};
A.getPreviewMobileTitleImageStyle=function(){if(A.blog&&A.blog.mobileTitleImage)return"url("+A.blog.mobileTitleImage.previewImage+")"};A.isShowNewIcon=function(){return A.blog.blogOwner?x.isShow(A.blog.blogId):!1};A.noMoreNewIcon=function(){if(A.blog.blogOwner)return x.noMoreShow(A.blog.blogId)};A.isBlockLayoutHide=function(a){return z.isBlockLayoutHide(a)};A.fromNaverMain=function(){return z.fromNaverMain()};A.isClosedNaverAppAdditionLayer=function(){return z.isClosedNaverAppAdditionLayer()};A.closeNaverAppAdditionLayer=
function(){z.closeNaverAppAdditionLayer()}}])})();
(function(){var e=angular.module("bgLazyImg.directive",[]);e.factory("LazyImgMagic",["$window","$rootScope","lazyImgConfig","lazyImgHelpers",function(d,a,b,f){function l(){for(var a=w.length-1;0<=a;a--){var b=w[a];b&&f.isElementInView(b.$elem[0],u.offset,n)&&(e(b),w.splice(a,1))}0===w.length&&p()}function g(a){y.forEach(function(b){b[a]("scroll",h);b[a]("touchmove",h)});q[a]("resize",h);q[a]("resize",t)}function m(){v=!0;setTimeout(function(){l();g("on")},1)}function p(){v=!1;g("off")}function e(b){var f=
new Image;f.onerror=function(){u.errorClass&&b.$elem.addClass(u.errorClass);a.$emit("lazyImg:error",b);u.onError(b)};f.onload=function(){var f=b.$elem,d=b.src;"img"===f[0].nodeName.toLowerCase()?f[0].src=d:f.css("background-image",'url("'+d+'")');u.successClass&&b.$elem.addClass(u.successClass);a.$emit("lazyImg:success",b);u.onSuccess(b)};f.src=b.src}function k(a){this.$elem=a}var n,q,w,v,u,h,t,y;w=[];v=!1;u=b.getOptions();q=angular.element(d);n=f.getWinDimensions();t=f.throttle(function(){n=f.getWinDimensions()},
60);y=[u.container||q];h=f.throttle(l,30);k.prototype.setSource=function(a){this.src=a;w.unshift(this);v||m()};k.prototype.removeImage=function(){var a=w.indexOf(this);-1!==a&&w.splice(a,1);0===w.length&&p()};k.prototype.checkImages=function(){l()};k.addContainer=function(a){p();y.push(a);m()};k.removeContainer=function(a){p();y.splice(y.indexOf(a),1);m()};return k}]);e.provider("lazyImgConfig",function(){this.options={offset:100,errorClass:null,successClass:null,onError:function(){},onSuccess:function(){}};
this.$get=function(){var d=this.options;return{getOptions:function(){return d}}};this.setOptions=function(d){angular.extend(this.options,d)}});e.factory("lazyImgHelpers",["$window",function(d){return{isElementInView:function(a,b,f){a=a.getBoundingClientRect();var d=f.height+b;return 0<a.width&&0<=a.left&&a.left<=f.width+b&&(0<=a.top&&a.top<=d||a.bottom<=d&&a.bottom>=0-b)},getWinDimensions:function(){return{height:d.innerHeight,width:d.innerWidth}},throttle:function(a,b,f){var d,g;return function(){var m=
f||this,p=+new Date,e=arguments;d&&p<d+b?(clearTimeout(g),g=setTimeout(function(){d=p;a.apply(m,e)},b)):(d=p,a.apply(m,e))}}}}]);e.directive("bgLazyImg",["$rootScope","LazyImgMagic",function(d,a){return{link:function(b,f,l){var g=new a(f);l.$observe("bgLazyImg",function(a){a&&g.setSource(a)});b.$on("$destroy",function(){g.removeImage()});d.$on("lazyImg:runCheck",function(){g.checkImages()});d.$on("lazyImg:refresh",function(){g.checkImages()})},restrict:"A"}}]).directive("bgLazyImgContainer",["LazyImgMagic",
function(d){return{link:function(a,b){d.addContainer(b);a.$on("$destroy",function(){d.removeContainer(b)})},restrict:"A"}}])})();
(function(){var e;e=angular.module("infinite-scroll",[]);e.value("THROTTLE_MILLISECONDS",250);e.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(d,a,b,f){return{scope:{infiniteScroll:"\x26",infiniteScrollContainer:"\x3d",infiniteScrollDistance:"\x3d",infiniteScrollDisabled:"\x3d",infiniteScrollUseDocumentBottom:"\x3d",infiniteScrollListenForEvent:"@",infiniteScrollReverse:"\x3d"},link:function(l,g,m){var p,e,k,n,q,w,v,u,h,t,y,D,B,x,E;E=angular.element(a);
n=k=D=y=null;u=!0;x=!1;B=null;scrollReverse=e=!1;v=function(a){a=a[0]||a;return isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight};h=function(a){if(a[0].getBoundingClientRect&&!a.css("none"))return a[0].getBoundingClientRect().top+t(a)};t=function(a){a=a[0]||a;return isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset};w=function(){var a,f;if(n===E)a=scrollReverse?t(n[0].document.documentElement):v(n)+t(n[0].document.documentElement),
f=scrollReverse?h(g):h(g)+v(g);else{if(scrollReverse)throw Error("only window container supports reverse scroll.");a=v(n);f=0;void 0!==h(n)&&(f=h(n));f=h(g)-f+v(g)}x&&(f=v((g[0].ownerDocument||g[0].document).documentElement));if((scrollReverse?a-f:f-a)<=v(n)*y+1&&D&&(-1==F||G<F)){if(G++,k=!0,D)return l.$$phase||d.$$phase?l.infiniteScroll():l.$apply(l.infiniteScroll)}else return e&&b.cancel(e),k=!1};q=function(a,f){var d,g,l;l=null;g=0;d=function(){g=(new Date).getTime();b.cancel(l);l=null;a.call();
return null};return function(){var m,k;m=(new Date).getTime();k=f-(m-g);if(0>=k)return clearTimeout(l),b.cancel(l),l=null,g=m,a.call();if(!l)return l=b(d,k,1)}};null!=f&&(w=q(w,f));l.$on("$destroy",function(){n.unbind("scroll",w);if(null!=B)return B(),B=null});q=function(a){return y=parseFloat(a)||0};handleInfiniteScrollReverse=function(a){return scrollReverse=a||!1};l.$watch("infiniteScrollDistance",q);q(l.infiniteScrollDistance);q=function(a){if((D=!a)&&k)return k=!1,w()};l.$watch("infiniteScrollDisabled",
q);q(l.infiniteScrollDisabled);q=function(a){return x=a};l.$watch("infiniteScrollUseDocumentBottom",q);q(l.infiniteScrollUseDocumentBottom);p=function(a){null!=n&&n.unbind("scroll",w);n=a;if(null!=a)return n.bind("scroll",w)};handleInfiniteScrollReverse(l.infiniteScrollReverse);var F=-1,G=0;null!=m.infiniteScrollLimitCount&&l.$watch(m.infiniteScrollLimitCount,function(a){F=parseInt(a);G>=F&&(D=!1)});p(E);l.infiniteScrollListenForEvent&&(B=d.$on(l.infiniteScrollListenForEvent,w));q=function(a){if(null!=
a&&0!==a.length){a instanceof HTMLElement?a=angular.element(a):"function"===typeof a.append?a=angular.element(a[a.length-1]):"string"===typeof a&&(a=angular.element(document.querySelector(a)));if(null!=a)return p(a);throw new Exception("invalid infinite-scroll-container attribute.");}};l.$watch("infiniteScrollContainer",q);q(l.infiniteScrollContainer||[]);null!=m.infiniteScrollParent&&p(angular.element(g.parent()));null!=m.infiniteScrollImmediateCheck&&(u=l.$eval(m.infiniteScrollImmediateCheck));
return e=b(function(){return u?w():b.cancel(e)},0)}}}])})();
(function(){var e=angular.module("bgVisibleContents.directive",["commonHelper.services"]);e.factory("VisibleContentsHandler",["$rootScope","$window","commonHelper",function(d,a,b){function f(){angular.forEach(e,function(a){var f=b.isElementInView(a.$el,u,k);f!==a.isVisible()&&(a.isInvisible()&&f?a.show():a.hide())});d.$emit("lazyImg:refresh")}function l(){r=!0;setTimeout(function(){f();g("on")},1)}function g(a){q.forEach(function(b){b[a]("scroll",w);b[a]("touchmove",w)});v[a]("resize",w);v[a]("resize",
n)}function m(a){this.$el=a;this.visible=!0;e.push(this);r||l()}var e,r,k,n,q,w,v,u;e=[];v=angular.element(a);r=!1;q=[v];u=1E3;k=b.getWinDimensions();n=b.throttle(function(){k=b.getWinDimensions()});w=b.delayedOnceFn(f,100);m.prototype.show=function(){this.visible=!0;angular.forEach(this.$el.children(),function(a){angular.element(a).css("display","block")});this.$el.css("box-sizing","");this.$el.css("height","");this.$el.css("overflow","")};m.prototype.hide=function(){this.visible=!1;"none"!==this.$el.css("display")&&
(this.$el.css("box-sizing","border-box"),this.$el.css("height",this.$el[0].offsetHeight+"px"),this.$el.css("overflow","hidden"),angular.forEach(this.$el.children(),function(a){angular.element(a).css("display","none")}))};m.prototype.isInvisible=function(){return!this.visible};m.prototype.isVisible=function(){return!!this.visible};m.prototype.clear=function(){e.slice(e.indexOf(this),1);0===e.length&&(r=!1,g("off"))};return m}]);e.directive("bgVisibleContents",["VisibleContentsHandler",function(d){return{link:function(a,
b,f){var l=new d(b);a.$on("$destroy",function(){l.clear()})},restrict:"A"}}])})();
(function(){angular.module("commonHelper.services",[]).factory("commonHelper",["$window",function(e){return{isElementInView:function(d,a,b){d=d[0].getBoundingClientRect();var f=b.height+a;return 0<=d.left&&d.right<=b.width+a&&(0<=d.top&&d.top<=f||d.bottom<=f&&d.bottom>=0-a)},throttle:function(d,a,b){var f,l;return function(){var g=b||this,m=+new Date,e=arguments;f&&m<f+a?(clearTimeout(l),l=setTimeout(function(){f=m;d.apply(g,e)},a)):(f=m,d.apply(g,e))}},delayedOnceFn:function(d,a,b){var f;"undefined"===
typeof a&&(a=-1);return function(){var l=b||this,g=arguments;f&&(clearTimeout(f),f=null);"undefined"===typeof a?d.apply(l,g):f=setTimeout(function(){d.apply(l,g)},a)}},getWinDimensions:function(){return{height:e.innerHeight,width:e.innerWidth}}}}])})();
(function(){angular.module("blogCommonHelper.services",["ngCookies"]).constant("bgConst.feedClass","feed").constant("bgConst.urlMap",urlMap).factory("blogCommonHelper",["$filter","$cookies",function(e,d){function a(b,d){if(angular.isArray(b)){var g=[];angular.forEach(b,function(b){g.push(a(b,d))});return g}if(angular.isObject(b)){var m={};angular.forEach(d,function(g){angular.isUndefined(b[g])||(m[g]=a(b[g],d))});return m}return b}var b;return{getByteLength:function(a){for(var b=0,d=a.length,m=0;m<
d;m++)b+=128<a.charCodeAt(m)?2:1;return b},filterProperties:a,unescapeOnlyNCR:function(a){return a.replace(/\&#([0-9]+);/g,function(a,b){return String.fromCharCode(b)})},doLogin:function(a){a=a||window.location.href;location.href="/Login.nhn?returnURL\x3d"+encodeURIComponent(encodeURIComponent(a))},doLogout:function(a){a=a||window.location.href;var b;a:{b=a;for(var d=["BuddyList.nhn"],m=0;m<d.length;m++)if(-1<b.indexOf(d[m])){b=!0;break a}b=!1}location.href=b?"/Logout.nhn?returnURL\x3d"+encodeURIComponent(encodeURIComponent(urlMap.nmobile+
"/Index.nhn")):"/Logout.nhn?returnURL\x3d"+encodeURIComponent(encodeURIComponent(a))},go:function(a){location.href=a},getFormattedDate:function(a){var b=new Date(a),d=(new Date).getTime()-86399E3;return b.getTime()>=d?(a=new Date(a),b=(new Date).getTime()-a.getTime(),a=Math.floor(b/36E5),b=Math.floor(b/6E4),0<a?a+"\uc2dc\uac04 \uc804":0<b?b+"\ubd84 \uc804":"\ubc29\uae08 \uc804"):e("date")(a,"yyyy. M. d.")},escapeRegExp:function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")},dateToDay:function(a){a=
new Date(a);a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a},dayDifference:function(a,b){return Math.floor((a.getTime()-b.getTime())/864E5)},getPlatformType:function(){if(b)return b;b=d.get("inAppType");return b="iOS"==b?"ios":"Android"==b?"android":"web"},endsWith:function(a,b){if(null==a||null==b)return!1;if(a==b)return!0;if(a.length>b.length)return a.substr(a.length-b.length).toUpperCase()==b.toUpperCase()?!0:!1},htmlRemove:function(a){return a.replace(/&/g,"\x26amp;").replace(/"/g,
"\x26quot;").replace(/'/g,"\x26#39;").replace(/>/g,"\x26gt;").replace(/</g,"\x26lt;")}}}]).filter("crToBr",[function(){return function(e){if(e)return e.replace(/[\n\r]+/g,"\x3cbr/\x3e")}}]).filter("bgThumb",function(){return function(e,d){var a=e.indexOf("?"),b=!1,f;if(0>a)return e+"?type\x3d"+d;f=e.replace(/([?&]type=)[^&]+/,function(a,f){b=!0;return f+d});return b?f:e.substring(0,a+1)+"type\x3d"+d+"\x26"+e.substring(a+1)}}).filter("trustAsHtml",["$sce",function(e){return function(d){return e.trustAsHtml(d)}}]).filter("limitToWithDot",
["$filter","blogCommonHelper",function(e,d){return function(a,b){if(!a)return a;var f=e("limitTo")(a,b);return d.getByteLength(a)>b?f+"..":f}}]).filter("unescapeOnlyNCR",["$filter","blogCommonHelper",function(e,d){return function(a){return a?d.unescapeOnlyNCR(a):a}}]).filter("escape",["$filter","blogCommonHelper",function(e,d){return function(a){return a?window.encodeURIComponent(a):a}}]).filter("safetag",["$filter","blogCommonHelper",function(e,d){return function(a){return a?a.replace(/</g,"\x26lt;").replace(/>/g,
"\x26gt;").replace(/"/g,"\x26quot;").replace(/\u2018/g,"\x26lsquo;").replace(/\u2019/g,"\x26rsquo;"):a}}])})();
(function(){angular.module("bgUserAgent.service",[]).factory("bgUserAgent",["$window",function(e){var d=[{criteria:"PhantomJS",identity:"PhantomJS"},{criteria:/Edge/,identity:"Edge",versionSearch:"Edge"},{criteria:/MSIE|Trident|Windows Phone/,identity:"IE",versionSearch:"IEMobile|MSIE|rv"},{criteria:/SAMSUNG|SamsungBrowser/,identity:"SBrowser",versionSearch:"Chrome"},{criteria:/Chrome|CriOS/,identity:"Chrome"},{criteria:/Android/,identity:"default"},{criteria:/iPhone|iPad/,identity:"Safari",versionSearch:"Version"},
{criteria:"Apple",identity:"Safari",versionSearch:"Version"},{criteria:"Firefox",identity:"Firefox"}],a=[{criteria:/Windows Phone|Windows NT/,identity:"Window",versionSearch:"Windows Phone|Windows NT"},{criteria:"Windows 2000",identity:"Window",versionAlias:"5.0"},{criteria:/iPhone|iPad/,identity:"iOS",versionSearch:"iPhone OS|CPU OS"},{criteria:"Mac",versionSearch:"OS X",identity:"MAC"},{criteria:/Android/,identity:"Android"}],b=[{criteria:/iPhone|iPad/,browserVersionSearch:"Version",webviewBrowserVersion:/-1/},
{criteria:/iPhone|iPad|Android/,webviewToken:/NAVER|DAUM|; wv/}],f={version:"-1",name:"default"},l={version:"-1",name:"unknown"},g={getBrowserName:function(a){return this.getIdentityStringFromArray(a,f)},getBrowserVersion:function(a){if(a)return a=this.getBrowserRule(a).versionSearch||a,a=this.extractBrowserVersion(a,this.ua)},extractBrowserVersion:function(a,b){var d=f.version,g,l=(new RegExp("("+a+")","i")).exec(b);if(!l)return d;g=l.index;a=l[0];-1<g&&(d=g+a.length+1,d=b.substring(d).split(" ")[0].replace(/_/g,
".").replace(/\;|\)/g,""));return d},getOSName:function(a){return this.getIdentityStringFromArray(a,l)},getOSVersion:function(a){var b=this.ua,f=this.getOSRule(a)||{},d=l.version,g;if(a){if(f.versionAlias)return f.versionAlias;a=f.versionSearch||a;a=new RegExp("("+a+")\\s([\\d_\\.]+|\\d_0)","i");(f=a.exec(b))&&(g=a.exec(b)[2].replace(/_/g,".").replace(/\;|\)/g,""));return g||d}},getOSRule:function(b){return this.getRule(a,b)},getBrowserRule:function(a){return this.getRule(d,a)},getRule:function(a,
b){for(var f,d,g=0,l;l=a[g];g++)if(f=l.criteria,d=(new RegExp(l.identity,"i")).test(b),f?d&&this.isMatched(this.ua,f):d)return l},getIdentityStringFromArray:function(a,b){for(var f=0,d;d=a[f];f++)if(this.isMatched(this.ua,d.criteria))return d.identity||b.name;return b.name},isMatched:function(a,b){return b&&b.test?!!b.test(a):-1<a.indexOf(b)},isWebview:function(){for(var a=this.ua,f=!1,d,g=0,l;l=b[g];g++)if(this.isMatched(a,l.criteria)&&(d=this.extractBrowserVersion(l.browserVersionSearch,a),this.isMatched(a,
l.webviewToken)||this.isMatched(d,l.webviewBrowserVersion))){f=!0;break}return f},create:function(b){g.ua=b;b={os:{},browser:{}};b.browser.name=g.getBrowserName(d);b.browser.version=g.getBrowserVersion(b.browser.name);b.os.name=g.getOSName(a);b.os.version=g.getOSVersion(b.os.name);b.browser.webview=g.isWebview();b.browser.name=b.browser.name.toLowerCase();b.os.name=b.os.name.toLowerCase();return b}};return g.create(e.navigator.userAgent)}])})();
(function(){var e=angular.module("bgConfig",["bgErrorRedirect.service","commonHelper.services","bgUsainClient.service","bgReferrer.service"]);e.constant("bgConfig.settings",angularConfig);e.constant("bgConfig.readOnlyStatus",readOnlyStatus);e.config(["bgConfig.settings","$logProvider","$compileProvider","$provide","$locationProvider",function(d,a,b,f,l){var g=d.isDev,e=d.jeagleEyeDebug;f.decorator("$log",["$delegate",function(a){return a}]);a.debugEnabled(!!g);b.debugInfoEnabled(!!g);l.html5Mode({enabled:!0,
requireBase:!1});a=a.$get();a.debug("[AngularSettings]");a.debug(d);a.debug("[AngularDebugSettings]");a.debug("Log debug enabled : "+!!g);a.debug("Angular debug info enabled : "+!!g);a.debug("Angular jeagleEyeDebug info enabled : "+!!e);f.decorator("$http",["$delegate","$httpParamSerializerJQLike",function(a,b){a.doPost=function(f,d){d=d||{};return a({url:f,method:"POST",data:b(d),headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}})};return a}]);f.decorator("$exceptionHandler",
["$delegate",function(a){return function(b,f){if(e){var d=b.message,g=b.fileName,l=b.lineNumber;"object"==typeof d&&"string"==typeof d.description&&(d=d+" : "+d.description);g||(g=document.location);l||(l=0);JEagleEyeClient.sendError(d,g,l)}else a(b,f);return a}}])}]);e.run(["$rootScope","$log","$document","UsainClient","referrerService","$location",function(d,a,b,f,l,g){d.$on("$stateChangeStart",function(){a.debug("$stateChangeStart");var b=(new Date).getTime();f.setRouteStartTime(b);a.debug("stateChangeStartTime : "+
b)});d.$on("$locationChangeSuccess",function(f,d,e){a.debug("$locationChangeSuccess");f=b[0].referrer;if(d===e){var k=g.search();if(k.proxyReferer||""==k.proxyReferer)f=decodeURIComponent(k.proxyReferer);l.setReferrer(f)}else l.setReferrer(e);a.debug("oldUrl : "+e);a.debug("newUrl : "+d);a.debug("documentReferrer : "+f)})}]);e.run(["bgConfig.readOnlyStatus","$rootScope","$log",function(d,a,b){!0===d.isReadOnly?(a.isReadOnly=!0,a.readOnlyStatus=d):a.isReadOnly=!1;b.debug("ReadOnlyStatus : "+a.isReadOnly)}]);
e.factory("httpTimeExpireCacheInterceptor",["$log","$cacheFactory",function(d,a){var b={},f=a("httpTimeExpireCache");return{request:function(a){if(a.expireTime&&"GET"===a.method&&!0===a.cache){a.cache=f;var g=b[a.url]||0,e=(new Date).getTime();e-g>a.expireTime&&(d.debug("remove cache! url : "+a.url),f.remove(a.url),b[a.url]=e)}return a}}}]);e.factory("errorResultInterceptor",["$log","errorRedirect","commonHelper",function(d,a,b){var f={};d=b.delayedOnceFn(a.alertAngBackBlogBlock,300);f.blog_blocked=
d;f.initializing=d;f.deleted_blog=d;return{response:function(a){a.data.error&&f[a.data.error.code]&&(f[a.data.error.code](),a.data.result={error:!0});return a}}}]);e.config(["$httpProvider",function(d){d.useApplyAsync(!0);d.interceptors.push("httpTimeExpireCacheInterceptor");d.interceptors.push("errorResultInterceptor")}])})();
(function(){var e=angular.module("bgCarousel.directive",[]);e.directive("bgCarouselContainer",["$rootScope","$window","$timeout",function(d,a,b){return{restrict:"A",link:function(f,l,g){var e=l[0];l=angular.element(a);var p=new IScroll(e,{scrollX:!0,scrollY:!1,momentum:!1,snapThreshold:.2,snap:!0,snapSpeed:400,keyBindings:!0,preventDefault:!0,eventPassthrough:"vertical",resizePolling:0,bounce:"true"===(g.bgCarouselContainerBounce||"true")});f.currentPage=0;p.on("scrollEnd",function(){g.bgCarouselScrollEndEventPrefix&&
f.currentPage!=p.currentPage.pageX&&d.$broadcast(g.bgCarouselScrollEndEventPrefix+p.currentPage.pageX);f.currentPage=p.currentPage.pageX;f.$apply()});if(g.bgCarouselFlickNclick){var r=g.bgCarouselFlickNclick;p.on("flick",function(){var a=nsc;nsc="Mblog.post";nclk(this,r,"","",1);nsc=a})}f.$on("bgCarouselScroll:resize",function(){b(function(){p.refresh()})});f.$on("bgCarouselPage:add",function(){0!==e.getBoundingClientRect().width&&(f.$broadcast("carouselContainer:resize",e.getBoundingClientRect().width),
b(function(){p.refresh()}))});f.$on("bgCarouselMove",function(a,b){b!=f.currentPage&&p.goToPage(parseInt(b),0)});l.on("resize",function(){0!==e.getBoundingClientRect().width&&f.$broadcast("carouselContainer:resize",e.getBoundingClientRect().width)})},scope:!0}}]);e.directive("bgCarouselPage",[function(){var d;return{restrict:"A",link:function(a,b,f){a.$emit("bgCarouselPage:add");d&&(b[0].style.width=d+"px");a.$on("carouselContainer:resize",function(a,f){d=f;b[0].style.width=d+"px"});if(f.bgCarouselPageEventIndex&&
f.bgCarouselPageEventPrefix){var l=f.bgCarouselPageEventIndex;a.$on(f.bgCarouselPageEventPrefix+l,function(){a.$emit("bgCarouselMove",l)})}}}}]);e.directive("bgCarouselScroll",[function(){return{restrict:"A",link:function(d,a,b){var f=0,l=0;d.$on("bgCarouselPage:add",function(){f++;a[0].style.width=l*f+"px"});d.$on("carouselContainer:resize",function(b,d){l=d;a[0].style.width=l*f+"px"})}}}])})();
(function(){angular.module("btford.modal",[]).factory("btfModal",["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache","$window","$document","$timeout",function(e,d,a,b,f,l,g,m,p,r){return function(k){if(!(!k.template^!k.templateUrl))throw Error("Expected modal to have exacly one of either `template` or `templateUrl`");var n=k.controller||null,r=k.controllerAs,w=k.bAllowScroll,v=null,u=null,h=null,t,y;t=k.template?f.when(k.template):l.get(k.templateUrl,{cache:g}).then(function(a){return a.data});
return{activate:function(f){return t.then(function(g){if(!h){w||(u=(m.pageYOffset||p.scrollTop)-(p.clientTop||0),m.scrollTo(0,0),k.hiddenElement&&angular.element(document.getElementsByTagName("ui-view")[0]).css("display","none"));var l=f;h=angular.element(g);if(0===h.length)throw Error("The template contains no elements; you need to wrap text nodes");y=a.$new();if(n)l||(l={}),l.$scope=y,g=b(n,l),r&&(y[r]=g);else if(l)for(var t in l)y[t]=l[t];v=angular.element(k.container||document.body);d(h)(y);e.enter(h,
v)}})},deactivate:function(){return h?e.leave(h).then(function(){y&&y.$destroy();y=null;h&&h.remove();h=null;w||(k.hiddenElement&&angular.element(document.getElementsByTagName("ui-view")[0]).css("display",""),m.scrollTo(0,u),u=null)}):f.when()},active:function(){return!!h}}}}])})();
(function(){var e=angular.module("bgShareSNSModal.service",["btford.modal","bgBlog.model","bgBlogUser.model","bgShortUrl.model","blogCommonHelper.services"]);e.factory("bgShareSNSModal",["btfModal",function(d){return d({controller:"_ModalCtrl",controllerAs:"modal",templateUrl:"/html/ngapp/post/modal/ShareSnsModal.html",bAllowScroll:!0})}]);e.controller("_ModalCtrl",["$q","$stateParams","$location","bgShareSNSModal","blogModel","blogUserModel","shortUrl","blogCommonHelper",function(d,a,b,f,l,g,e,p){a=
a.blogId;var r=this,k,n,q;l=l.getBlog(a).then(function(a){k=a});g=g.getBlogUser(a).then(function(a){n=a});b="http://"+b.host()+"/"+a;e=e["for"](a,b).then(function(a){q=a});d.all([l,g,e]).then(function(){r.message=n.blogOwner?"\ub0b4 \ube14\ub85c\uadf8\uc5d0 \ucd08\ub300\ud569\ub2c8\ub2e4~!":"\uc774 \ube14\ub85c\uadf8 \uc5b4\ub54c\uc694?";r.postname=p.unescapeOnlyNCR(k.blogName+" | "+k.nickName);r.sourceUrl=q;r.image=k.mobileTitleImage.croppedImage});r.closeMe=f.deactivate}])})();
(function(){var e=angular.module("bgGuestbook.controller","bgConfig ngSanitize bgGuestbook.service bgPenalty.service bgLcs.service bgNilSender.service bgGuestbook.model bgBlog.model bgBlogUser.model bgError.controller bgInApp.service infinite-scroll bgGuestbook.directive bgNclick.directive bgReadOnly.directive bgNeedLogin.directive bgInApp.directive".split(" "));e.config(["$stateProvider",function(d){d.state("guestbookList",{url:"/GuestbookList.nhn?blogId\x26guestbookNo",templateUrl:"/html/ngapp/guestbook/GuestbookList.html",
controller:"guestbookCtrl",controllerAs:"guestbookCtrl",resolve:{resolveBlog:["$stateParams","blogModel",function(a,b){return b.getBlog(a.blogId)}],resolveBlogUser:["$stateParams","blogUserModel",function(a,b){return b.getBlogUser(a.blogId)}],resolveGuestbookPage:["$stateParams","guestbookService",function(a,b){return b.getGuestbookPage(a.blogId)}],resolveGuestbookPaging:["guestbookModel","$stateParams",function(a,b){return a.createGuestbookListPaging(b.blogId).initialPromise().then(function(a){return a},
function(a){return a})}]}})}]);e.controller("guestbookCtrl",["$stateParams","$timeout","$rootScope","penaltyService","lcsService","nilSender","guestbookService","inAppService","ERROR_MESSAGE","ReadOnlyService","resolveBlog","resolveBlogUser","resolveGuestbookPage","resolveGuestbookPaging","naverCommentService",function(d,a,b,f,l,g,e,p,r,k,n,q,w,v,u){var h=this;l.lcs_do();b.blog=n;h.isActivated=!0;if(!0===n.error||!0===q.error||!0===w.error||!0===v.error)h.isActivated=!1,a(function(){confirmLayer(r.errorConfirmRefresh.message,
function(){location.reload()},function(){history.back()})},0);else{var t=w.hasWritingPermission;a=w.errorMessage;w=w.guestbookOpenYN;var y=v.paging;v=v.response;f=f.createPanelty(n,q);l=d.guestbookNo;g.sendCV(d.blogId,n.relationType,q.statAllowYn,"guest_book_list");h.guestbookList=[];h.blog=n;h.blogUser=q;h.blogId=d.blogId;h.hasWritingPermission=t;h.errorMessage=a;h.guestbookOpenYN=w;h.writeFormOpenYN=w;h.penalty=f;h.targetGuestbookNo=l;h.nickNameOrBlogId=n.nickName||n.blogId;h.writeFormContents;
angular.forEach(v,function(a){h.guestbookList.push(a)});h.getTotalCount=function(){return y.totalCount};h.isLastPage=function(){return y.lastPage};h.isLoading=function(){return y.loading};h.isPagingDisabled=function(){return y.isDisabled()};h.loadMore=function(){y.loadMore().then(function(a){angular.forEach(a,function(a){h.guestbookList.push(a)})})};h.isAndroidApp=function(){return p.isAndroidApp()};h.isIOSApp=function(){return p.isIOSApp()};h.toggleOpenYN=function(){!1!==h.guestbookOpenYN&&(h.writeFormOpenYN=
!h.writeFormOpenYN)};h.openGuestbookCommentList=function(a){if(1==a.isCommentOpen)a.isCommentOpen=!1;else{a.isCommentOpen=!0;var f={divId:"naverComment_"+a.guestBookNo,blogNo:n.blogNo,isLoggedIn:q.loggedIn,isblogOwner:n.blogOwner,ticketNo:"202",logNo:a.guestBookNo,focusingCommentNo:"",nPageSize:10,bIncludeAllComments:!0,aFormation:t?["page","list","write"]:["page","list"],bUseInfiniteScrolling:!1,sLikeItId:""},d={};q.loggedIn&&(d={nickName:q.nickname||q.userId,profileType:"profile",image:q.profileImageUrl||
"https://ssl.pstatic.net/static/blog/m/img_default.gif"});u.init(f,d,h.blog.blogId,null,function(f){"number"==typeof f&&(a.commentCount=f,b.$apply())})}};h.writeGuestbook=function(){e.writeGuestbook(n,h.writeFormOpenYN,h.writeFormContents)};h.deleteGuestbook=function(a){e.deleteGuestbook(n,a)};h.reportBadGuestbookPost=function(a){e.reportBadGuestbookPost(n,a)};h.writeFormPlaceholder=e.getWriteFormPlaceholder(n,q,w,t,a);h.isReportable=function(a){return q.blogOwner&&!!a.writerId&&q.userId!=a.writerId&&
!a.stampImageUrl};h.isDeletable=function(a){return q.blogOwner||a.writerId==q.userId};h.activeSettingBtn=null;h.toggleMoreBtn=function(a){h.activeSettingBtn&&h.activeSettingBtn.guestBookNo!==a.guestBookNo&&(h.activeSettingBtn.showLayer=!1);h.activeSettingBtn=a;a.showLayer=!a.showLayer};h.openAndroidGuestWriterAfterPermissionCheck=function(){if(k.isReadOnly())alertLayer(k.getAlertMessage());else{var a=e.checkGuestbookWritable(h.blogUser,h.penalty,h.hasWritingPermission,h.errorMessage);a?alertLayer(a):
p.request("GET","/guest/guestWrite",{blogId:h.blog.blogId,guestbookOpenYn:h.guestbookOpenYN})}}}}])})();
(function(){var e=angular.module("bgGuestbook.directive",["bgGuestbook.service","bgReadOnly.service","bgInApp.service"]);e.directive("bgDisablePlaceholderByFocus",function(){return{restrict:"A",link:function(d,a,b){var f=b.placeholder;a.bind("focus",function(){a.attr("placeholder","")});a.bind("blur",function(){a.attr("placeholder",f)})}}});e.directive("bgGuestbookTextareaPermission",["$log","guestbookService","inAppService",function(d,a,b){return{restrict:"A",link:function(b,d,g){b=b.guestbookCtrl;
var e=b.blogUser,p=b.penalty,r=b.hasWritingPermission,k=b.errorMessage;d.bind("click",function(b){if(r){var f=a.checkGuestbookWritable(e,p,r,k);null!==f&&alertLayer(f,function(){b.stopImmediatePropagation();b.preventDefault();b.target.blur()},d[0])}else b.stopImmediatePropagation(),b.preventDefault(),b.target.blur()})}}}]);e.directive("bgGuestbookCommentTextareaPermission",["$log","guestbookService","inAppService",function(d,a,b){return{restrict:"A",link:function(b,d,g){b=b.guestbookCtrl;var e=b.blogUser,
p=b.penalty,r=b.hasWritingPermission,k=b.errorMessage;d.bind("click",function(b){var f=a.checkGuestbookCommentWritable(e,p,r,k);null!==f&&alertLayer(f,function(){b.stopImmediatePropagation();b.preventDefault();b.target.blur()},d[0])})}}}]);e.directive("bgFocusAfterLoad",["$timeout","$parse","$location",function(d,a,b){return{restrict:"A",link:function(b,l,g,e){a(g.bgFocusAfterLoad)()&&d(function(){l[0].scrollIntoView(!0)},0)}}}])})();
(function(){angular.module("bgGuestbook.model",[]).service("guestbookModel",["$q","$log","$http","$httpParamSerializerJQLike",function(e,d,a,b){var f=this;f.writeGuestbook=function(f,g,e){d.debug("writeGuestbook");return a({method:"POST",url:"/rego/GuestbookWriteAsync.nhn",data:b({blogId:f,openYN:g,contents:e}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return a.data},function(){return{error:!0}})};f.getGuestbookList=function(f,g){d.debug("getGuestbookList");
return a.get("/rego/GuestbookListAsync.nhn?"+b({blogId:f,pageNo:g||1})).then(function(a){return a.data.result},function(){return{error:!0}})};f.deleteGuestbook=function(f,g){d.debug("deleteGuestbook");return a({method:"POST",url:"/rego/GuestbookDeleteAsync.nhn",data:b({blogId:f,guestbookNo:g}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return a.data.result},function(){return{error:!0}})};f.createGuestbookListPaging=function(a,b){var d=function(a){this.blogId=
a;this.lastPage=null;this.nextPage=b||1;this.totalPage=this.totalCount=this.status=this.nextPageElementCount=null;this.loading=!1};d.prototype.initialPromise=function(){var a=this;return e(function(b,f){a.loadMore().then(function(d){!0===d.error?f(d):b({paging:a,response:d})})})};d.prototype.loadMore=function(){var a=this;a.loading=!0;return f.getGuestbookList(this.blogId,this.nextPage).then(function(b){if(!0===b.error)return b;a.lastPage=b.lastPage;a.nextPage=b.nextPage;a.nextPageElementCount=b.nextPageElementcount;
a.status=b.status;a.totalCount=b.totalCount;a.totalPage=b.totalPage;a.loading=!1;return b.guestBookList})};d.prototype.isDisabled=function(){return this.loading||this.lastPage};return new d(a)}}])})();
(function(){angular.module("bgGuestbook.service",["bgConfig","ngSanitize","blogCommonHelper.services","bgBadWord.service","bgGuestbook.model"]).service("guestbookService",["$log","$http","$httpParamSerializerJQLike","$q","$state","$window","blogCommonHelper","guestbookModel","badWordService","BADWORD_UGC_TYPE_ID",function(e,d,a,b,f,l,g,m,p,r){var k=this;a=function(a,b){var f=!1,d=function(){if(!0===f)"function"===typeof b&&b.apply(this,arguments);else return f=!0,a.apply(this,arguments)};d.unlockOneCall=
function(){f=!1};return d};k.getGuestbookPage=function(a){e.debug("getGuestbookPage");return d.get("/rego/GuestbookPageAsync.nhn?blogId\x3d"+a).then(function(a){return a.data.result},function(){return{error:!0}})};k.writeGuestbook=a(function(a,b,d){var l=a.blogId;d&&""!=d.trim()?2E3<g.getByteLength(d)?alertLayer("\uae00 \uc791\uc131\uc740 \ucd5c\ub300 \ud55c\uae00 1000\uc790/ \uc601\ubb38 2000\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",function(){k.writeGuestbook.unlockOneCall()}):
p.checkBadWord(r.GUESTBOOK,d).then(function(a){m.writeGuestbook(l,b,d).then(function(a){"undefined"!=typeof a.error&&"undefined"!=typeof a.error.message?alertLayer(a.error.message):f.go(f.current,{blogId:l},{reload:!0,inherit:!1,notify:!0})},function(){alertLayer("\uc11c\ubc84\uc640\uc758 \uc5f0\uacb0\uc774 \ub04a\uc5b4\uc84c\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})["finally"](function(){k.writeGuestbook.unlockOneCall()})},function(a){null!==a&&p.alertBadWarning(a);
k.writeGuestbook.unlockOneCall()}):alertLayer("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",function(){k.writeGuestbook.unlockOneCall()})});k.deleteGuestbook=a(function(a,b){confirmLayer("\uc548\ubd80\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){m.deleteGuestbook(a.blogId,b.guestBookNo).then(function(a){f.reload()})["finally"](function(){k.deleteGuestbook.unlockOneCall()})},function(){k.deleteGuestbook.unlockOneCall()})});k.getWriteFormPlaceholder=function(a,
b,f,d,g){if(d&&b.userId!=a.blogId)return f?(a.nickName||a.blogId)+" \ub2d8\uc5d0\uac8c \uc548\ubd80\ub97c \uc804\ud558\uc138\uc694.":"\uc774 \uc548\ubd80\uac8c\uc2dc\ud310\uc740 \ube44\ubc00 \uae00\uc4f0\uae30\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.";if(!d)return g};k.getCommentWriteFormPlaceholder=function(a,b){return a?"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694.":b};k.checkGuestbookWritable=function(a,b,f,d){return b.isBlocked()||b.isNetworkBlocked()?b.getMessage():f?null:d};k.reportBadGuestbookPost=
function(a,b){l.location.href="/GuestBookBadReportView.nhn?blogId\x3d"+a.blogId+"\x26guestNo\x3d"+b.guestBookNo+"\x26template\x3dmodal"}}])})();
(function(){"user strict";var e=angular.module("bgBlockLayoutService.service",["bgBlockLayout.model"]);e.constant("BLOCK_TYPE",{cover:"Cover",talktalk:"TalkTalk",notice:"Notice",postlist:"PostList",introduce:"Introduce",reputation:"Reputation",popularpostlist:"PopularPostList",externalchannel:"ExternalChannel",externalpost:"ExternalPost"});e.constant("BASE_PATH","/html/ngapp/post/block/");e.value("loadedPostListStyle",{key:void 0});e.factory("blockLayoutService",["$log","$q","blockLayoutModel","BASE_PATH",
"BLOCK_TYPE","loadedPostListStyle",function(d,a,b,f,l,g){function e(a){return-1<"1234".indexOf(a.style)}var p=[];return{getPath:function(a){return l[a.type]===l.postlist?f+l[a.type].toLowerCase()+"/PostList1.html":f+l[a.type].toLowerCase()+"/"+l[a.type]+a.style+".html"},isRegoBlock:function(a){return"introduce"===a.type||"reputation"===a.type||"popularpostlist"===a.type||"postlist"===a.type||"externalchannel"===a.type||"externalpost"===a.type},isDefaultCover:e,isFullCover:function(a){return!e(a)},
isSimpleCover:function(a){return-1<"3478".indexOf(a.style)},isCenterAlignCover:function(a){return-1<"2468".indexOf(a.style)},getPostListStyleKey:function(){var a="style1";angular.forEach(p,function(b){l[b.type]===l.postlist&&(a="style"+b.style)});return a},getLoadedPostListStyleKey:function(){return g.key},setLoadedPostListStyleKey:function(a){g.key=a},getBlockLayout:function(f){var d=a.defer();b.getBlockLayout(f).then(function(a){a.error||(p=a.blockLayoutList);d.resolve(a)});return d.promise}}}])})();
(function(){angular.module("bgBuddy.directive",["bgBuddyList.service","blogCommonHelper.services","bgInApp.service"]).directive("buddy",["buddyListService","blogCommonHelper",function(e,d){return{templateUrl:function(a,b){return"/html/ngapp/buddy/"+b.type+".html"},restrict:"E",controller:["inAppService",function(a){var b=this;b.isOwner=e.getIsOwner();b.returnUrl=e.getReturnUrl();b.userId=e.getUserId();b.isInApp=a.isInApp();b.toggleSetting=function(a){a.showSetting=!a.showSetting};b.getModifyUrl=function(a){var d=
a.isBothNeighbor?"/Both":"/";return b.isInApp?d+"BuddyModifyForm.nhn?blogId\x3d"+a.blogIndicator+"\x26template\x3dmodal\x26isShowingGnb\x3dfalse":d+"BuddyModifyForm.nhn?blogId\x3d"+a.blogIndicator+"\x26returnUrl\x3d"+b.returnUrl};b.updateBuddyNoti=function(a){e.updateBuddyNoti(a.isRss,e.getUserId(),a.blogIndicator,a.blogNo,!a.updateBuddy).then(function(b){b.data.error?alertLayer(b.data.error.message):a.updateBuddy=!a.updateBuddy},function(a){alertLayer("\uc774\uc6c3 \uc54c\ub9bc \ubcc0\uacbd \ud398\uc774\uc9c0 "+
ERROR_MESSAGE.errorLoad.message)})};b.updateBuddyPushNoti=function(a){e.updateBuddyPushNoti(a.isRss,e.getUserId(),a.blogIndicator,a.blogNo,!a.interestYn).then(function(b){b.data.error?alertLayer(b.data.error.message):a.interestYn=!a.interestYn},function(a){alertLayer("\uc774\uc6c3 \uc54c\ub9bc \ubcc0\uacbd \ud398\uc774\uc9c0 "+ERROR_MESSAGE.errorLoad.message)})};b.removeRssBuddy=function(a){confirmLayer(a.blogName+" :  \uc5f4\ub9b0 \uc774\uc6c3\uc744 \ub04a\uc73c\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){e.removeRssBuddy(e.getUserId(),
a.blogIndicator).then(function(a){a.data.error?alertLayer(a.data.error.message):location.reload()},function(a){alertLayer("\uc5f4\ub9b0 \uc774\uc6c3 \uc0ad\uc81c \ud398\uc774\uc9c0 "+ERROR_MESSAGE.errorLoad.message)})})}}],controllerAs:"ctrl",scope:{buddy:"\x3ddata"}}}])})();
(function(){var e=angular.module("bgAddEvent.directive",[]);e.directive("addFocus",["$timeout",function(d){return function(a,b,f){var l=f.addFocusDirectShowId,g=null;l&&(g=angular.element(document.getElementById(l)));a.$on(f.addFocus,function(a){null!=g&&g.removeClass("ng-hide");b[0].focus();d(function(){b[0].focus()})})}}]);e.directive("addClick",["$timeout",function(d){return function(a,b,f){a.$on(f.addClick,function(a){d(function(){angular.element(b[0]).triggerHandler("click")})})}}])})();
(function(){angular.module("bgBuddyList.service",[]).service("buddyListService",["$log","$http",function(e,d){var a=this;a.setUserId=function(b){a.userId=b};a.getUserId=function(){return a.userId};a.setIsOwner=function(b){a.isOwner=b};a.getIsOwner=function(){return a.isOwner};a.setReturnUrl=function(b){a.returnUrl=b};a.getReturnUrl=function(){return a.returnUrl};a.getBuddyList=function(a,f){return d.get("/rego/BuddyListJson.nhn?blogId\x3d"+a+"\x26pageNo\x3d"+f)};a.getGroupList=function(a){return d.get("/rego/GroupListJson.nhn?blogId\x3d"+
a)};a.getBuddyListByGroup=function(a,f){return d.get("/rego/BuddyListByGroupJson.nhn?blogId\x3d"+a+"\x26groupId\x3d"+f)};a.searchBuddy=function(a,f){return d.post("/rego/BuddySearchListJson.nhn?blogId\x3d"+a+"\x26buddySearchText\x3d"+f)};a.updateBuddyNoti=function(a,f,l,g,e){return d.post("/rego/BuddyNotifyOptionUpdateAsync.nhn?isRss\x3d"+a+"\x26blogId\x3d"+f+"\x26buddyBlogId\x3d"+l+"\x26buddyBlogNo\x3d"+g+"\x26notifyOn\x3d"+e)};a.updateBuddyPushNoti=function(a,f,l,g,e){return d.post("/rego/BuddyAppPushNotifyOptionUpdateAsync.nhn?isRss\x3d"+
a+"\x26blogId\x3d"+f+"\x26buddyBlogId\x3d"+l+"\x26buddyBlogNo\x3d"+g+"\x26notifyOn\x3d"+e)};a.removeRssBuddy=function(a,f){return d.post("/rego/BuddyRemoveAsync.nhn?blogId\x3d"+a+"\x26buddyBlogNo\x3d"+f+"\x26buddyRemoveType\x3dREMOVE\x26isRss\x3dtrue")}}])})();
(function(){var e=angular.module("bgBuddyList.controller","bgConfig ngSanitize bgInApp.service blogCommonHelper.services bgBuddyList.service bgBuddy.directive bgAddEvent.directive bgReadOnly.directive bgNclick.directive bgNlnbFixer.directive infinite-scroll bgError.controller".split(" "));e.config(["$stateProvider",function(d){d.state("buddyList",{url:"/BuddyList.nhn?blogId\x26fromGroup",templateUrl:"/html/ngapp/buddy/BuddyList.html",controller:"buddyListCtrl",controllerAs:"ctrl",resolve:{resolveBuddyList:["$http",
"$stateParams","buddyListService",function(a,b,d){return d.getBuddyList(b.blogId,1).then(function(a){return a},function(){return{error:!0}})}]}})}]);e.controller("buddyListCtrl",["$window","$log","$scope","$stateParams","blogCommonHelper","inAppService","buddyListService","resolveBuddyList","$timeout","ERROR_MESSAGE","bgConst.feedClass",function(d,a,b,f,l,g,e,p,r,k,n){var q=this;d.document.title="\uc774\uc6c3 \ubaa9\ub85d : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";angular.element(d.document.body).addClass(n);
b.$on("$destroy",function(){angular.element(d.document.body).removeClass(n)});q.activate=!0;!0===p.error?(q.activate=!1,r(function(){confirmLayer(k.errorConfirmRefresh.message,function(){location.reload()},function(){history.back()})},0)):(a=p.data.result,q.isOwner=a.isOwner,q.ownerIdWhenNickNameIsEmpty=a.ownerIdWhenNickNameIsEmpty,e.setIsOwner(a.isOwner),e.setUserId(f.blogId),e.setReturnUrl(encodeURIComponent(d.location.href)),q.totalCount=a.totalBuddyCount,q.totalPublicCount=a.totalPublicBuddyCount,
q.buddyList=a.buddyList,q.blogId=f.blogId,q.hasBuddy=0<q.totalPublicCount?!0:!1,q.totalPage=a.totalPageCount,q.currentPage=1,q.showLoading=!0,q.searchTxt="",q.displayTxt="",q.showUpdate=!0,q.showGroup=!1,q.showSearch=!1,q.showInput=!1,q.hasSearchBuddy=!1,q.hasLoadMore=!0,r(function(){q.showLoading=!1}),q.isInApp=g.isInApp(),q.isInApp&&!q.isOwner&&g.request("get","/buddy/buddyCount",{count:q.totalPublicCount}),q.toggleGroup=function(a){a.showBuddy=!a.showBuddy;!q.showSearch&&!a.hasData&&0<a.buddyCount&&
!a.showLoading&&(a.showLoading=!0,e.getBuddyListByGroup(q.blogId,a.groupId).then(function(b){a.buddyList=b.data.result.buddyList;q.addBuddyDatas(a.buddyList);a.showLoading=!1;a.hasData=!0},function(){alertLayer("\uc774\uc6c3 \ubaa9\ub85d "+k.errorLoad.message,function(){b.$apply(function(){a.showLoading=!1;a.showBuddy=!1})})}))},q.changeSortType=function(a){q.hasSearchBuddy=!1;q.showSearch=!1;q.searchTxt="";q.setSearch(!1);a?(q.showUpdate=!0,q.showGroup=!1):(q.showUpdate=!1,q.showGroup=!0)},q.setSearch=
function(a){q.showInput=a;!0===a&&b.$broadcast("isOpen")},q.delSearchTxt=function(){q.searchTxt="";b.$broadcast("isOpen")},q.searchBuddy=function(){4>l.getByteLength(q.searchTxt)?alertLayer("\uac80\uc0c9\uc5b4\ub294 \ud55c\uae00 2\uae00\uc790, \uc601\ubb38 4\uae00\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.",null,document.getElementById("buddySearch")):(b.$broadcast("isSearched"),e.searchBuddy(q.blogId,q.searchTxt).then(function(a){if(a.data.error)alertLayer(a.data.error.message);else if(a=
a.data.result,0<a.buddyCount?(q.hasSearchBuddy=!0,q.setSearch(!1)):(q.hasSearchBuddy=!1,q.displayTxt=q.searchTxt),q.showSearch=!0,q.showUpdate)q.showGroup=!1,q.searchBuddyList=a.buddyList,q.addBuddyDatas(q.searchBuddyList);else{q.showUpdate=!1;q.searchBuddyList=[];for(var b=0;b<q.groupList.length;b++){var d=angular.copy(q.groupList[b]);d.showBuddy=!0;d.buddyList=[];for(var f=0;f<a.buddyList.length;f++)a.buddyList[f].groupId===d.groupId&&d.buddyList.push(a.buddyList[f]);0<d.buddyList.length&&(q.addBuddyDatas(d.buddyList),
q.searchBuddyList.push(d))}}},function(a){alertLayer("\uc774\uc6c3 \ubaa9\ub85d "+k.errorLoad.message)}))},q.addBuddyDatas=function(a){for(var b=0;b<a.length;b++){var d=a[b];d.goLinkUrl=""===d.blogId&&""!==d.linkUrl?d.linkUrl:"/"+d.blogId;3==d.relation?(d.isRss=!0,d.blogIndicator=d.blogNo):(d.isRss=!1,d.blogIndicator=d.blogId);d.displayBuddyName=d.nickName&&d.nickName.trim()?d.nickName:d.blogIndicator;d.showSetting=!1}},q.loadMore=function(){q.showUpdate&&(q.showLoading=!0,e.getBuddyList(q.blogId,
q.currentPage+1).then(function(a){a=a.data.result.buddyList;q.addBuddyDatas(a);angular.forEach(a,function(a){q.buddyList.push(a)});q.showLoading=!1;q.hasLoadMore=0<a.length?!0:!1;q.currentPage+=1;q.isOwner?angular.element(document.getElementById("_buddyListOwnerMore")).triggerHandler("click"):angular.element(document.getElementById("_buddyListGuestMore")).triggerHandler("click")},function(a){alertLayer("\uc774\uc6c3 \ubaa9\ub85d "+k.errorLoad.message,function(){b.$apply(function(){q.showLoading=!1})})}))},
q.addBuddyDatas(q.buddyList),q.isOwner&&0<a.groupList.length&&(q.groupList=a.groupList,q.groupList[0].buddyList=a.firstGroupBuddyList,q.groupList[0].hasData=!0,q.groupList[0].showBuddy=!0,q.addBuddyDatas(q.groupList[0].buddyList)),"true"===f.fromGroup&&q.changeSortType(!1))}])})();
(function(){var e=angular.module("bgCategoryList.controller",["bgCategoryList.model","btford.modal","bgBlockLayoutService.service","bgNaverApp.service"]);e.run(["$rootScope","categoryListModal",function(d,a){d.$on("$locationChangeStart",function(){a.deactivate()})}]);e.controller("categoryListCtrl",["$location","$stateParams","$timeout","categoryListModel","categoryListModal","blockLayoutService","NaverAppViewService","$window",function(d,a,b,f,l,g,e,p){var r=this;r.blogId=a.blogId;r.categoryNo=a.categoryNo;
var k=new e(a.napp||"");f.getCategoryList(a.blogId).then(function(a){r.categoryList=a});r.hideCategoryList=function(){l.deactivate()};r.goMemologPostList=function(a,f){l.deactivate().then(function(){var l=g.getLoadedPostListStyleKey()||g.getPostListStyleKey(),e={logCode:2,blogId:a,listStyle:l};f&&(e.categoryNo=f);b(function(){k.fromNaverMain()?p.location.href="/PostList.nhn?blogId\x3d"+a+"\x26logCode\x3d2\x26categoryNo\x3d"+f+"\x26listStyle\x3d"+l:d.path("/PostList.nhn").search(e)})})};r.goMylogPostList=
function(a,f){l.deactivate().then(function(){var l=g.getLoadedPostListStyleKey()||g.getPostListStyleKey();b(function(){k.fromNaverMain()?p.location.href="/PostList.nhn?blogId\x3d"+a+"\x26categoryNo\x3d"+f+"\x26listStyle\x3d"+l:d.path("/PostList.nhn").search({blogId:a,categoryNo:f,listStyle:l})})})}}]);e.factory("categoryListModal",["btfModal",function(d){return d({controller:"categoryListCtrl",controllerAs:"categoryListCtrl",templateUrl:"/html/ngapp/post/modal/CategoryListModal.html",bAllowScroll:!1,
hiddenElement:!0})}])})();
(function(){angular.module("bgNotice.controller",["blogCommonHelper.services","bgNotice.model","bgNaverApp.service"]).controller("noticeCtrl",["$scope","$timeout","$stateParams","blogCommonHelper","noticeModel",function(e,d,a,b,f){var l=this;l.hideBlock=!1;var g=function(){l.loaded=!0;d(function(){e.$emit("blogHomeCtrl:activate:notice")})},m=function(){l.loaded=!1;l.error=!1;f.getNoticePostList(a.blogId).then(function(a){g();a?0===a.length?l.hideBlock=!0:l.noticePostList=b.filterProperties(a,["blogId",
"logNo","titleWithInspectMessage"]):l.error=!0},function(){g();l.error=!0})};l.reload=m;m()}])})();
(function(){var e=angular.module("bgError.controller",["ngSanitize","blogCommonHelper.services","bgReferrer.service"]);e.config(["$stateProvider","$urlRouterProvider",function(d,a){d.state("error",{url:"/MobileErrorView.nhn?errorType\x26msg\x26pushNavigation\x26url",templateUrl:"/html/ngapp/error/error.html",controller:"errorCtrl",controllerAs:"errorCtrl"});d.state("exception",{url:"/MobileExceptionView.nhn?errorType\x26pushNavigation",templateUrl:"/html/ngapp/error/exception.html",controller:"exceptionCtrl",
controllerAs:"exceptionCtrl"});a.otherwise("/MobileErrorView.nhn")}]);e.constant("ERROR_MESSAGE",{"default":{title:"\x3cstrong\x3e\uc77c\uc2dc\uc801\uc778 \uc624\ub958\ub85c \uc11c\ube44\uc2a4\uc5d0 \uc811\uc18d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",message:"\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."},accessDenied:{title:"\x3cstrong\x3e\ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",message:""},notOwner:{title:"\x3cstrong\x3e\ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",
message:""},noPost:{title:"",message:"\ud3ec\uc2a4\ud2b8\uac00 \uc0ad\uc81c\ub418\uc5c8\uac70\ub098 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."},nodisplay:{title:"\x3cstrong\x3e\uc77c\uc2dc\uc801\uc778 \uc624\ub958\ub85c \uc11c\ube44\uc2a4\uc5d0 \uc811\uc18d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",message:"\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."},notfound:{title:"\x3cstrong\x3e\ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",
message:"\ud398\uc774\uc9c0 URL\uc744 \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694."},noprivilege:{title:"\x3cstrong\x3e\ud398\uc774\uc9c0\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",message:"\ud398\uc774\uc9c0 URL\uc744 \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694. "},displayMessage:{title:"\x3cstrong\x3e\uc77c\uc2dc\uc801\uc778 \uc624\ub958\ub85c \uc11c\ube44\uc2a4\uc5d0 \uc811\uc18d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\x3c/strong\x3e",message:"\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694."},
errorConfirmRefresh:{title:"",message:"\ud398\uc774\uc9c0\ub97c \ubd88\ub7ec\uc624\ub294 \uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud558\ub824\uba74 \ud655\uc778\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."},errorLoad:{title:"",message:"\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."},blog:{title:"",message:"\uc811\uadfc\uc774 \uc81c\ud55c\ub41c \ube14\ub85c\uadf8 \uc785\ub2c8\ub2e4."},
post:{title:"",message:"\ube44\uacf5\uac1c \ud3ec\uc2a4\ud2b8 \uc785\ub2c8\ub2e4."},sympathy:{title:"",message:"\uac8c\uc2dc\ubb3c\uc774 \uac8c\uc2dc\uc911\ub2e8 \ub418\uc5b4 \ud574\ub2f9 \ud398\uc774\uc9c0\ub85c \uc811\uadfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."},errorNewsRemove:{title:"",message:"\uc0ad\uc81c\uc911 \uc624\ub958 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \n \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."},comment:{title:"",message:"\uac8c\uc2dc\ubb3c\uc774 \uac8c\uc2dc\uc911\ub2e8 \ub418\uc5b4 \ud574\ub2f9 \ud398\uc774\uc9c0\ub85c \uc811\uadfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}});
e.controller("errorCtrl",["$window","$document","$stateParams","ERROR_MESSAGE","bgConst.urlMap","blogCommonHelper","referrerService",function(d,a,b,f,l,g,e){var p=b.errorType;"login"==p?(a=l.nmobile||"http://m.blog.naver.com",g.doLogin(a)):"loginRef"==p?(a=e.getReferrer()||l.nmobile||"http://m.blog.naver.com",g.doLogin(a)):"loginRedirect"==p?(a=b.url||l.nmobile||"http://m.blog.naver.com",g.doLogin(a)):(g=f["default"].title,l=f["default"].message,"displayMessage"===p?(g=f[p].title,l=b.msg||""):p in
f&&(g=f[p].title,l=f[p].message),this.title=g,this.message=l,a[0].title="\ube14\ub85c\uadf8 \uc811\uc18d \ubd88\uac00",this.goBack=function(){d.history.back()})}]);e.controller("exceptionCtrl",["$window","$document","$stateParams","ERROR_MESSAGE",function(d,a,b,f){b=f[b.errorType].message;a[0].title="";alertLayer(b,function(){d.history.back()})}])})();
(function(){angular.module("bgErrorRedirect.service",[]).service("errorRedirect",["$location",function(e){var d=function(a,d){e.path("/MobileErrorView.nhn").search({errorType:a});!0===d&&e.replace()};this.goNoPost=function(a){d("noPost",a)};this.goNoDisplay=function(a){d("nodisplay",a)};this.goNotFound=function(a){d("notfound",a)};this.goNoPrivilege=function(a){d("noprivilege",a)};this.goNotOwner=function(a){d("accessDenied",a)};this.goDisplayMessage=function(a,d){e.path("/MobileErrorView.nhn").search({errorType:"displayMessage",
msg:a});!0===d&&e.replace()};var a=function(a){e.path("/MobileExceptionView.nhn").search({errorType:a});e.replace()};this.alertAngBackBlogBlock=function(){a("blog")};this.alertAngBackPostBlock=function(){a("post")};this.alertAngBackSympathyBlock=function(){a("sympathy")};this.alertAngBackCommentBlock=function(){a("comment")};this.alertAngBackNoPost=function(){a("noPost")}}])})();
(function(){var e=angular.module("bgBadWord.service",[]);e.constant("BADWORD_UGC_TYPE_ID",{CONTENT:"UGC001",COMMENT:"UGC002",BLOGTITLE:"UGC006",INTRODUCTION:"UGC007",CATEGORY:"UGC008",NICKNAME:"UGC039",GUESTBOOK:"UGC085"});e.service("badWordService",["$log","$http","$httpParamSerializerJQLike","$q",function(d,a,b,f){this.alertBadWarning=function(a){alertLayer("\uc791\uc131\ud558\uc2e0 \uae00\uc5d0 \uc774\uc6a9\uc790\ub4e4\uc758 \uc2e0\uace0\uac00 \ub9ce\uc740 \ud45c\ud604("+a.badWord+")\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")};
this.checkBadWord=function(d,g){var e=a({method:"POST",url:"/WordCheckAsync.nhn",data:b({ugcTypeId:d,content:encodeURIComponent(g)}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return a.data},function(){return{error:!0}});return f(function(a,b){e.then(function(d){d.exist?b(d):a(d)},function(a){b(null)})})}}])})();
(function(){var e=angular.module("bgPenalty.service",[]);e.constant("PENALTY_MESSAGE",{WRITE_BLOCKED:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \ube14\ub85c\uadf8 \uc11c\ube44\uc2a4 \ub0b4 \uae00\uc4f0\uae30\uac00 \uc81c\ud55c\ub41c \uc0c1\ud0dc\uc785\ub2c8\ub2e4.",WRITE_BLOCKED_BY_SPAMIP:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \ud574\ub2f9 IP\uc758 \ube14\ub85c\uadf8 \uc11c\ube44\uc2a4 \ub0b4 \uae00\uc4f0\uae30\uac00 \uc81c\ud55c\ub41c \uc0c1\ud0dc\uc785\ub2c8\ub2e4.",NETWORK_BLOCKED:"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \ub2e4\ub978 \ube14\ub85c\uadf8\uc5d0\uc11c\uc758 \ud65c\ub3d9\uc774 \uc81c\ud55c\ub41c \uc0c1\ud0dc\uc785\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 PC\uc5d0\uc11c \ub0b4 \ube14\ub85c\uadf8 \uc0c1\ub2e8\uc758 \uc548\ub0b4\ub97c \ucc38\uace0\ud574\uc8fc\uc138\uc694."});
e.factory("PenaltyClass",["PENALTY_MESSAGE",function(d){var a=function(a,d){var l=!!d.writeBlockYNBySpamIP,g=!!d.writeBlockYNManuallyBySpamIP,e=!!a.initializingBlog,p=!!d.networkBlocked,r=!!d.blogOwner;this.writingBlocked=!!d.writeBlocked;this.writingBlockedBySpamIP=l;this.writingBlockedBySpamIPManually=g;this.initializingBlog=e;this.networkBlocked=p;this.blogOwner=r};a.prototype.isBlocked=function(){return this.writingBlocked||this.writingBlockedBySpamIP||this.writingBlockedBySpamIPManually};a.prototype.isWritingBlockedBySpamIP=
function(){return this.writingBlockedBySpamIP};a.prototype.isWritingBlockedBySpamIPManually=function(){return this.writingBlockedBySpamIPManually};a.prototype.isWritingBlocked=function(){return this.writingBlocked};a.prototype.isInitializingBlog=function(){return this.initializingBlog};a.prototype.isNetworkBlocked=function(){return!this.blogOwner&&this.networkBlocked};a.prototype.getMessage=function(){var a="";this.writingBlockedBySpamIPManually?a=d.WRITE_BLOCKED_BY_SPAMIP:this.writingBlockedBySpamIP?
a=d.WRITE_BLOCKED_BY_SPAMIP:this.writingBlocked||this.initializingBlog?a=d.WRITE_BLOCKED:this.networkBlocked&&(a=d.NETWORK_BLOCKED);return a};return a}]);e.service("penaltyService",["$log","PenaltyClass",function(d,a){this.createPanelty=function(b,f){var l=new a(b,f);d.debug(l);return l}}])})();
(function(){angular.module("bgLcs.service",["bgConfig","bgReferrer.service","bgInApp.service"]).service("lcsService",["$log","bgConfig.settings","referrerService","inAppService",function(e,d,a,b){var f=this,l=d.lcsUrl,g={},m=0,p=[],r="";f.lcs_do=function(d){var f="",e;try{var w=(window.location.protocol?window.location.protocol:"http:")+"//"+l+"/m?"}catch(y){return}try{var v=document.URL;"undefined"!=typeof r&&r&&(v=r);if(b.isInApp()){var u="\x26";-1==v.indexOf("?")&&(u="?");v=v+u+"inApp\x3dtrue"}f=
w+"u\x3d"+encodeURIComponent(v)+"\x26e\x3d"+(a.getReferrer()?encodeURIComponent(a.getReferrer()):"")}catch(y){}try{"undefined"==typeof g.i&&(g.i="");for(e in g)f+="\x26"+e+"\x3d"+encodeURIComponent(g[e]);for(e in d)3<=e.length&&(f+="\x26"+e+"\x3d"+encodeURIComponent(d[e]));if(0<m)var h=(new Date).getTime(),f=f+("\x26ts\x3d"+h);f+="\x26EOU";if(document.images){var t=new Image;p.push(t);t.src=f}else document.write('\x3cimg src\x3d"'+f+'" width\x3d"1" height\x3d"1" border\x3d"0" /\x3e');m++}catch(y){}};
f.lcs_do_gdid=function(a,b){try{b&&(r=b),a&&(g.i=a),f.lcs_do()}catch(d){}};f.lcs_do_url=function(a){try{a&&(r=a),f.lcs_do(),r=null}catch(b){}}}])})();
(function(){angular.module("bgInApp.service",["bgConfig"]).service("inAppService",["$log","bgConfig.settings",function(e,d){function a(a){try{var b=String(a).split("."),d=String(m).split(".");if(2<b.length&&2<d.length){if(parseInt(d[0])<parseInt(b[0]))return!0;if(parseInt(d[0])>parseInt(b[0]))return!1;if(parseInt(d[1])<parseInt(b[1]))return!0;if(parseInt(d[1])>parseInt(b[1]))return!1;if(parseInt(d[2])<parseInt(b[2]))return!0}else if(1==b.length&&1==d.length&&parseInt(d[0])<parseInt(b[0]))return!0}catch(f){}return!1}
var b=d.inAppScheme,f=d.isInApp,l=d.isAndroidApp,g=d.isIOSApp,m=d.inAppVersion;e.debug("inApp:"+f+" / isAndroidApp:"+l+" / isIOSApp:"+g+" / inAppVersion:"+m);var p=function(a,b,d,f){e.debug("[callForm]",b,d,f);f=f?"_call_app_"+f:"_call_app_"+b.slice(b.lastIndexOf("/")+1);var g=document.getElementById(f);g||(g=angular.element("\x3ciframe\x3e").attr({id:f,name:f,style:"display:none;"}),angular.element(document.body).append(g));var l=angular.element("\x3cform\x3e");l.attr({action:b,method:a,target:f});
angular.forEach(d,function(a,b){var d=angular.element("\x3cinput\x3e");d.attr({type:"hidden",name:b,value:a});l.append(d)});angular.element(document.body).append(l);l[0].submit();l.remove()};this.request=function(a,d,f,g,e){var l=b;"string"===typeof e&&(l=e);p(a,l+d,f,g)};this.requestStaticIframe=function(a,d,f,g){var e=b;"string"===typeof g&&(e=g);p(a,e+d,f,"predefined")};this.bindAppCall=function(a,b){e.debug("[bind app call]",a);window[a]=b};this.unbindAppCall=function(a){e.debug("[unbind app call]",
a);delete window[a]};this.callAndroidInterface=function(a,b,d){e.debug("[android interface call]",a,b,d);try{var f=angular.toJson(d);window[a][b](f)}catch(g){e.warn(g)}};this.isInApp=function(){return f};this.isAndroidApp=function(){return l};this.isIOSApp=function(){return g};this.getInAppVersion=function(){return m};this.isUsePushNavigate=function(){return g&&a("4.0.15")?!1:!0}}])})();
(function(){var e=angular.module("bgInApp.directive",["bgInApp.service"]);e.directive("bgTargetSelfWhenInapp",["inAppService",function(d){return{restrict:"A",priority:101,scope:{},link:{pre:function(a,b,f){d.isInApp()&&b.attr("target","_self")}}}}]);e.directive("ngHrefParamWhenInapp",["inAppService","$parse","$httpParamSerializer",function(d,a,b){return{restrict:"A",priority:100,link:{pre:function(f,e,g){f=g.ngHrefParamWhenInapp;d.isInApp()&&f&&(f=a(f)(),"object"===typeof f&&(f=b(f),e=e.attr("ng-href").trim(),
e=-1==e.indexOf("?")?e+("?"+f):e.indexOf("?")==e.length-1?e+f:e+("\x26"+f),g.$set(g.$normalize("ng-href"),e)))}}}}]);e.directive("ngHrefInapp",["$log","inAppService",function(d,a){return{restrict:"A",priority:100,scope:{ngHrefInappMethod:"@",ngHrefInapp:"@",ngHrefInappParam:"\x3d",ngHrefInappDisableEventBlock:"@",ngHrefInappBaseScheme:"@",ngHrefInappStaticIframe:"@"},link:{pre:function(b,f,e){if(a.isInApp()){var g=b.ngHrefInapp,m=b.ngHrefInappMethod||"get",p=b.ngHrefInappParam,r=void 0!=b.ngHrefInappDisableEventBlock,
k=b.ngHrefInappBaseScheme,n=void 0!=b.ngHrefInappStaticIframe;f.on("click",function(b){d.debug("[ng-href-inapp] inapp call requested",m,g,p);n?a.requestStaticIframe(m,g,p,k):a.request(m,g,p,null,k);r||(event.stopImmediatePropagation(),event.preventDefault())})}}}}}]);e.directive("ngClickInapp",["$log","$parse","inAppService",function(d,a,b){return{restrict:"A",priority:1,scope:!0,link:{pre:function(d,e,g){g=g.ngClickInapp;if(b.isInApp()&&""!=g){var m=a(g);e.on("click",function(a){d.$apply(function(){m(d,
{$event:a})})})}}}}}])})();
(function(){var e=angular.module("bgNclick.directive",["blogCommonHelper.services"]);e.directive("bgNsc",["blogCommonHelper",function(d){return{restrict:"AE",priority:599,link:{pre:function(a,b,f){if(!angular.isUndefined(f.bgNsc)){var e;try{e=angular.fromJson(f.bgNsc)}catch(g){e=void 0}b=e||{};b.ios=b.ios||"iosapp.blog2ia";b.android=b.android||"androidapp.blog2ia";b.web=b.web||"Mblog.post";f=d.getPlatformType();a.nclick=a.nclick||{};a.nclick.nsc=b[f]}}}}}]);e.directive("bgNclick",["nClickService",
function(d){return{restrict:"A",priority:599,link:{pre:function(a,b,f){var e=void 0;b.on("click",function(g){if(nclk&&"function"==typeof nclk&&f.bgNclick){if(!(g=e))a:{g=a;for(var m=0;10>m;m++)if(g.nclick){g=g.nclick;break a}else if(g.$parent)g=g.$parent;else break;g=null}e=g||{};d.nclk(b[0],f.bgNclick,f.bgNsc||e.nsc)}})}}}}]);e.service("nscService",["$window",function(d){this.setNsc=function(a){d.nsc=a};this.getNsc=function(){return d.nsc}}]);e.service("nClickService",["nscService",function(d){this.nclk=
function(a,b,f){var e;f&&(e=d.getNsc(),d.setNsc(f));nclk(a,b,"","","_self"==a.target?0:1);e&&d.setNsc(e)}}])})();var mymodule=angular.module("bgBlogAppAd.directive",[]);
mymodule.factory("MESSAGE",function(){MESSAGE_TITLE="\ube14\ub85c\uadf8 \uc571\uc744 \uc368\ubcf4\uc138\uc694!\n";NEWS="\ub0b4\uc18c\uc2dd\uc744 \ud478\uc26c \uc54c\ub9bc\uc73c\ub85c \ubc14\ub85c \ubc1b\uc744 \uc218 \uc788\uace0 \uc774\uc6c3 \uc0c8\uae00\ub3c4 \uac04\ud3b8\ud558\uac8c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4";BUDDY="\uc774\uc6c3\ub4e4\uc758 \uc0c8\uae00\uc744 \ube14\ub85c\uadf8\uc571\uc73c\ub85c\n\ud3b8\ud558\uac8c \ubc1b\uc544\ubcf4\uc138\uc694.";TEXT_ALIGN="\uac00\uc6b4\ub370\uc815\ub82c\ubd80\ud130 \ub300\ud45c\uc0ac\uc9c4\uc124\uc815\uae4c\uc9c0!\n\ube14\ub85c\uadf8\uc571\uc758 \uac15\ub825\ud55c \uae00\uc4f0\uae30!\n\uc9c0\uae08, \uccb4\ud5d8\ud574\ubcf4\uc138\uc694.";
COMMENT="\ub313\uae00, \ub2f5\uae00\uc758 \ud478\uc26c \uc54c\ub9bc\uc744 \ubc14\ub85c \ubc1b\uc744 \uc218 \uc788\uace0 \uc774\uc6c3 \uc0c8\uae00\ub3c4 \uac04\ud3b8\ud558\uac8c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.";COMMENT_STICKER="\uc7ac\ubbf8\uc788\ub294 \ub77c\uc778 \uc2a4\ud2f0\ucee4\ub85c\n\ub313\uae00\uc4f0\uae30\uac00 \ub354 \uc990\uac70\uc6cc\uc838\uc694!";GUESTBOOK="\ub313\uae00\uc758 \ud478\uc26c \uc54c\ub9bc\uc744 \ubc14\ub85c \ubc1b\uc744 \uc218 \uc788\uace0 \uc774\uc6c3 \uc0c8\uae00\ub3c4 \uac04\ud3b8\ud558\uac8c \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.";
GUESTBOOK_STAMP="\uc774\uc6c3 \ube14\ub85c\uadf8\uc5d0 \uac04\ud3b8\ud558\uace0 \uc7ac\ubbf8\uc788\ub294\n\uc548\ubd80\ub3c4\uc7a5\uc744 \ucc0d\uc5b4\ubcf4\uc138\uc694.";BLOGMAINIMAGE="\ud45c\uc9c0 \uc0ac\uc9c4 \uad00\ub9ac\ub294 \ube14\ub85c\uadf8 \uc571\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\ube14\ub85c\uadf8\uc571\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";LAUNCH_IOS="\ube14\ub85c\uadf8 \ucd94\ucc9c\ud558\uae30\ub294 \ube14\ub85c\uadf8 \uc571\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\ube14\ub85c\uadf8\uc571\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";
LAUNCH_ANDROID="\ub0b4\ube14\ub85c\uadf8\uc571/\uc774\uc6c3\ube14\ub85c\uadf8\uc571\uc740 \ube14\ub85c\uadf8 \uc571\uc5d0\uc11c\ub9cc \uc124\uce58 \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\ube14\ub85c\uadf8\uc571\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";MANAGEBUDDY="\ube14\ub85c\uadf8\uc571\uc744 \ud1b5\ud574 \ube14\ub85c\uadf8 \ucd94\ucc9c\ud558\uae30 \uae30\ub2a5\uc744 \uc0ac\uc6a9 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uc571\uc774 \uc124\uce58\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc740 \uacbd\uc6b0\n\ub2e4\uc6b4\ub85c\ub4dc \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.";
MODIFY_POST="\ubcf8\ubb38 \uc218\uc815\uc740 \uc571\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4\n\uc571\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";APP_PUSH="\uc774\uc6c3\uc0c8\uae00 \uc571\uc54c\ub9bc ON/OFF \uae30\ub2a5\uc740\n\ube14\ub85c\uadf8\uc571\uc5d0\uc11c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\uc571\uc744 \uc2e4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";HOME_EDIT="\ube14\ub85c\uadf8 \ud3b8\uc9d1\uc740 \ube14\ub85c\uadf8\uc571\uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\uc571\uc73c\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";
return{MESSAGE_TITLE:MESSAGE_TITLE,NEWS:NEWS,BUDDY:BUDDY,TEXT_ALIGN:TEXT_ALIGN,COMMENT:COMMENT,COMMENT_STICKER:COMMENT_STICKER,GUESTBOOK:GUESTBOOK,GUESTBOOK_STAMP:GUESTBOOK_STAMP,BLOGMAINIMAGE:BLOGMAINIMAGE,LAUNCH_IOS:LAUNCH_IOS,LAUNCH_ANDROID:LAUNCH_ANDROID,MANAGEBUDDY:MANAGEBUDDY,APP_PUSH:APP_PUSH,HOME_EDIT:HOME_EDIT,getAlertMessage:function(e){return this.MESSAGE_TITLE+e},getAlertMessageNoTitle:function(e){return e}}});
mymodule.factory("CUSTOMTAG",function(){return{IOS:{TYPE:"IOS",STORE:"http://itunes.apple.com/app/id328813873?mt\x3d8"},ANDROID:{TYPE:"ANDROID",STORE:"market://details?id\x3dcom.nhn.android.blog",NAVERSEARCHAPP_DOWNLOADER:"naversearchapp://appdownloader?version\x3d4\x26autoInstall\x3dcom.nhn.android.blog"}}});
mymodule.directive("blogAppAd",["$log",function(e){return{restrict:"A",controller:"appLauncherController",controllerAs:"appLauncher",scope:{blogId:"@blogId",blogNo:"@blogNo"},link:function(d,a,b,f){a.bind("click",function(a){a=b.blogAppAd;var d;d=(d=b.blogAppParamsJson)?angular.fromJson(d):"";a?(e.info(a+" launcher execute"),f.click(a,d)):e.info("launcher execute error")})}}}]);
mymodule.controller("appLauncherController",["$scope","$window","MESSAGE","CUSTOMTAG",function(e,d,a,b){var f=this,l={checklogin:!0};f.click=function(b,d){switch(b){case "blogMainImage":f.launchApp(a.getAlertMessageNoTitle(a.BLOGMAINIMAGE),"goblog","2",l,e.blogId);break;case "appPush":f.launchApp(a.getAlertMessageNoTitle(a.APP_PUSH),"","1","",e.blogId);break;case "appPushForBlogHome":f.launchApp(a.getAlertMessageNoTitle(a.APP_PUSH),"goblog","2","",e.blogId);break;case "editHome":f.launchApp(a.getAlertMessageNoTitle(a.HOME_EDIT),
"goblog","2",l,e.blogId);break;case "goBlogDirect":f.launchApp("","goblog","2","",e.blogId);break;case "postViewDirect":f.launchApp("","postview","1",d,e.blogId);break;case "goBlogSetting":f.launchApp("","gosetting","1","",e.blogId);break;case "justLaunchDirect":f.launchApp("","","","","")}};f.launchApp=function(a,d,e,l,k){function n(){f.isSafariBrowser()?9<=f.getOs().version?f.launchIosApp(q):(f.installIosApp(b.IOS.STORE,w,v),f.openIosApp(q)):f.launchAndroidApp(q)}l=f.initializeParams(l,"");var q=
f.findAppLaunchLink(d,e,l,k),w=f.initializeParams(l.needDownLoadConfirm,""),v=f.initializeParams(l.downLoadConfirmMsg,"");""!==a?confirmLayer(a,function(){n()}):n()};f.launchIosApp=function(a){d.location.href=a};f.launchAndroidApp=function(a){setTimeout(function(){document.location.href=a},300)};f.installIosApp=function(a,b,f){try{var e=+new Date;naverAppCheckTimer=setTimeout(function(){2E3>+new Date-e&&("true"==b?confirmLayer(f,function(){d.location.href=a}):d.location.href=a)},1500)}catch(l){alertLayer("\uc571\uc744 \uc124\uce58\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}};
f.openIosApp=function(a){var b=document.createElement("DIV");document.body.appendChild(b);b.innerHTML="\x3ciframe src\x3d'"+a+"' height\x3d'0' width\x3d'0' frameborder\x3d'0'\x3e\x3c/iframe\x3e";setTimeout(function(){document.body.removeChild(b)},1500)};f.findAppLaunchLink=function(a,b,d,e){a=f.initializeParams(a,"");b=f.initializeParams(b,"1");params=f.initializeParams(d,"");e=f.initializeParams(e,"'");b=f.findSchemeParameter(a,b,params,e);return f.isSafariBrowser()?9<=f.getOs().version?"https://ul.blog.naver.com/launchApp/"+
a+b:"naverblog2://"+a+b:"intent://"+a+b+"#Intent;scheme\x3dnaverblog2;action\x3dandroid.intent.action.VIEW;category\x3dandroid.intent.category.BROWSABLE;package\x3dcom.nhn.android.blog;end"};f.initializeParams=function(a,b){return null===a||"undefined"===typeof a?b:a};f.findSchemeParameter=function(a,b,d,f){if(""===a)return"";a="?version\x3d"+b;""!==f&&(a=a+"\x26blogId\x3d"+f);if(""!=d)for(var e in d)a=a+"\x26"+e+"\x3d"+d[e];return a};f.isSafariBrowser=function(){return-1<d.navigator.userAgent.indexOf("iPhone")||
-1<d.navigator.userAgent.indexOf("iPad")};f.getOs=function(){var a=d.navigator.userAgent,b,f=!1,e=!1,l="";a.match(/iPad/i)||a.match(/iPhone/i)?(f=!0,b=a.indexOf("OS ")):a.match(/Android/i)&&(e=!0,b=a.indexOf("Android "));!0===f&&-1<b?(a=a.substring(b+3),b=a.indexOf("_"),l=parseInt(a.substring(0,b))):!0===e&&-1<b&&(a=a.substring(b+8),b=a.indexOf("."),l=parseInt(a.substring(0,b)));return{ios:f,iphone:!1,android:e,version:l}}}]);mymodule=angular.module("bgExternalAppAd.directive",[]);
mymodule.factory("CustomTag",function(){return{LINE:{TYPE:"APP",APP_NAME:"LINE",APP_LINK:"line://msg/text/",IOS:{STORE:"https://itunes.apple.com/app/id443904275",REDIRECT_LINK:"http://line.me/R/msg/text/?"},ANDROID:{ACTION:"msg/text/",INTENT:"#Intent;scheme\x3dline;",PACKAGE:"jp.naver.line.android",STORE:"market://details?id\x3djp.naver.line.android"}},BAND:{TYPE:"APP",APP_NAME:"BAND",APP_LINK:"bandapp://create/post",IOS:{STORE:"http://itunes.apple.com/kr/app/id542613198"},ANDROID:{ACTION:"create/post?text\x3d",
INTENT:"#Intent;scheme\x3dbandapp;",PACKAGE:"com.nhn.android.band",STORE:"market://details?id\x3dcom.nhn.android.band"}},SMS:{TYPE:"WEB",APP_NAME:"SMS",APP_LINK:"sms:"},POST_MSG:"\ub0b4 \ube14\ub85c\uadf8\uc5d0 \ucd08\ub300\ud569\ub2c8\ub2e4~!"}});
mymodule.factory("ScriptLoader",["$q",function(e){return{load:function(d){this.promise||(this.promise=e(function(a,b){var f=document.createElement("script");document.getElementsByTagName("head")[0].appendChild(f);f.type="text/javascript";f.readyState?f.onreadystatechange=function(){if("loaded"==f.readyState||"complete"==f.readyState)f.onreadystatechange=null,a()}:f.onload=function(){a()};f.onerror=function(){};f.src=d}));return this.promise}}}]);
mymodule.directive("externalAppAd",["$log",function(e){return{restrict:"A",controller:"externalAppLauncherController",controllerAs:"externalAppLauncher",scope:{postName:"@postName",sourceUrl:"@sourceUrl",image:"@image",message:"@message"},link:function(d,a,b,f){var l=b.externalAppAd;a.bind("click",function(a){l?"KAKAO"===l&&"undefined"==typeof Kakao?(e.info(l+" launcher execute"),f.initKakao(),setTimeout(function(){f.launchKakaoLink()},150)):(e.info(l+" launcher execute"),f.click(l)):e.info("launcher execute error")})}}}]);
mymodule.controller("externalAppLauncherController",["$scope","$window","CustomTag","ScriptLoader",function(e,d,a,b){var f=this,l=e.message||a.POST_MSG;f.click=function(a){"KAKAO"==a?f.launchKakaoLink():f.launchForWeb(a)};f.launchForWeb=function(b){var d=f.getOs();if(d.ios||d.android&&1==f.isIframeTarget||"SMS"===a[b].APP_NAME){var e=f.findAppLaunchLink(b);"APP"==a[b].TYPE?f.isSafariBrowser()?9<=d.version?"LINE"===a[b].APP_NAME?f.launchApp(f.getNewLineLink()):f.launchApp(a[b].IOS.STORE):f.launchAndInstallApp(e,
a[b].IOS.STORE):f.launchAndInstallApp(e,a[b].ANDROID.STORE):f.launchApp(e)}else b=f.findIntentLink(a[b].ANDROID),f.launchApp(b)};f.launchAndInstallApp=function(a,b){var f=+new Date;setTimeout(function(){2E3>+new Date-f&&(d.location.href=b)},1E3);d.location.href=a};f.launchApp=function(a){d.location.href=a};f.initKakao=function(){b.load("http://blogimgs.naver.net/html/kakao-1.0.57.min.js").then(function(){Kakao.init("a75401c7bab624021c9af4778bf81cfd")})};f.launchKakaoLink=function(){var a=new Image;
a.src=e.image;Kakao.Link.sendTalkLink({image:{src:a.src,width:a.width,height:a.height},label:l+"\n"+e.postName+"\n"+e.sourceUrl,webButton:{text:"\ube14\ub85c\uadf8 \uc5f4\uae30",url:e.sourceUrl}})};f.isIframeTarget=function(){var a=d.navigator.userAgent,b=a.match(/Chrome\/(\d+)/)&&25<=RegExp.$1,f=/version\/[d+\.]+ Chrome/.test(a),a=/LG-F(370|350|340|320|310|300|240)/.test(a);return f&&a||!b?!0:!1};f.isSafariBrowser=function(){return-1<d.navigator.userAgent.indexOf("iPhone")||-1<d.navigator.userAgent.indexOf("iPad")};
f.findIntentLink=function(a){return"intent://"+a.ACTION+encodeURIComponent(l+" \n"+e.postName+"\n"+e.sourceUrl)+a.INTENT+"package\x3d"+a.PACKAGE+";end"};f.findAppLaunchLink=function(b){b=a[b];var d="";if("LINE"==b.APP_NAME)d=b.APP_LINK+encodeURIComponent(l+"\n"+e.postName+"\n"+e.sourceUrl);else if("BAND"==b.APP_NAME)d=b.APP_LINK+"?text\x3d"+encodeURIComponent(l+"\n"+e.postName+"\n"+e.sourceUrl);else if("SMS"==b.APP_NAME){var d=f.getOs(),p="\x26";d.android?p="?":d.ios&&"8.0">d.version&&(p=";");d=b.APP_LINK+
p+"body\x3d"+l+"%0A"+e.postName+"%0A"+e.sourceUrl}return d};f.getNewLineLink=function(){return a.LINE.IOS.REDIRECT_LINK+encodeURIComponent(l+"\n"+e.postName+"\n"+e.sourceUrl)};f.getOs=function(){var a=d.navigator.userAgent,b,f=!1,e=!1,l="";a.match(/iPad/i)||a.match(/iPhone/i)?(f=!0,b=a.indexOf("OS ")):a.match(/Android/i)&&(e=!0,b=a.indexOf("Android "));!0===f&&-1<b?(a=a.substring(b+3),b=a.indexOf("_"),l=parseInt(a.substring(0,b))):!0===e&&-1<b&&(a=a.substring(b+8),b=a.indexOf("."),l=parseInt(a.substring(0,
b)));return{ios:f,iphone:!1,android:e,version:l}}}]);var nclkVs="0.1.1",nclkIS=-1!=navigator.userAgent.toLowerCase().indexOf("safari")?!0:!1,nclkMd="cc",nclkPt="https:"==window.location.protocol?"https:":"http:";if(!g_pid)var g_pid="";if(!g_sid)var g_sid="";if(!ccsrv)var ccsrv="cc.naver.com";if(!nsc)var nsc="Mblog.temp";var nClkImg=[];
function nclk(e,d,a,b,f,l){var g,m;f||(f=0);l||(l="");g=void 0!=window.g_ssc&&void 0!=window.g_query?1:0;1==f?f=0:e.href?(f=e.tagName.toLowerCase(),m=e.href.toLowerCase(),f=e.target&&"_self"!=e.target&&"_top"!=e.target&&"_parent"!=e.target||-1!=m.indexOf("javascript:")||e.getAttribute("href",2)&&"#"==e.getAttribute("href",2).charAt(0)||-1!=m.indexOf("#")&&m.substr(0,e.href.indexOf("#"))==document.URL||"img"==f?0:1):f=0;e.href&&0==e.href.indexOf(nclkPt+"//"+ccsrv)?d=e.href:(d=nclkPt+"//"+ccsrv+"/"+
nclkMd+"?a\x3d"+d+"\x26r\x3d"+b+"\x26i\x3d"+a+"\x26m\x3d"+f,d=1==g?d+("\x26ssc\x3d"+g_ssc+"\x26q\x3d"+encodeURIComponent(g_query)+"\x26s\x3d"+g_sid+"\x26p\x3d"+g_pid+"\x26g\x3d"+l):d+("\x26nsc\x3d"+nsc),d=e.href&&0!=e.href.indexOf(nclkPt+"//"+ccsrv)&&"img"!=e.nodeName.toLowerCase()?d+("\x26u\x3d"+encodeURIComponent(e.href)):d+"\x26u\x3dabout%3Ablank");if(1==f)l=e.innerHTML,e.href=d,e.innerHTML!=l&&(e.innerHTML=l);else if(document.images){l=(new Date).getTime();d+="\x26time\x3d"+l;if(nclkIS&&!e.href)for(l=
c=new Date;100>l.getTime()-c.getTime();)l=new Date;l=new Image;nClkImg.push(e);l.src=d}return!0}
(function(){angular.module("bgDrawerMenu.directive","bgBlogUser.model bgReadHistory.model bgDrawerMenu.model blogCommonHelper.services bgNclick.directive bgReadOnly.directive bgUserAgent.service bgPersist.service bgNaverApp.service".split(" ")).directive("bgDrawerMenu",["$stateParams","bgConst.urlMap","$timeout","$window","nClickService","NaverAppViewService",function(e,d,a,b,f,l){var g=new l(e.napp||"");return{restrict:"E",replace:!0,templateUrl:"/html/ngapp/header/DrawerMenu.html",controller:"bgDrawerMenuCtrl",
controllerAs:"drawerMenu",scope:{},link:function(f,l,r,k){function n(){f.$apply(function(){k.scrollY=b.scrollY+"px";k.height=b.innerHeight+"px"});q.refresh()}var q=new IScroll(document.querySelector("._drawerScroll"),{bindToWrapper:!0,scrollX:!1,scrollY:!0,click:!0}),w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(b){return a(b,16)},v=function(a){a.preventDefault()},u=function(){f.$apply(function(){k.isShow=
!0});n();window.document.body.style.overflow="hidden";angular.element(b).on("touchmove mousewheel wheel",v);w(function(){h.addClass("is_slide")})},h=angular.element(document.querySelector("._drawerScrollWrap"));k.hide=function(a){h.removeClass("is_slide");h.one("webkitTransitionEnd transitionend oTransitionEnd",function(){f.$apply(function(){k.isShow=!1});window.document.body.style.overflow="";angular.element(b).off("touchmove mousewheel wheel",v)});a.stopPropagation()};k.hideImmediately=function(d){h.removeClass("is_slide");
a(function(){k.isShow=!1},50);window.document.body.style.overflow="";angular.element(b).off("touchmove mousewheel wheel",v);d.stopPropagation()};angular.element(document.querySelectorAll(r.bgDrawerMenuBtn)).on("click",function(a){a.stopPropagation();k.fromNaverMain()&&window.scrollTo(0,0);u()});angular.element(b).on("resize",function(){w(function(){n()})});k.pcUrl=r.bgDrawerPcUrl?r.bgDrawerPcUrl:e.blogId?d.blog+"/"+e.blogId+"?viewType\x3dpc":d.section+"/?viewType\x3dpc";k.appLinkType=r.bgDrawerAppLinkType?
r.bgDrawerAppLinkType:"justLaunchDirect";k.blogId=e.blogId;k.appLinkParams=r.bgDrawerAppParamsJson;k.recentHistoryListUrl="https://"+window.location.host+"/ReadHistoryList.nhn";k.fromNaverMain=function(){return g.fromNaverMain()}}}}]).controller("bgDrawerMenuCtrl",["$scope","$window","blogUserModel","drawerMenuModel","$stateParams","blogCommonHelper","bgUserAgent",function(e,d,a,b,f,l,g){var m=this;a.getBlogUser(f.blogId).then(function(a){angular.extend(m,{profileImageUrl:a.profileImageUrl?a.profileImageUrl+
"?type\x3ds1":"http://static.naver.net/blog/m/img_default.gif",isLoginUser:a.loggedIn,todayVisitorCount:a.todayVisitor,totalVisitorCount:a.totalVisitor,userNickName:a.nickname||a.userId,userId:a.userId,newsCount:a.newsCount})});angular.extend(m,{doLogin:function(){l.doLogin()},doLogout:function(){confirmLayer("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){l.doLogout()})}});m.checkAndroidVersion=function(a){"android"==g.os.name&&"4.0.4"==g.os.version&&"default"==g.browser.name&&
(alertLayer("\uc774 \ub2e8\ub9d0\uae30\uc5d0\uc11c\ub294 \ucd5c\uadfc \ubcf8 \uae00\uc744 \uc774\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),a.preventDefault(),a.stopPropagation())};b.getTeamBlogUpdatePostTime().then(function(a){m.hasNewPost=a});m.readTeamBlogPost=function(){b.readTeamBlogPost()}}])})();
(function(){angular.module("bgNeedLogin.directive",["bgBlogUser.model","blogCommonHelper.services"]).directive("bgNeedLogin",["blogCommonHelper","$location",function(e,d){return{restrict:"A",controller:"needLoginController",controllerAs:"login",priority:598,link:{pre:function(a,b,f,l){b.on("click",function(a){if(angular.isUndefined(l.isLoginUser()))return a.preventDefault(),a.stopImmediatePropagation(),!1;l.isLoginUser()||(a.preventDefault(),a.stopImmediatePropagation(),"bgNeedLoginAlert"in f&&confirmLayer(f.bgNeedLoginAlert||
"\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub85c\uadf8\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){var a=f.bgNeedLogin||f.href;if(a&&0===a.indexOf("/"))var b=d.protocol()+"://"+d.host()+a;e.doLogin(b)},null,b[0]))})}}}}]).controller("needLoginController",["blogUserModel","$stateParams",function(e,d){var a={},b=e.getBlogUser(d.blogId).then(function(b){a=b});this.ready=function(){return b};this.isLoginUser=function(){return a.loggedIn}}])})();
(function(){angular.module("bgSimpleHeader.directive",["bgNclick.directive","bgInApp.service"]).directive("bgSimpleHeader",[function(){return{restrict:"E",replace:!0,templateUrl:"/html/ngapp/header/SimpleHeader.html",controller:"bgSimpleHeaderCtrl",controllerAs:"header",scope:{title:"@bgTitle",num:"@bgNum",backButtonClickCode:"@bgBackButtonNclick"}}}]).controller("bgSimpleHeaderCtrl",["$window","inAppService",function(e,d){this.isInApp=function(){return d.isInApp()};this.back=function(){e.history.back()}}])})();
(function(){angular.module("bgBlogUser.model",["blogCommonHelper.services"]).factory("blogUserModel",["$http","$httpParamSerializerJQLike","blogCommonHelper",function(e,d,a){return{getBlogUser:function(a){return e.get(null!=a?"/rego/BlogUserInfo.nhn?blogId\x3d"+a:"/rego/BlogUserInfo.nhn",{cache:!0,expireTime:3E3}).then(function(a){return a.data.result},function(){return{error:!0}})},setThumbView:function(a,f){return e({url:"/BlogTripleSUpdateAsync.nhn",method:"POST",data:d({key:"MBVT",value:f?"thumbnail":
"list"}),headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return"SUCCESS"===a.data},function(){return{error:!0}})}}}])})();
(function(){angular.module("bgUsainClient.service",["bgConfig"]).factory("UsainClient",["$log","$httpParamSerializerJQLike","bgConfig.settings",function(e,d,a){function b(){this.sent=0}var f=a.usainUrl,l=a.deployPhase,g=a.usainOn,m=a.countryCode||"NONE",p;b.prototype.send=function(a){if(0<this.sent||!g)p=null;else{this.sent=1;var b={rc:"0:0:0",rn:"0:0:0"};b.tags=[m,m+"."+a].join(":");b.platform="m_web";b.deployphase=l;b.v=2;b.navt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(new Date).getTime()-p,0,0,0].join(":");
var n=new Image;n.src=f+"/er?"+d(b);n.onload=function(){n.onload=null};p=null;e.debug("send data : "+d(b))}};b.setRouteStartTime=function(a){p=a};return b}])})();
(function(){var e=angular.module("bgPostList.controller","bgPostList.model bgBlogUser.model blogCommonHelper.services bgCategoryList.controller bgBlockLayoutService.service bgLazyImg.directive bgVisibleContents.directive infinite-scroll bgCarousel.directive smoothScroll blogCommonHelper.services bgLikeIt.service bgSocialPlugin.service bgNclick.directive bgNaverApp.service".split(" "));e.constant("POST_LIST_STYLE",{style1:"card",style2:"list",style3:"album"});e.controller("postListCtrl",["$window",
"$log","$scope","$rootScope","$state","$stateParams","$timeout","$filter","blockLayoutService","postListModel","blogUserModel","blogModel","categoryListModal","likeItService","socialPluginService","blogCommonHelper","bgConst.urlMap","nscService","POST_LIST_STYLE","NaverAppViewService",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u,h,t,y,D,B){var x=this;a=g.listStyle||r.getPostListStyleKey();var E=D[a]||D.style1,F=new B(g.napp||"");(function(){var a=function(){y.setNsc("Mblog.post");x.error=!1;x.loaded=!1;
k.getInitPostListFromPersist().then(function(a){x.postList=a.postViewList;E=a.listStyle;var f=a.scrollY;x.loaded=!0;m(function(){f&&(b.lastScrollY=a.scrollY,d.scrollTo(0,f));v.init();u.init()},0)},function(){k.getInitPostList(g.blogId,g.logCode,g.categoryNo,g.currentPage,D.style3===E).then(function(a){G(a)})})};a();x.reload=a;q.getBlog(g.blogId).then(function(a){x.blog=a});n.getBlogUser(g.blogId).then(function(a){x.blogUser=a});b.$on("bgPersist:locationChange",function(a,b){k.persist({scrollY:d.pageYOffset,
postViewList:x.postList,listStyle:E})})})();var G=function(a){x.loaded=!0;a.error?x.error=!0:(x.postList=a,m(function(){b.lastScrollY=0;v.init();u.init()},0))};x.loadMoreTop=function(){k.getMoreTopPostList().then(function(a){a.error?alertLayer("\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):(a=a.reverse(),angular.forEach(a,function(a){x.postList.unshift(a)}),m(function(){v.update();u.update()}))})};x.loadMore=
function(){k.getMorePostList().then(function(a){a.error?alertLayer("\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):(angular.forEach(a,function(a){x.postList.push(a)}),m(function(){v.update();u.update()}))})};x.changeHistory=function(a,b){b.preventDefault();var f=k.getLoadMorePage(),f=angular.extend({},g,{currentPage:f});e.go(e.$current.self.name,f,{reload:!1,notify:!1,location:"replace",inherit:!1});d.location.href=
x.getPostLink(a)};x.getPostTitle=function(a){var b;b=(b=a.titleWithInspectMessage)?b.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#39;").replace(/&nbsp;/g,"").replace(/"/g,"\x26quot;"):b;return a.scraped?"[\uacf5\uc720]"+b:b};x.changeStyle=function(a){var b=D[a]||D.style1;E!==b&&(D.style3===b?k.getInitPostList(g.blogId,g.logCode,g.categoryNo,1,!0).then(function(a){G(a)}):D.style3===E&&k.getInitPostList(g.blogId,g.logCode,g.categoryNo,1,!1).then(function(a){G(a)}),E=b,r.setLoadedPostListStyleKey(a),
m(function(){v.init();u.init()}))};x.getOpenText=function(a){return a.notOpen||!a.categoryOpenYn?"\ube44\uacf5\uac1c":a.bothBuddyOpen?"\uc11c\ub85c\uc774\uc6c3":a.buddyOpen?"\uc774\uc6c3\uacf5\uac1c":""};x.getPostLink=function(a){var b=k.getCategoryNo();return"/PostView.nhn?blogId\x3d"+a.blogId+"\x26logNo\x3d"+a.logNo+(b&&0!==b?"":"\x26navType\x3dtl")};x.getPostUrl=function(a){return t.nmobile+"/PostView.nhn?blogId\x3d"+a.blogId+"\x26logNo\x3d"+a.logNo};x.getCanonicalPostUrl=function(a){return t.nmobile+
"/"+a.blogId+"/"+a.logNo};x.getListViewThumbnailPath=function(a){return a.encodedThumbnailUrl+"?type\x3ds140"};x.getThumbnailCount=function(a){return 100<=a.thumbnailCount?"99+":a.thumbnailCount};x.getCardViewThumbnailPath=function(a,b){return b.encodedThumbnailUrl+"?type\x3d"+("P"==b.type?"ff320_174":"w320")};x.needDisplayOpenText=function(a){return""!==x.getOpenText(a)};x.isBlock=function(a,b){return a.postBlocked||a.categoryBlockYn||b&&b.block};x.hasNoMore=function(){return k.hasNoMore()};x.hasNoMoreTop=
function(){return k.hasNoMoreTop()};x.isLoadingMore=function(){return k.isLoadingMore()};x.isLoadingMoreTop=function(){return k.isLoadingMoreTop()};x.getCategoryName=function(){return k.getCategoryName()};x.isCardView=function(){return D.style1===E};x.isListView=function(){return D.style2===E};x.isAlbumView=function(){return D.style3===E};x.showCategoryList=function(){w.activate()};x.getFormattedDate=function(a){return h.getFormattedDate(a)};x.getPostStatLink=function(a){return t.commonStat+"/m/blog/article/"+
a.logNo+"/cv"};x.getFormattedReadCount=function(a){return 1E4<=a?p("number")(a/1E4,0)+"\ub9cc":p("number")(a,0)};x.getOgLinkThumbnail=function(a){return t.dthumb+encodeURIComponent('"'+a.image.url+'"')+"\x26type\x3df220"};x.hasOgLinkThumbnail=function(a){return a.image&&null!==a.image.url&&""!==a.image.url};x.generateInitializeFunction=function(a){if(x.blog)return u.generateInitializeFunction(x.blog.blogOwner,a)};x.isCategoryListActive=function(){return w.active()};x.fromNaverMain=function(){return F.fromNaverMain()}}]);
e.directive("bgScrollTo",["$window","$timeout","smoothScroll",function(d,a,b){return{restrict:"A",link:function(d,e){d.$on("scrollTo:setScrollToPostList",function(g,m){0<d.lastScrollY||a(function(){var a=e[0];0<m&&(a=e[0].querySelector("#pc_"+m));a||(a=e[0]);b(a,{duration:400,easing:"easeOutQuart",offset:47})},10)})}}}]);e.directive("bgFinishRender",["$window","$timeout","likeItService","socialPluginService",function(d,a,b,f){return{restrict:"A",link:function(d,e,m){!0===d.$last&&a(function(){b.init();
f.init();d.$emit("blogHomeCtrl:activate:postlist")})}}}])})();
(function(){angular.module("bgPostList.model",["bgPersist.service"]).service("postListModel",["$http","$httpParamSerializerJQLike","$log","$q","persist",function(e,d,a,b,f){function l(a,b,f,g,l){return e.get((l?"/rego/ThumbnailPostListInfo.nhn?":"/rego/PostListInfo.nhn?")+d({blogId:a,logCode:b||0,categoryNo:f||0,currentPage:g||1}),{timeout:5E3}).then(function(a){return a.data.result},function(){return{error:!0}})}function g(a){a=a||{};a.currentCategoryNo=r;a.currentLogCode=k;a.currentBlogId=w;a.categoryName=
u;a.totalPage=v;a.loadMorePage=n;a.loadMoreTopPage=q;a.currentIsAlbumView=y;return a}function m(a){r=r||a.currentCategoryNo;k=k||a.currentLogCode;w=w||a.currentBlogId;u=a.categoryName;v=a.totalPage;n=a.loadMorePage||a.currentPage;q=a.loadMoreTopPage||a.currentPage;y=y||a.currentIsAlbumView}function p(a){if(void 0===a||null===a||a.error)return{error:!0};m(a);return a.postViewList}var r=null,k=null,n=null,q=null,w=null,v=null,u=null,h=!1,t=!1,y=!1;this.getInitPostListFromPersist=function(){var a=f.pop();
return b(function(b,d){a?(m(a),b(a)):d()}).then(function(a){return a})};this.getInitPostList=function(a,b,d,f,e){r=d;k=b;w=a;y=e||!1;return l(w,k,r,f,y).then(p)};this.getMorePostList=function(){var a=n+1;h=!0;return l(w,k,r,a,y).then(function(a){h=!1;if(a.error)return{error:!0};n+=1;return a.postViewList})};this.getMoreTopPostList=function(){var a=q-1;t=!0;return l(w,k,r,a,y).then(function(a){t=!1;if(a.error)return{error:!0};--q;return a.postViewList})};this.persist=function(a){f.push(g(a))};this.getLoadMoreTopPage=
function(){return q};this.hasNoMore=function(){return n>=v};this.hasNoMoreTop=function(){return 1>=q};this.getCategoryName=function(){return u};this.isLoadingMore=function(){return h};this.isLoadingMoreTop=function(){return t};this.getLoadMorePage=function(){return n};this.getCategoryNo=function(){return r}}])})();
(function(){angular.module("bgBlog.model",[]).service("blogModel",["$http",function(e){this.getBlog=function(d){return e.get("/rego/BlogInfo.nhn?blogId\x3d"+d,{cache:!0,expireTime:1E4}).then(function(a){return a.data.result},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgReadOnly.directive",["bgReadOnly.service"]);e.directive("rosHide",["ReadOnlyService",function(d){return{restrict:"E",transclude:!0,link:function(a,b,f,e,g){!1===d.isReadOnly()?g(function(a){b.replaceWith(a)}):b.remove()}}}]);e.directive("rosClick",["ReadOnlyService",function(d){return{restrict:"AE",priority:599,link:{pre:function(a,b,f){b.bind("click",function(a){!0===d.isReadOnly()&&(a.stopImmediatePropagation(),a.preventDefault(),alertLayer(d.getAlertMessage(f.rosClick)))})}}}}])})();
(function(){angular.module("bgReadOnly.service",[]).service("ReadOnlyService",["$log","$rootScope",function(e,d){this.isReadOnly=function(){return d.isReadOnly};this.getMessage=function(){return!1===d.isReadOnly?"":d.readOnlyStatus.reason};this.getUsageTipUrl=function(){return!1===d.isReadOnly?"":d.readOnlyStatus.usageTip};this.getStartTime=function(){return!1===d.isReadOnly?"":d.readOnlyStatus.startTime};this.getEndTime=function(){return!1===d.isReadOnly?"":d.readOnlyStatus.endTime};this.getAlertMessage=
function(a){if(!1===d.isReadOnly)return"";a&&""!==a||(a=d.readOnlyStatus.reason);return a+"\n\n\uc810\uac80\uc2dc\uac04 : "+d.readOnlyStatus.startTime+" ~ "+d.readOnlyStatus.endTime}}])})();
(function(){var e=angular.module("bgCategoryList.model",[]);e.service("categoryListModel",["$http",function(d){this.getCategoryList=function(a){return d.get("/rego/CategoryList.nhn?blogId\x3d"+a,{cache:!0,expireTime:1E4}).then(function(a){return a.data.result},function(){return{error:!0}})}}]);e.service("categoryListForWriteModel",["$http",function(d){this.getCategoryList=function(a){return d.get("/rego/CategoryListForWrite.nhn?blogId\x3d"+a).then(function(a){return a.data.result},function(){return{error:!0}})}}])})();
(function(){angular.module("bgNotice.model",[]).service("noticeModel",["$http",function(e){this.getNoticePostList=function(d){return e.get("/rego/Notice.nhn?blogId\x3d"+d,{cache:!0,expireTime:1E4}).then(function(a){return a.data.result},function(){return{error:!0}})}}])})();
(function(){angular.module("bgBlockLayout.model",[]).service("blockLayoutModel",["$http",function(e){this.getBlockLayout=function(d){return e.get("/rego/BlockLayoutInfo.nhn?blogId\x3d"+d).then(function(a){return a.data.result},function(){return{error:!0}})}}])})();
(function(){angular.module("bgBuddyAdd.service",["bgBuddy.model","bgReferrer.service","bgInApp.service"]).factory("buddyAdder",["$window","$location","buddyValidateModel","buddyModifyModel","referrerService","inAppService",function(e,d,a,b,f,l){function g(a,b,d){var f=decodeURIComponent(d);if(!(d&&0<f.length)){if(a&&0<a.length)return a;if(b&&0<b.length)return b}return f}function m(a,d,f){confirmLayer(d,function(){b.cancelBothBuddyRequest(a).then(function(a){a.valid?(alertLayer("\uc11c\ub85c\uc774\uc6c3 \uc2e0\uccad\uc744 \ucde8\uc18c\ud558\uc600\uc2b5\ub2c8\ub2e4."),
window.history.go(-2)):(alertLayer(a.message),k(f))})},function(){k(f)})}function p(a,d){confirmLayer(d,function(){b.cancelBothBuddyRequest(a).then(function(a){a.valid?alertLayer("\uc11c\ub85c\uc774\uc6c3 \uc2e0\uccad\uc744 \ucde8\uc18c\ud558\uc600\uc2b5\ub2c8\ub2e4."):alertLayer(a.message);r(!1)})},function(){r(!1)})}function r(a){l.request("get","/modalView/Close",{refresh:a})}function k(a){""!=a?location.href=a:""!=f.getReferrer()?window.history.go(-1):location.href="/"+a}var n=function(a,d){confirmLayer(d,
function(){b.cancelBothBuddyRequest(a).then(function(a){a.valid?alertLayer("\uc11c\ub85c\uc774\uc6c3 \uc2e0\uccad\uc744 \ucde8\uc18c\ud558\uc600\uc2b5\ub2c8\ub2e4."):alertLayer(a.message)})})},q=function(a,b,f){f.valid||f.isAlreadyBuddy?l.isInApp()?e.location.href=b:d.url(b):f.isProgressingInviteBuddy?n(a,f.message):f.message&&alertLayer(f.message)},w=function(a,b){return l.isInApp()?a+"?blogId\x3d"+b+"\x26loadOnModalView\x3dtrue\x26template\x3dmodal":a+"?blogId\x3d"+b+"\x26returnUrl\x3d"+encodeURIComponent(location.href)};
return{goAddBuddyForm:function(b){a.validate(b).then(function(a){q(b,w("/BuddyAddForm.nhn",b),a)})},goModifyBuddyForm:function(b){a.validate(b).then(function(a){q(b,w("/BuddyModifyForm.nhn",b),a)})},goBothBuddyModifyForm:function(b){a.validate(b).then(function(a){q(b,w("/BothBuddyModifyForm.nhn",b),a)})},checkBuddyValidationResult:function(a,b,d,f){a=g(a,b,f);d.isProgressingInviteBuddy?m(b,d.message,a):d.isSpamFiltered?alertLayer(d.message,function(){e.history.back()}):(d.isAlreadyBuddy?alertLayer("\uc774\ubbf8 \ucd94\uac00\ud55c \uc774\uc6c3\uc785\ub2c8\ub2e4."):
alertLayer(d.message),k(a))},checkBuddyValidationResultInApp:function(a,b,d){d.isProgressingInviteBuddy?p(b,d.message):(d.isAlreadyBuddy?alertLayer("\uc774\ubbf8 \ucd94\uac00\ud55c \uc774\uc6c3\uc785\ub2c8\ub2e4."):alertLayer(d.message),r(!1))},isValidBothBuddyInviteMessage:function(a){return null!=a&&400<a.length?!1:!0},validateBuddyAdd:function(b,d){return a.validateBuddyAdd(b,d).then(function(a){if(a.valid)return!0;alertLayer(a.message||"\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694");
return!1},function(){alertLayer("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694");return!1})},validateBothBuddyInvite:function(b,d){return a.validateBothBuddyInvite(b,d).then(function(a){if(a.valid)return!0;alertLayer(a.message||"\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694");return!1},function(){alertLayer("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694");return!1})},buddyAddAsync:function(a){return b.buddyAddAsync(a).then(function(a){if(!0===
a)return alertLayer("\uc774\uc6c3\ucd94\uac00\ud558\uc600\uc2b5\ub2c8\ub2e4."),!0;a.error?alertLayer(a.error.message):alertLayer("\uc774\uc6c3\ucd94\uac00 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n \ub2e4\uc2dc \uc2dc\ub3c4 \ud574\uc8fc\uc138\uc694.");return!1},function(){alertLayer("\uc774\uc6c3\ucd94\uac00 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n \ub2e4\uc2dc \uc2dc\ub3c4 \ud574\uc8fc\uc138\uc694.");return!1})},isEmptyGroupName:function(a){return""===
a.trim()},isOverGroupNameLength:function(a){for(var b=0,d=0;d<a.length;d++)127>a.charCodeAt(d)?b++:b+=2;a=b;return 100<a||2>a?!0:!1}}}])})();(function(){angular.module("bgIntroduce.model",[]).factory("introduceModel",["$http",function(e){var d={success:!1};return{getFor:function(a){return e.doPost("/rego/Introduce.nhn",{blogId:a}).then(function(a){return a.data.result&&"undefined"!=typeof a.data.result.introduce?{success:!0,introduce:a.data.result.introduce}:d},function(){return d})}}}])})();
(function(){angular.module("bgIntroduce.controller",["bgIntroduce.model"]).controller("introduceController",["$scope","$timeout","$stateParams","introduceModel",function(e,d,a,b){var f=this,l=a.blogId;a=function(){f.loaded=!1;f.error=!1;b.getFor(l).then(function(a){a.success?(f.loaded=!0,""===a.introduce?f.hideBlock=!0:f.introduce=a.introduce):f.error=!0;d(function(){e.$emit("blogHomeCtrl:activate:introduce")})})};f.hideBlock=!1;f.reload=a;a()}])})();
(function(){var e=angular.module("bgPopularPostBlock.controller",["bgPopularPostBlock.model","bgLazyImg.directive"]);e.constant("POPULAR_POST_BLOCK_OPTION",{POPULAR:{KOR_NAME:"\uc778\uae30\uae00",LIST_CLASS:"popular_type",DESCRIPTION:"\uc8fc\uac04 \uc870\ud68c\uc218\uac00 \ub192\uc740 \uae00\uc785\ub2c8\ub2e4.",CLICK_CODE:"ppl.popview",POST_CLICK_CODE:"ppl.post"},REPRESENT:{KOR_NAME:"\ub300\ud45c\uae00",LIST_CLASS:"represent_type",DESCRIPTION:"\ube14\ub85c\uadf8 \uc8fc\uc778\uc774 \uc120\uc815\ud55c \uae00\uc785\ub2c8\ub2e4.",
CLICK_CODE:"ppl.picview",POST_CLICK_CODE:"ppl.picpost"}});e.controller("popularPostBlockCtrl",["$scope","$stateParams","$timeout","POPULAR_POST_BLOCK_OPTION","popularPostBlockModel",function(d,a,b,f,e){var g=this,m=a.blogId;a=function(){g.loaded=!1;g.error=!1;e.getFor(m).then(function(a){g.loaded=!0;a.success?0<a.popularPostBlockInfoList.length?(g.popularPostBlockInfoList=a.popularPostBlockInfoList,angular.forEach(g.popularPostBlockInfoList,function(a){a.name=f[a.type].KOR_NAME;a.postListClass=f[a.type].LIST_CLASS;
a.description=f[a.type].DESCRIPTION;a.tabClickCode=f[a.type].CLICK_CODE;a.postClickCode=f[a.type].POST_CLICK_CODE}),g.currentIndex=0,g.changeCurrentBlockInfo(0)):g.hideBlock=!0:g.error=!0;b(function(){d.$emit("blogHomeCtrl:activate:popularpostlist")})})};g.changeCurrentBlockInfo=function(a){g.popularPostBlockInfoList[g.currentIndex].isActive=!1;g.popularPostBlockInfoList[a].isActive=!0;g.currentIndex=a};a();g.reload=a}])})();
(function(){angular.module("bgPopularPostBlock.model",[]).factory("popularPostBlockModel",["$http","$httpParamSerializerJQLike",function(e,d){var a={success:!1};return{getFor:function(b){return e.get("/rego/PopularPostBlockInfo.nhn?"+d({blogId:b})).then(function(b){return b.data.result?{success:!0,popularPostBlockInfoList:b.data.result.popularPostBlockInfoList}:a},function(){return a})}}}])})();
(function(){angular.module("bgReputation.model",[]).factory("reputationModel",["$http",function(e){var d={success:!1};return{getFor:function(a){return e.doPost("/rego/ReputationList.nhn",{blogId:a}).then(function(a){return a.data.result?{success:!0,reputationList:a.data.result.reputationList}:d},function(){return d})}}}])})();
(function(){angular.module("bgReputation.controller",["bgReputation.model"]).controller("reputationController",["$scope","$timeout","$stateParams","reputationModel",function(e,d,a,b){var f=this,l=a.blogId;a=function(){f.loaded=!1;f.error=!1;b.getFor(l).then(function(a){a.success?(f.loaded=!0,0===a.reputationList.length?f.hideBlock=!0:f.reputationList=a.reputationList):f.error=!0;d(function(){e.$emit("blogHomeCtrl:activate:reputation")})})};f.hideBlock=!1;f.reload=a;f.directoryList=function(a){return a.split(" ")};
f.getDateText=function(a){var b=a.year+"\ub144";0!==a.month&&(b=b+" "+a.month+"\uc6d4");return b};f.getDirectoryNameText=function(a){return a?a.replace(/ /g,"\u00b7"):""};a()}])})();
(function(){angular.module("bgTalkTalk.model",[]).factory("talkTalkModel",["$http",function(e){var d={success:!1};return{getFor:function(a){return e.get("/rego/TalkTalkAndReservationInfo.nhn?blogId\x3d"+a).then(function(a){return a.data.result?{success:!0,talkTalkAccountView:a.data.result.talkTalkAccountView,blogReservationInfo:a.data.result.blogReservationInfo}:d},function(){return d})}}}])})();
(function(){angular.module("bgTalkTalk.controller",["bgTalkTalk.model"]).controller("talkTalkController",["$scope","$timeout","$stateParams","talkTalkModel",function(e,d,a,b){var f=this,l=a.blogId;f.talkTalkLoaded=!1;f.reservationLoaded=!1;(function(){b.getFor(l).then(function(a){a.success&&(a.talkTalkAccountView.talkTalkAccount.isLinked&&(f.talkTalkUrl=a.talkTalkAccountView.talkTalkUrl,f.talkTalkLoaded=!0),a.blogReservationInfo.openyn&&(f.reservationUrl=a.blogReservationInfo.reservationUrl,f.reservationLoaded=
!0));d(function(){e.$emit("blogHomeCtrl:activate:talktalk")})})})()}])})();
(function(){var e=angular.module("bgPersist.service",["ui.router"]);e.value("persistState",{isLocationBack:void 0});e.run(["$rootScope","$log","$window","persistState","$location","$urlMatcherFactory",function(d,a,b,f,e,g){function m(e,l,g){q==l?q="":(q=l,a.debug("[PERSIST] $locationChangeStart"),a.debug("[PERSIST] oldUrl : "+g),a.debug("[PERSIST] newUrl : "+l),a.debug("[PERSIST] $window.location.href : "+b.location.href),angular.isUndefined(f.isLocationBack)?f.isLocationBack=n:f.isLocationBack=g!==
b.location.href,f.isLocationBack||(a.debug("[PERSIST] $broadcast bgPersist:locationChange - $locationChangeStart"),d.$broadcast("bgPersist:locationChange")))}function p(a,b){var d=w[a.name];d||(d=g.compile(a.url),w[a.name]=d);return d?d.format(b):a.url}function r(a){return[e.protocol(),"://",e.host(),a].join("")}var k=window.performance,n=k&&k.navigation&&k.navigation.type===(k.navigation.TYPE_BACK_FORWARD||2);d.$on("$locationChangeStart",m);d.$on("$stateChangeSuccess",function(a,b,d,f,e){f=r(p(f,
e));b=r(p(b,d));m(a,b,f)});var q="",w={}}]);e.directive("bgPersist",["$rootScope","$log",function(d,a){return{restrict:"A",link:function(b,f,e){if("A"===f[0].tagName&&"_self"===e.target)f.on("click",function(b){a.debug("[PERSIST] $broadcast bgPersist:locationChange - bgPersist");d.$broadcast("bgPersist:locationChange")})}}}]).factory("persist",["$rootScope","$window","$timeout","$location","$log","persistState",function(d,a,b,f,e,g){function m(a){if(a){try{a.setItem("__tmp_____persist___","___persist___")}catch(b){return!1}return"___persist___"===
a.getItem("__tmp_____persist___")?!0:!1}}function p(){var a,b=u?u.getItem(q.href+"___persist___"):n.state,d="string"===typeof b&&0<b.length&&"null"!==b,f;try{if(!d)throw Error();a=w.parse(b);f=!("object"!==typeof a||a instanceof Array);if(!f)throw Error();}catch(g){e.warn("window.history or session/localStorage has no valid format data to be handled in persist."),a={}}return a}function r(a){if(u)a?u.setItem(q.href+"___persist___",w.stringify(a)):u.removeItem(q.href+"___persist___");else try{n.replaceState(null===
a?null:w.stringify(a),doc.title,q.href)}catch(b){e.warn(b.message)}}var k=window,n=k.history,q=k.location,w=k.JSON,v="replaceState"in n&&"state"in n,u;u=m(k.sessionStorage)?k.sessionStorage:m(k.localStorage)?k.localStorage:void 0;if(v||u){if(w){g.isLocationBack||r(null);var h=function(a){var b,d;"string"===typeof a?(b=a,d=2===arguments.length?arguments[1]:null):(b="KEY___persist___",d=1===arguments.length?a:null);if(d){var f=b,e=p();e[f]=d;r(e)}b=p()[b];if("null"===b||"undefined"===typeof b)b=null;
return b};return{push:function(a){a&&h(a)},pop:function(){if(g.isLocationBack){var a=h();r(null);return a}},persistGo:function(g,k){b(function(){k?(e.debug("[PERSIST] $broadcast bgPersist:locationChange - bgPersist"),d.$broadcast("bgPersist:locationChange"),a.location.href=g):f.url(g)},0)}}}e.warn("The JSON object is not supported in your browser.\r\nFor work around use polyfill which can be found at:\r\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON#Polyfill")}}])})();
(function(){angular.module("bgNilSender.service",["blogCommonHelper.services","bgReferrer.service"]).service("nilSender",["$log","$document","bgConst.urlMap","referrerService",function(e,d,a,b){function f(a){switch(a){case 0:return"3";case 1:return"2";case 2:return"1";default:return"0"}}this.sendCV=function(d,g,m,p){try{nil.init("naver_blog",d),nil.setDevMode(nilOptions.devMode),nil.add({gdid:"",dimension_1:"",optional_1:m?"1":"0",referrer:b.getReferrer(),uri:"http://blog.naver.com/"+d,user_type:f(g),
hit_type:"cv"}),"3"!=f(g)&&(nil.send("cv",p),e.debug({gdid:"",dimension_1:"",optional_1:m?"1":"0",referrer:b.getReferrer(),uri:a.blog+"/"+d,user_type:f(g),hit_type:"cv"}))}catch(r){e.debug(r)}}}])})();(function(){angular.module("bgShortUrl.model",[]).factory("shortUrl",["$http",function(e){return{"for":function(d,a){return e.doPost("/rego/CreateShortUrlAsync.nhn",{blogId:d,url:a}).then(function(b){return b.data.result?b.data.result:a})}}}])})();
(function(){angular.module("bgExternalChannel.controller",["bgExternalChannel.model"]).constant("EXTERNALCHANNEL_CONST",{pholar:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_pholar.png",CLICKCODE:"pls.ocpholar"},post:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_post.png",CLICKCODE:"pls.ocpost"},instagram:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_instagram2.png",CLICKCODE:"pls.ocinsta"},facebook:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_facebook.png",CLICKCODE:"pls.ocfb"},
twitter:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_twitter.png",CLICKCODE:"pls.octw"},plusfriend:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_plusfriend.png",CLICKCODE:"pls.ockpf"},storefarm:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink_storefarm.png",CLICKCODE:"pls.ocsf"},site:{LOGO:"https://ssl.pstatic.net/static/blog/ico_outlink.png",CLICKCODE:"pls.ocurl"}}).controller("externalChannelCtrl",["$scope","$stateParams","$timeout","EXTERNALCHANNEL_CONST","externalChannelModel",
function(e,d,a,b,f){var l=this;l.hideBlock=!1;var g=function(){l.loaded=!0;a(function(){e.$emit("blogHomeCtrl:activate:externalchannel")})},m=function(){l.loaded=!1;l.error=!1;f.getEnabledList(d.blogId).then(function(a){g();a?0===a.length?l.hideBlock=!0:l.externalChannelList=a:l.error=!0},function(){g();l.error=!0})};m();l.reload=m;l.getLogoImageUrl=function(a){return b[a].LOGO};l.getClickCode=function(a){return b[a].CLICKCODE};l.makeDisplayName=function(a){return a.replace(/^http:\/\//,"")}}])})();
(function(){angular.module("bgExternalChannel.model",[]).factory("externalChannelModel",["$http",function(e){return{getEnabledList:function(d){return e.get("/rego/ExternalChannelListAsync.nhn?blogId\x3d"+d).then(function(a){return a.data.result.externalChannelList},function(){return{error:!0}})}}}])})();
(function(){angular.module("bgExternalPost.controller",["bgExternalPost.model"]).constant("EXTERNAL_POST",{pholar:{KOR_NAME:"\ud3f4\ub77c",LIST_CLICK_CODE:"ebg.oclpholist",CLICK_CODE:"ebg.oclpholar",POST_COUNT:12},post:{KOR_NAME:"\ud3ec\uc2a4\ud2b8",LIST_CLICK_CODE:"ebg.oclposlist",CLICK_CODE:"ebg.oclpost",POST_COUNT:6},pageEventPrefix:"pageEvent_"}).controller("externalPostCtrl",["$scope","$stateParams","$timeout","EXTERNAL_POST","externalPostModel",function(e,d,a,b,f){var l=this,g=function(){l.loaded=
!1;l.error=!1;f.getPostOrderList(d.blogId).then(function(d){l.loaded=!0;d?(l.externalPostOrderList=d.externalPostOrderList,angular.forEach(l.externalPostOrderList,function(a){a.show=!1;a.hasData=!1;a.loading=!0;a.reloading=!1;a.firstLoad=!0;a.name=b[a.type].KOR_NAME;a.listClickCode=b[a.type].LIST_CLICK_CODE;a.clickCode=b[a.type].CLICK_CODE}),0<l.externalPostOrderList.length&&(l.externalPostOrderList[0].show=!0,l.externalPostOrderList[0].loading=!1,l.externalPostOrderList[0].hasData=!0,l.externalPostOrderList[0].postList=
d.externalPost.externalPostList,l.appendIfLack(l.externalPostOrderList[0].postList,l.externalPostOrderList[0].type),l.currentIndex=0)):l.error=!0;a(function(){e.$emit("blogHomeCtrl:activate:externalpost")})},function(){l.loaded=!0;l.error=!0})};g();l.reload=g;l.appendIfLack=function(a,d){if(a.length<b[d].POST_COUNT&&0<a.length)for(var f=b[d].POST_COUNT-a.length,e=0;e<f;e++)a.push({thumbnailUrl:null})};l.showExternalTab=function(a){!l.externalPostOrderList[a].hasData&&l.externalPostOrderList[a].firstLoad&&
(l.externalPostOrderList[a].firstLoad=!1,l.externalPostOrderList[a].reloading=!1,l.externalPostOrderList[a].loading=!0,f.getPostList(d.blogId,l.externalPostOrderList[a].type).then(function(b){l.externalPostOrderList[a].postList=b;l.externalPostOrderList[a].hasData=!0;l.externalPostOrderList[a].loading=!1;l.appendIfLack(l.externalPostOrderList[a].postList,l.externalPostOrderList[a].type)},function(){l.externalPostOrderList[a].loading=!1;l.externalPostOrderList[a].reloading=!0}));l.externalPostOrderList[l.currentIndex].show=
!1;l.externalPostOrderList[a].show=!0;l.currentIndex=a;e.$broadcast(b.pageEventPrefix+a)};l.getBackgroundImageStyle=function(a){return a?"url("+a+")":""}}])})();
(function(){"user strict";angular.module("bgExternalPost.model",[]).factory("externalPostModel",["$http",function(e){return{getPostOrderList:function(d){return e.get("/rego/ExternalPostOrderAsync.nhn?blogId\x3d"+d).then(function(a){return a.data.result},function(){return{error:!0}})},getPostList:function(d,a){return e.get("/rego/ExternalPostAsync.nhn?blogId\x3d"+d+"\x26type\x3d"+a).then(function(a){return a.data.result.externalPost.externalPostList},function(){return{error:!0}})}}}])})();
(function(){angular.module("bgLikeIt.service",["blogCommonHelper.services","bgLazyJSLoader.service"]).service("likeItService",["$filter","bgConst.urlMap","LazyJSLoader",function(e,d,a){var b=this,f=d.likeit+"/static/js/likeIt.list.js";e="?v\x3d"+e("date")(new Date,"yyyyMMdd");b.lazyLoader=new a(f+e);b.init=function(){return this.initPromis?(b.update(),this.initPromis):this.initPromis=b.lazyLoader.load().then(function(){nhn.LikeIt.list.util.init({sId:"BLOG",sDomain:d.likeit,bMobile:!0,sMaxCount:"9,999+",
bHideZeroCount:!1,sLibrary:"jquery",sTemplate:'\x3cspan class\x3d"u_ico"\x3e\x3c/span\x3e \x3cem class\x3d"u_txt"\x3e\uacf5\uac10\ud574\uc694\x3c/em\x3e \x3cem class\x3d"u_cnt _cnt"\x3e\x3c/em\x3e'})})};b.update=function(){"undefined"!=typeof nhn&&nhn.LikeIt&&nhn.LikeIt.list.instance.update()}}])})();
(function(){angular.module("bgLazyJSLoader.service",[]).factory("LazyJSLoader",["$q",function(e){function d(a,b){this.jsUrl=a;this.jsCharset=b}d.prototype.load=function(){var a=this;if(a.promis)return a.promis;a.promis=e(function(b,d){var e=document.createElement("script");e.type="text/javascript";a.jsCharset&&(e.charset=a.jsCharset);document.getElementsByTagName("head")[0].appendChild(e);e.readyState?e.onreadystatechange=function(){if("loaded"==e.readyState||"complete"==e.readyState)e.onreadystatechange=
null,b()}:e.onload=function(){b()};e.onerror=function(){d()};e.src=a.jsUrl});return a.promis};d.prototype.reLoad=function(){this.script&&(document.getElementsByTagName("head")[0]&&document.getElementsByTagName("head")[0].removeChild(this.script),this.script=null);this.promis&&(this.promis=null);return this.load()};return d}])})();
(function(){var e=angular.module("bgSocialPlugin.service",["blogCommonHelper.services","bgLazyJSLoader.service","bgInApp.service","bgReadOnly.service"]);e.service("socialPluginService",["$window","$filter","inAppService","bgConst.urlMap","LazyJSLoader","ReadOnlyService",function(d,a,b,f,e,g){var m=this,p=f.spi+"/js/release/ko_KR/splugin.m.js";a="?"+a("date")(new Date,"yyyyMMdd");m.lazyLoader=new e(p+a);var r=[];m.init=function(){this.jsLoaderPromis||(this.jsLoaderPromis=m.lazyLoader.load());return this.jsLoaderPromis.then(function(){window.__splugin?
(angular.forEach(r,function(a){d[a]&&delete d[a]}),r=[],window.__splugin.init()):window.__splugin=SocialPlugIn_Core({evKey:"blog",serviceName:"\ube14\ub85c\uadf8",dimmed:"fixed"})})};m.update=function(){window.__splugin.init()};m.generateInitializeFunction=function(a,e){var l="socialinitFn_"+e.logNo;r.push(l);d[l]=function(){var d={source:"",tags:["\ub124\uc774\ubc84\ube14\ub85c\uadf8"],me:{display:"",fCallback:"",feedInfo:"\ube14\ub85c\uac70\uc758 \uae00\uc774"},line:{display:""},facebook:{display:"",
sourceUrl:""},twitter:{display:""},post:{display:""},pholar:{display:""},mail:{display:"",srvid:"",srvurl:""},cafe:{display:"",proxyUrl:""},blog:{display:"",proxyUrl:""},calendar:{display:""},disco:{display:""},kakaotalk:{display:""},kakaostory:{display:""}},l,p,h,m,q,r,B,x;l=e.title||e.titleWithInspectMessage;p=e.blogName;h=f.blog+"/"+e.blogId+"/"+e.logNo;m=e.blogId;q=e.logNo;r=!e.memolog&&e.allOpenPost&&(a||e.outSideAllow);x=e.isScrapEnable||0!==e.scrapType;B=a||x;x=!a&&x;d.title=l;d.tags.push(p);
d.line.display="on";l=r?"on":"off";d.facebook.display=l;d.twitter.display=l;d.mail.display=l;d.post.display=l;d.pholar.display=l;d.disco.display=l;d.kakaostory.display=l;d.kakaotalk.display=l;r&&(d.facebook.serviceUrl=h,d.mail.srvid="blog",d.mail.srvurl="http://bookmark.naver.com/getRichMailTmpl.ajax?sourceUrl\x3d"+encodeURIComponent(h));d.cafe.display=B?"on":"off";B?d.cafe.proxyUrl="/ScrapToCafe.nhn?inAppNavigation\x3dtrue\x26blogId\x3d"+m+"\x26logNo\x3d"+q:d.cafe.display="off";d.blog.display=x?
"on":"off";x&&!1===g.isReadOnly()?(d.blog.blogId=m,d.blog.proxyUrl="/ScrapToBlog.nhn?loadOnModalView\x3dtrue\x26template\x3dmodal\x26isShowingGnb\x3dfalse\x26blogId\x3d"+m+"\x26logNo\x3d"+q):d.blog.display="off";b.isInApp()&&(d.calendar.display="off");return d};return l+"()"}}]);e.directive("bgDataOninitialize",["$log",function(d){return{restrict:"A",link:function(a,b,d){b.attr("data-oninitialize",d.bgDataOninitialize)}}}])})();
(function(){angular.module("bgAutoComplete.model",[]).service("autoCompleteModel",["$log","$http","$httpParamSerializerJQLike",function(e,d,a){this.getAutoCompleteList=function(b){return d.jsonp("//tac.blog.naver.com/ac?"+a({q:b,q_enc:"MS949",st:1,r_format:"json",r_enc:"UTF-8",r_cache:0,r_lt:1,_callback:"JSON_CALLBACK"})).then(function(a){if(!a.data||!a.data.items[0])return[];var b=[];angular.forEach(a.data.items[0],function(a,d){b.push({word:a[0][0]})});return b},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgLocalStorage.service",[]);e.constant("bgLocalStorage.key",{SEARCH_WORD_LIST:"search.word.list",SEARCH_WORD_CONFIG:"search.word.config",AUTO_COMPLETE_CONFIG:"auto.complete.config",RECOMMEND_LAST_MENU:"recommend.last.menu",READ_HISTORY_LIST:"read.history.store",READ_TEAMBLOG_POST:"read.teamblog.post",TEAMBLOG_UPDATE_TIME:"teamblog.update.time",NAVERAPP_ADDITION_LAYER:"naverapp.addition.layer",REPRESENT_POST_RED_DOT:"represent.post.red.dot"});e.service("searchWordService",
["$window","storage","bgLocalStorage.key",function(d,a,b){function f(a,b){var d;a:{for(d=0;d<a.length;d++)if(a[d].word===b)break a;d=-1}-1!==d&&a.splice(d,1)}var e=this;e.on=function(d){if(angular.isDefined(d))a.setItem(b.SEARCH_WORD_CONFIG,d?"true":"false");else return!a.getItem(b.SEARCH_WORD_CONFIG)||"true"===a.getItem(b.SEARCH_WORD_CONFIG)};e.getSearchWordList=function(){var d=a.getItem(b.SEARCH_WORD_LIST)||"[]";return angular.fromJson(d)};e.pushSearchWord=function(d){var m=e.getSearchWordList();
f(m,d);m.unshift({word:d,date:new Date});10<m.length&&m.splice(10,m.length-10);a.setItem(b.SEARCH_WORD_LIST,angular.toJson(m))};e.removeSearchWord=function(d){var m=e.getSearchWordList();f(m,d);a.setItem(b.SEARCH_WORD_LIST,angular.toJson(m))};e.clear=function(){a.removeItem(b.SEARCH_WORD_LIST)}}]);e.service("autoCompleteConfigService",["$window","storage","bgLocalStorage.key",function(d,a,b){this.on=function(d){if(angular.isDefined(d))a.setItem(b.AUTO_COMPLETE_CONFIG,d?"true":"false");else return!a.getItem(b.AUTO_COMPLETE_CONFIG)||
"true"===a.getItem(b.AUTO_COMPLETE_CONFIG)}}]);e.service("recommendLastMenuService",["$window","storage","bgLocalStorage.key",function(d,a,b){this.getMenu=function(){return a.getItem(b.RECOMMEND_LAST_MENU)};this.saveMenu=function(d){a.setItem(b.RECOMMEND_LAST_MENU,d)}}]);e.service("readTeamBlogNewPostService",["$window","storage","bgLocalStorage.key",function(d,a,b){this.read=function(){a.setItem(b.READ_TEAMBLOG_POST,"true")};this.isRead=function(d){a.getItem(b.TEAMBLOG_UPDATE_TIME)!=d&&(a.setItem(b.READ_TEAMBLOG_POST,
"false"),a.setItem(b.TEAMBLOG_UPDATE_TIME,d));return"true"===a.getItem(b.READ_TEAMBLOG_POST)?!0:!1}}]);e.service("readHistoryStoreService",["objectStorage","bgLocalStorage.key",function(d,a){this.saveList=function(b){d.setItem(a.READ_HISTORY_LIST,b)};this.readList=function(){return d.getItem(a.READ_HISTORY_LIST)}}]);e.service("naverAppAdditionStoreService",["objectStorage","bgLocalStorage.key",function(d,a){this.closeLayer=function(){d.setItem(a.NAVERAPP_ADDITION_LAYER,"true")};this.isClosed=function(){return"true"===
d.getItem(a.NAVERAPP_ADDITION_LAYER)?!0:!1}}]);e.service("representPostRedDotService",["storage","bgLocalStorage.key",function(d,a){this.isShow=function(b){var f=d.getItem(a.REPRESENT_POST_RED_DOT)||"{}",f=angular.fromJson(f);return!f[b]||"true"===f[b]};this.noMoreShow=function(b){var f=angular.fromJson(d.getItem(a.REPRESENT_POST_RED_DOT));f||(f={});f[b]="false";d.setItem(a.REPRESENT_POST_RED_DOT,angular.toJson(f))}}]);e.service("objectStorage",["storage",function(d){this.setItem=function(a,b){return d.setItem(a,
angular.toJson(b))};this.getItem=function(a){return angular.fromJson(d.getItem(a))};this.removeItem=function(a){d.removeItem(a)}}]);e.factory("storage",["$window","FakeStorage",function(d,a){function b(a){if(a){try{a.setItem("__tmp_____persist___","___persist___")}catch(b){return!1}return"___persist___"===a.getItem("__tmp_____persist___")?!0:!1}}return b(d.localStorage)?d.localStorage:b(d.sessionStorage)?d.sessionStorage:new a}]);e.factory("FakeStorage",[function(){function d(){this.fakeStorage={}}
d.prototype.getItem=function(a){return this.fakeStorage[a]};d.prototype.setItem=function(a,b){return this.fakeStorage[a]=b};d.prototype.removeItem=function(a){this.fakeStorage[a]&&delete this.fakeStorage[a]};return d}])})();(function(){angular.module("bgReferrer.service",[]).service("referrerService",[function(){var e;this.setReferrer=function(d){e=0<d.indexOf("proxyReferer\x3d")?decodeURIComponent(d.split("proxyReferer\x3d")[1]):d};this.getReferrer=function(){return e}}])})();
(function(){angular.module("bgAutoComplete.service",["bgLocalStorage.service","bgAutoComplete.model"]).service("autoCompleteService",["$q","$log","searchWordService","autoCompleteConfigService","autoCompleteModel",function(e,d,a,b,f){function l(a,b){for(var d=0;d<a.length;d++)if(a[d].word===b.word)return d;return-1}this.getSearchWordList=function(){return a.getSearchWordList()};this.pushSearchWord=function(b){a.pushSearchWord(b)};this.removeSearchWord=function(b){a.removeSearchWord(b)};this.onSaveSearchWord=
function(b){return a.on(b)};this.clearSearchWord=function(){a.clear()};this.onAutoComplete=function(a){return b.on(a)};this.autoCompleteList=function(d){var m=e.defer();if(""===d)return m.reject(),m.promise;if(!b.on())return m.resolve({autoCompleteList:[],searchWordList:[],query:d}),m.promise;f.getAutoCompleteList(d).then(function(f){if(b.on()){for(var e=a.getSearchWordList(),k=angular.copy(f),n=0;n<e.length;n++){var q=k,w=l(q,e[n]);-1!==w&&q.splice(w,1)}n=[];for(q=0;q<e.length;q++)-1<l(f,e[q])&&
n.push(e[q]);m.resolve({autoCompleteList:k,searchWordList:n,query:d})}else m.resolve({autoCompleteList:[],searchWordList:[],query:d})});return m.promise}}])})();
(function(){var e=angular.module("bgSectionSearch.controller","commonHelper.services blogCommonHelper.services bgAutoComplete.service bgLcs.service bgInApp.service bgInput.directive bgSectionSearch.model".split(" "));e.config(["$stateProvider",function(d){d.state("sectionPostSearch",{url:"/SectionPostSearch.nhn?searchValue\x26orderType",templateUrl:"/html/ngapp/search/SectionSearch.html",controller:"sectionSearchCtrl",controllerAs:"sectionSearchCtrl",resolve:{searchType:function(){return"POST"}}}).state("sectionTagSearch",
{url:"/SectionTagSearch.nhn?searchValue",templateUrl:"/html/ngapp/search/SectionSearch.html",controller:"sectionSearchCtrl",controllerAs:"sectionSearchCtrl",resolve:{searchType:function(){return"TAG"}}}).state("sectionBlogSearch",{url:"/SectionBlogSearch.nhn?searchValue",templateUrl:"/html/ngapp/search/SectionSearch.html",controller:"sectionSearchCtrl",controllerAs:"sectionSearchCtrl",resolve:{searchType:function(){return"BLOG"}}}).state("sectionNicknameNIdSearch",{url:"/SectionNicknameNIdSearch.nhn?searchValue",
templateUrl:"/html/ngapp/search/SectionSearch.html",controller:"sectionSearchCtrl",controllerAs:"sectionSearchCtrl",resolve:{searchType:function(){return"NICKNAME_AND_ID"}}})}]);e.controller("sectionSearchCtrl",["$scope","$log","$window","$timeout","$location","$state","$stateParams","commonHelper","blogCommonHelper","sectionSearchModel","autoCompleteService","lcsService","inAppService","bgConst.urlMap","searchType",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u){var h=this;b.document.title="\ube14\ub85c\uadf8 \uac80\uc0c9 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";
(function(){h.searchMode=!1;h.acQuery="";h.query=m.searchValue;h.autoCompleteList=[];h.searchWordList=n.getSearchWordList();h.searchType=u;k.initSearchFromPersist().then(function(a){h.searchResultList=a.list;f(function(){var d=a.scrollY;d&&b.scrollTo(0,d)},0)},function(){m.searchValue&&k.initSearch(m.searchValue,u,1,m.orderType).then(function(a){h.searchResultList=a})});d.$on("bgPersist:locationChange",function(a,d){k.persist({scrollY:b.pageYOffset,list:h.searchResultList})});q.lcs_do()})();var t=
p.delayedOnceFn(function(a){n.autoCompleteList(a).then(function(a){h.autoCompleteList=a.autoCompleteList;h.searchWordList=a.searchWordList;h.acQuery=a.query},function(){h.clear()})},300);h.change=function(){t(h.query)};h.onFocusSearch=function(){h.setSearchMode();h.autoCompleteList=[];h.searchWordList=[];h.query?t(h.query):h.searchWordList=n.getSearchWordList()};h.search=function(a){if(a)if(d.$broadcast("bgBlurInputByMessage:blur"),a==m.searchValue)g.reload();else{var b=angular.copy(m);b.searchValue=
a;h.addSearchWord(a);e.path(e.path()).search(b)}else alertLayer("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")};h.back=function(){h.searchMode?h.setResultMode():b.history.back()};h.addSearchWord=function(a){n.pushSearchWord(a)};h.removeSearchWord=function(a){n.removeSearchWord(h.searchWordList[a].word);h.searchWordList.splice(a,1)};h.isOnSaveSearchWord=function(){return n.onSaveSearchWord()};h.offSaveSearchWord=function(){n.onSaveSearchWord(!1)};h.onSaveSearchWord=function(){n.onSaveSearchWord(!0)};
h.isOnAutoComplete=function(){return n.onAutoComplete()};h.offAutoComplete=function(){n.onAutoComplete(!1);h.searchWordList=[];h.autoCompleteList=[]};h.onAutoComplete=function(){n.onAutoComplete(!0);t(h.query)};h.isAutoCompleteView=function(){return""!==h.acQuery};h.isSearchWordView=function(){return!h.isAutoCompleteView()};h.isEmptySearchWordList=function(){return 0===h.searchWordList.length};h.isNotEmptySearchWordList=function(){return 0!==h.searchWordList.length};h.clearSearchWord=function(){h.searchWordList=
[];n.clearSearchWord()};h.clear=function(){h.acQuery="";h.query="";h.autoCompleteList=[];h.searchWordList=n.getSearchWordList()};h.hightlight=function(a){a=r.htmlRemove(a);if(""==h.acQuery)return a;var b=r.htmlRemove(h.acQuery),d=r.escapeRegExp(b);return a.replace(new RegExp(d,"g"),'\x3cmark class\x3d"match"\x3e'+b+"\x3c/mark\x3e")};h.setSearchMode=function(){h.searchMode=!0};h.setResultMode=function(){h.query=m.searchValue;h.searchMode=!1};h.isPostSearch=function(){return"POST"===h.searchType};h.isTagSearch=
function(){return"TAG"===h.searchType};h.isBlogSearch=function(){return"BLOG"===h.searchType};h.isNicknameNIdSearch=function(){return"NICKNAME_AND_ID"===h.searchType};h.getOrderType=function(){return h.isPostSearch()?m.orderType?m.orderType:"sim":m.orderType};h.getFormattedDate=function(a){return r.getFormattedDate(a)};h.hasNoMore=function(){return k.hasNoMore()};h.isLoadingMore=function(){return k.isLoadingMore()};h.getTotalCount=function(){return k.getTotalCount()};h.loadMore=function(){k.searchMore().then(function(a){angular.forEach(a,
function(a){h.searchResultList.push(a)})})};h.getSearchValue=function(){return m.searchValue};h.isPostView=function(){return"POST"===h.searchType||"TAG"==h.searchType};h.isBlogView=function(){return!h.isPostView()};h.hightlightBlogResult=function(a){if(""==m.searchValue)return a;a=r.htmlRemove(a);return a.replace(new RegExp(m.searchValue,"g"),'\x3cstrong class\x3d"c_g"\x3e'+m.searchValue+"\x3c/strong\x3e")};h.isSuicideWord=function(){return k.isSuicideWord()};h.isAdult=function(){return k.isAdult()};
h.isEmptyResult=function(){return!h.searchResultList||0==h.searchResultList.length};h.goNidPage=function(){var a=k.getAuthUrlType();b.location.href="NOT_ADULT"===a?"https://nid.naver.com/login/ext/notadult.nhn?viewtype\x3d1\x26a_version\x3d2\x26svctype\x3d262272\x26"+encodeURIComponent(b.location.href+"\x26srul\x3d"+v.nmobile):"REALNAME"===a?"https://nid.naver.com/mobile/user/help/realNameCheck.nhn?type\x3d11\x26a_version\x3d2\x26rurl\x3d"+encodeURIComponent(b.location.href+"\x26srul\x3d"+v.nmobile):
"https://nid.naver.com/nidlogin.login?svctype\x3d262272\x26a_version\x3d2\x26viewtype\x3d1\x26url\x3d"+encodeURIComponent(b.location.href+"\x26srul\x3d"+v.nmobile)};h.isInApp=function(){return w.isInApp()};h.getListItemNClick=function(){var a={POST:"scp",TAG:"sct",BLOG:"scb",NICKNAME_AND_ID:"scn"};return(a[h.searchType]||a.POST)+".list"};h.getPostViewSearchKeyword=function(){return h.isPostSearch()?"\x26referrerCode\x3d0\x26searchKeyword\x3d"+encodeURIComponent(h.query):""}}])})();
(function(){var e=angular.module("bgBlogSearch.controller","commonHelper.services blogCommonHelper.services bgAutoComplete.service bgLcs.service bgInApp.service bgBlog.model bgInput.directive bgBlogSearch.model".split(" "));e.config(["$stateProvider",function(d){d.state("blogPostSearch",{url:"/PostSearchList.nhn?blogId\x26searchText\x26orderType",templateUrl:"/html/ngapp/search/BlogSearch.html",controller:"blogSearchCtrl",controllerAs:"blogSearchCtrl",resolve:{resolveBlog:["blogModel","$stateParams",
function(a,b){return a.getBlog(b.blogId)}],searchType:function(){return"POST"}}}).state("blogTagSearch",{url:"/PostTagSearchList.nhn?blogId\x26searchText",templateUrl:"/html/ngapp/search/BlogSearch.html",controller:"blogSearchCtrl",controllerAs:"blogSearchCtrl",resolve:{resolveBlog:["blogModel","$stateParams",function(a,b){return a.getBlog(b.blogId)}],searchType:function(){return"TAG"}}})}]);e.controller("blogSearchCtrl",["$scope","$log","$window","$timeout","$location","$state","$stateParams","commonHelper",
"blogCommonHelper","autoCompleteService","lcsService","inAppService","blogSearchModel","searchType","resolveBlog",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u){var h=this;(function(){h.blog=u;h.searchMode=!1;h.acQuery="";h.query=m.searchText;h.autoCompleteList=[];h.searchWordList=k.getSearchWordList();h.searchType=v;w.initSearchFromPersist().then(function(a){h.searchResultList=a.list;f(function(){var d=a.scrollY;d&&b.scrollTo(0,d)},0)},function(){m.searchText&&w.initSearch(m.blogId,m.searchText,v,1,"TAG"==
v?"date":m.orderType).then(function(a){h.searchResultList=a})});d.$on("bgPersist:locationChange",function(){w.persist({scrollY:b.pageYOffset,list:h.searchResultList})});n.lcs_do()})();var t=p.delayedOnceFn(function(a){k.autoCompleteList(a).then(function(a){h.autoCompleteList=a.autoCompleteList;h.searchWordList=a.searchWordList;h.acQuery=a.query},function(){h.clear()})},300);h.change=function(){t(h.query)};h.onFocusSearch=function(){h.setSearchMode();h.autoCompleteList=[];h.searchWordList=[];h.query?
t(h.query):h.searchWordList=k.getSearchWordList()};h.search=function(a){if(a)if(d.$broadcast("bgBlurInputByMessage:blur"),a==m.searchText)g.reload();else{var b=angular.copy(m);b.searchText=a;h.addSearchWord(a);e.path(e.path()).search(b)}else alertLayer("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")};h.back=function(){h.searchMode?h.setResultMode():b.history.back()};h.addSearchWord=function(a){k.pushSearchWord(a)};h.removeSearchWord=function(a){k.removeSearchWord(h.searchWordList[a].word);
h.searchWordList.splice(a,1)};h.isOnSaveSearchWord=function(){return k.onSaveSearchWord()};h.offSaveSearchWord=function(){k.onSaveSearchWord(!1)};h.onSaveSearchWord=function(){k.onSaveSearchWord(!0)};h.isOnAutoComplete=function(){return k.onAutoComplete()};h.offAutoComplete=function(){k.onAutoComplete(!1);h.searchWordList=[];h.autoCompleteList=[]};h.onAutoComplete=function(){k.onAutoComplete(!0);t(h.query)};h.isAutoCompleteView=function(){return""!==h.acQuery};h.isSearchWordView=function(){return!h.isAutoCompleteView()};
h.clearSearchWord=function(){h.searchWordList=[];k.clearSearchWord()};h.clear=function(){h.acQuery="";h.query="";h.autoCompleteList=[];h.searchWordList=k.getSearchWordList()};h.hightlight=function(a){a=r.htmlRemove(a);if(""===h.acQuery)return a;var b=r.htmlRemove(h.acQuery),d=r.escapeRegExp(b);return a.replace(new RegExp(d,"g"),'\x3cmark class\x3d"match"\x3e'+b+"\x3c/mark\x3e")};h.setSearchMode=function(){h.searchMode=!0};h.setResultMode=function(){h.query=m.searchText;h.searchMode=!1};h.isPostSearch=
function(){return"POST"===h.searchType};h.isTagSearch=function(){return"TAG"===h.searchType};h.isEmptySearchWordList=function(){return 0===h.searchWordList.length};h.isNotEmptySearchWordList=function(){return 0!==h.searchWordList.length};h.isLoadingMore=function(){return w.isLoadingMore()};h.getOrderType=function(){return h.isPostSearch()?m.orderType?m.orderType:"sim":m.orderType};h.getFormattedDate=function(a){return r.getFormattedDate(a)};h.hasNoMore=function(){return w.hasNoMore()};h.getTotalCount=
function(){return w.getTotalCount()};h.loadMore=function(){w.searchMore().then(function(a){angular.forEach(a,function(a){h.searchResultList.push(a)})})};h.getSearchValue=function(){return void 0===m.searchText?null:encodeURIComponent(m.searchText)};h.getListItemNClick=function(){return h.isTagSearch()?"sch.tlist":q.isInApp()?"bsr.plist":"sch.list"};h.moveSectionSearch=function(){var a={};h.isTagSearch()?(a.searchValue=h.query,e.path("/SectionTagSearch.nhn").search(a)):(a.searchValue=h.query,a.orderType=
m.orderType,e.path("/SectionPostSearch.nhn").search(a))};h.isSuicideWord=function(){return w.isSuicideWord()};h.isInApp=function(){return q.isInApp()};h.getPostViewSearchKeyword=function(){return h.isPostSearch()?"\x26referrerCode\x3d0\x26searchKeyword\x3d"+encodeURIComponent(h.query):""}}])})();
(function(){var e=angular.module("bgSympathyHistoryList.controller","bgError.controller bgInApp.service bgLcs.service bgSympathyHistoryList.model bgDefaultImage.directive bgTwoWayInfiniteScroll.directive".split(" "));e.config(["$stateProvider",function(d){d.state("sympathyHistoryList",{url:"/SympathyHistoryList.nhn?blogId\x26logNo",templateUrl:"/html/ngapp/sympathy/SympathyHistoryList.html",controller:"sympathyHistoryListCtrl",controllerAs:"ctrl",resolve:{resolveSympathyHistoryList:["$stateParams",
"SympathyHistoryListModel",function(a,b){return b.getSympathyHistoryList(a.blogId,a.logNo)}]}})}]);e.controller("sympathyHistoryListCtrl",["$scope","$rootScope","$stateParams","$window","$state","resolveSympathyHistoryList","SympathyHistoryListModel","inAppService","lcsService","$timeout","ERROR_MESSAGE","errorRedirect","buddyAdder","referrerService",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v){var u=this;u.activate=!1;f.document.title="\uacf5\uac10 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";if(!0===g.error)k(function(){confirmLayer(n.errorConfirmRefresh.message,
function(){e.reload()},function(){f.history.back()})},0);else if(g.data.error)switch(g.data.error.code){case "accessDeniedMyLog":q.alertAngBackPostBlock();break;case "accessDeniedSympathy":q.alertAngBackSympathyBlock();break;case "deletedPost":q.goNoPost(!0);break;default:q.goNotFound(!0)}else a=g.data.result,u.blogId=b.blogId,u.logNo=b.logNo,u.sympathyHistoryList=a.sympathyHistoryList,u.postTitle=a.postTitle,u.postAddDate=a.postAddDate,u.isOwner=a.blogOwner,u.blogNickName=a.blogNickName,u.isSympathizable=
a.sympathizable,u.paging={totalCount:a.totalCount,prevPage:a.currentPage,morePage:a.currentPage,totalPage:a.totalPage,isLoadingPrev:!1,isLoadingMore:!1},p.isInApp()&&p.request("get","/SympathyList/sympathyInfo",{blogId:u.blogId,logNo:u.logNo,count:u.paging.totalCount,postTitle:u.postTitle,isSympathizable:u.isSympathizable}),u.activate=!0,u.disableLoadPrevMore=function(){return u.paging.isLoadingPrev||1>=u.paging.prevPage},u.prevMore=function(){if(!u.disableLoadPrevMore())return u.paging.isLoadingPrev=
!0,m.getSympathyHistoryList(u.blogId,u.logNo,u.paging.prevPage-1).then(function(a){if(a.data&&a.data.result){a=a.data.result.sympathyHistoryList.reverse();var b=document.body.scrollHeight;angular.forEach(a,function(a){u.sympathyHistoryList.unshift(a)});k(function(){document.body.scrollTop=document.body.scrollHeight-b;u.paging.isLoadingPrev=!1;--u.paging.prevPage},0)}else alertLayer(n.errorLoad.message,function(){d.$apply(function(){u.paging.isLoadingPrev=!1})})})},u.loadMore=function(){if(!u.disableLoadMore())return u.paging.isLoadingMore=
!0,m.getSympathyHistoryList(u.blogId,u.logNo,u.paging.morePage+1).then(function(a){a.data&&a.data.result?(angular.forEach(a.data.result.sympathyHistoryList,function(a){u.sympathyHistoryList.push(a)}),k(function(){u.paging.isLoadingMore=!1;u.paging.morePage+=1},0)):alertLayer(n.errorLoad.message,function(){d.$apply(function(){u.paging.isLoadingMore=!1})})})},u.disableLoadMore=function(){return u.paging.isLoadingMore||u.paging.morePage>=u.paging.totalPage},u.deleteSympathyHistory=function(a){confirmLayer("\uacf5\uac10\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
function(){m.deleteSympathyHistory(u.blogId,u.logNo,a.userId).then(function(a){a.data?!0===a.data.result?e.reload():alertLayer(n.errorLoad.message):alertLayer(n.errorLoad.message)})})},u.back=function(){f.history.back()},u.isInApp=function(){return p.isInApp()},u.getDefaultImageUrl=function(){return"http://static.naver.com/blog/m/img_default.gif"},u.getIsFromBlogNews=function(){return-1<v.getReferrer().indexOf("/News.nhn")?"\x26referrerCode\x3d4":""},u.addBuddy=function(a){w.goAddBuddyForm(a)},u.bothBuddyModify=
function(a){w.goBothBuddyModifyForm(a)},u.addBothBuddy=function(a){w.goModifyBuddyForm(a)},r.lcs_do()}])})();
(function(){angular.module("bgSympathyHistoryList.model",[]).service("SympathyHistoryListModel",["$http",function(e){this.getSympathyHistoryList=function(d,a,b){return e.get("/rego/SympathyHistoryListJson.nhn?blogId\x3d"+d+"\x26logNo\x3d"+a+(b?"\x26pageNo\x3d"+b:"")).then(function(a){return a},function(){return{error:!0}})};this.deleteSympathyHistory=function(d,a,b){return e.post("rego/SympathyHistoryDeleteByBlogOwnerAsync.nhn?blogId\x3d"+d+"\x26logNo\x3d"+a+"\x26memberId\x3d"+b).then(function(a){return a},
function(){return{error:!0}})}}])})();
(function(){angular.module("bgBlogSearch.model",[]).service("blogSearchModel",["$log","$http","$q","$httpParamSerializerJQLike","persist",function(e,d,a,b,f){function l(a,f,e,l,g){return d.get("/rego/BlogSearch.nhn?"+b({blogId:a,query:f,searchType:e||"POST",currentPage:l||1,sortType:g||"sim"})).then(function(a){return a.data.result},function(){return{error:!0}})}function g(a){a=a||{};a.currentBlogId=r;a.query=k;a.searchType=q;a.currentPage=n;a.sortType=w;a.totalPage=v;a.loadMorePage=u;a.totalCount=
h;a.suicideWord=y;return a}function m(a){r=r||a.currentBlogId;k=a.query;n=a.currentPage;q=a.searchType;w=a.sortType;v=a.totalPage;h=a.totalCount;u=a.loadMorePage||a.currentPage;y=a.suicideWord}function p(a){if(void 0===a||null===a||a.error)return{error:!0};m(a);return a.list}var r=null,k=null,n=null,q=null,w=null,v=null,u=null,h=null,t=!1,y=!1;this.initSearchFromPersist=function(){var b=f.pop();return a(function(a,d){b?(m(b),a(b)):d()}).then(function(a){return a})};this.initSearch=function(a,b,d,
f,e){r=a;k=b;q=d;w=e;u=f;return l(r,k,q,f,w).then(p)};this.searchMore=function(){var a=u+1;t=!0;return l(r,k,q,a,w).then(function(a){t=!1;if(a.error)return{error:!0};u+=1;return a.list})};this.persist=function(a){f.push(g(a))};this.hasNoMore=function(){return u>=v};this.isLoadingMore=function(){return t};this.getLoadMorePage=function(){return u};this.getTotalCount=function(){return h};this.isSuicideWord=function(){return y}}])})();
(function(){angular.module("bgSectionSearch.model",[]).service("sectionSearchModel",["$http","$q","$httpParamSerializerJQLike","persist",function(e,d,a,b){function f(b,d,f,l){return e.get("/rego/SectionSearch.nhn?"+a({query:b,searchType:d||"POST",currentPage:f||1,orderType:l||"sim"})).then(function(a){return a.data.result},function(){return{error:!0}})}function l(a){a=a||{};a.query=p;a.searchType=k;a.currentPage=r;a.sortType=n;a.totalPage=q;a.loadMorePage=w;a.totalCount=v;a.suicideWord=h;a.queryControlInfo=
{};a.queryControlInfo.isAdult=t;a.authUrlType=y;return a}function g(a){p=a.query;r=a.currentPage;k=a.searchType;n=a.sortType;q=a.totalPage;v=a.totalCount;w=a.loadMorePage||a.currentPage;h=a.suicideWord;t=a.queryControlInfo.isAdult;y=a.authUrlType}function m(a){if(void 0===a||null===a||a.error)return{error:!0};g(a);return a.list}var p=null,r=null,k=null,n=null,q=null,w=null,v=null,u=!1,h=!1,t=!1,y=null;this.initSearchFromPersist=function(){var a=b.pop();return d(function(b,d){a?(g(a),b(a)):d()}).then(function(a){return a})};
this.initSearch=function(a,b,d,e){t=!1;p=a;k=b;n=e;return f(p,k,d,n).then(m)};this.searchMore=function(){var a=w+1;u=!0;return f(p,k,a,n).then(function(a){u=!1;if(a.error)return{error:!0};w+=1;return a.list})};this.persist=function(a){b.push(l(a))};this.hasNoMore=function(){return w>=q};this.isLoadingMore=function(){return u};this.getLoadMorePage=function(){return w};this.getTotalCount=function(){return v};this.getSearchType=function(){return k};this.isSuicideWord=function(){return h};this.isAdult=
function(){return t};this.getAuthUrlType=function(){return y}}])})();
(function(){var e=angular.module("bgInput.directive",[]);e.directive("bgImmediateInput",["$parse",function(d){return{priority:2,restrict:"A",compile:function(a){a.on("compositionstart",function(a){a.stopImmediatePropagation()})}}}]);e.directive("bgEnter",function(){return function(d,a,b){a.bind("keydown keypress",function(a){13===a.which&&(d.$apply(function(){d.$eval(b.bgEnter)}),a.preventDefault())})}});e.directive("bgBlurInput",["$window",function(d){return{restrict:"A",link:function(a,b,f){angular.element(d).bind("touchstart",
function(a){a.target!==b[0]&&b[0].blur()})}}}]);e.directive("bgBlurInputByMessage",["$window",function(d){return{restrict:"A",link:function(a,b,d){a.$on("bgBlurInputByMessage:blur",function(){b[0].blur()})}}}]);e.directive("bgTriggerBlur",function(){return function(d,a,b){d.$on(b.bgTriggerBlur,function(b){a[0].blur()})}});e.directive("bgTriggerFocus",function(){return function(d,a,b){d.$on(b.bgTriggerFocus,function(b){a[0].focus()})}})})();
(function(){var e=angular.module("bgFeedList.controller","bgBuddyGroup.model bgHomeNotice.model bgSuggestionBlogNotice.model bgPostFeedList.model bgBlog.model bgBlogUser.model ngCookies blogCommonHelper.services bgBuddyAdd.service bgLikeIt.service bgSocialPlugin.service bgNclick.directive bgReadOnly.directive smoothScroll bgBuddyList.service bgLazyImg.directive bgVisibleContents.directive bgTwoWayInfiniteScroll.directive bgNlnbFixer.directive bgFullLayer.directive".split(" "));e.config(["$stateProvider",
"$urlRouterProvider",function(d,a){d.state("feedList",{url:"/FeedList.nhn?page\x26itemCount\x26groupId",templateUrl:"/html/ngapp/feed/FeedList.html",reloadOnSearch:!1,controller:"feedListCtrl",controllerAs:"feedListCtrl",resolve:{resolveBuddyGroupList:["buddyGroupListModel",function(a){return a.getFor()}],resolveHomeNotice:["homeNoticeModel",function(a){return a.getFor()}],resolveSuggestionBlogNotice:["suggestionBlogNoticeModel",function(a){return a.getFor()}],resolveBlogUser:["blogUserModel",function(a){return a.getBlogUser()}]}})}]);
e.controller("feedListCtrl",["$window","$scope","$rootScope","$state","$stateParams","$timeout","$location","$cookies","ERROR_MESSAGE","resolveBuddyGroupList","resolveHomeNotice","resolveSuggestionBlogNotice","homeNoticeModel","suggestionBlogNoticeModel","postFeedListModel","blogModel","blogCommonHelper","buddyAdder","buddyListService","likeItService","socialPluginService","nscService","UsainClient","lcsService","bgConst.urlMap","bgConst.feedClass","resolveBlogUser",function(d,a,b,f,e,g,m,p,r,k,n,
q,w,v,u,h,t,y,D,B,x,E,F,G,A,H,z){function I(){G.lcs_do_url(A.nmobile+"/FeedList.nhn");(function(){E.setNsc("Mblog.home");C.error=!1;C.loaded=!1;k.success&&k.buddyGroupList.map(function(b){a.data.buddyGroupSelect.push(b);b.groupId===C.currentGroupId&&(a.data.selectedOption=b)});n.success&&(C.homeNotice={textNotice:n.textNotice,individualNotice:n.individualNotice,noticeSeq:n.individualNotice?n.individualNotice.noticeSeq:"",nickName:n.nickName,userId:n.userId});q.success&&(C.suggestionBlogNotice={data:q.suggestionBlogNotice,
noticeType:L(q.suggestionBlogNotice),nickName:q.nickName,userId:q.userId});u.getInitPostFeedListFromPersist().then(function(a){C.postFeedList=a.postFeedList;var b=a.scrollY;C.loaded=!0;g(function(){b&&d.scrollTo(0,b);B.init();x.init()},10)},function(){u.getInitPostFeedList(C.currentPage,e.itemCount,C.currentGroupId).then(function(a){C.loaded=!0;a.error?C.error=!0:C.postFeedList=a;g(function(){B.init();x.init()},10);(new F).send("feedlistactivate")})})})();a.$on("bgPersist:locationChange",function(a,
b){u.persist({scrollY:d.pageYOffset,postFeedList:C.postFeedList})})}function J(){var a=u.getLoadMorePage(),a=angular.extend({},e,{page:a});f.go(f.$current.self.name,a,{reload:!1,notify:!1,inherit:!1,location:"replace"})}function L(a){if(null!==a){var b="";switch(a.suggestionBlogType){case "INTERESTING":b="\uc774\ub2ec\uc758 \ube14\ub85c\uadf8";break;case "POPULAR":b=a.name+" \ube14\ub85c\uadf8";break;case "THEME":b=a.name+" \ube14\ub85c\uadf8";break;case "ROOKIE":b="\ub8e8\ud0a4\ube14\ub85c\uadf8";
break;default:b=""}return b}}var C=this;C.blogUserId=z.userId;d.document.title="\ub124\uc774\ubc84 \ube14\ub85c\uadf8";angular.element(d.document.body).addClass(H);a.$on("$destroy",function(){angular.element(d.document.body).removeClass(H)});if(!0===k.error||!0===n.error||!0===q.error)g(function(){confirmLayer(r.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0);else{C.currentGroupId=Number(e.groupId||0);C.currentPage=Number(e.page||1);a.data={buddyGroupSelect:[{groupId:0,
groupName:"\uc804\uccb4",openYn:!0}],selectedOption:{groupId:0,groupName:"\uc804\uccb4",openYn:!0}};I();C.loadMore=function(){C.isLoadingMore()||C.hasNoMore()||u.getMorePostFeedList().then(function(a){a.error?alertLayer("\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):(angular.forEach(a,function(a){C.postFeedList.push(a)}),g(function(){B.update();x.update();angular.element(document.getElementById("_feedMore")).triggerHandler("click")}))})};
C.loadMoreTop=function(){if(1<u.getLoadMoreTopPage()&&!C.isLoadingMoreTop()&&!C.hasNoMoreTop()){var a=d.document.body.scrollHeight;u.getMoreTopPostFeedList().then(function(b){b.error?alertLayer("\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):(b=b.reverse(),angular.forEach(b,function(a){C.postFeedList.unshift(a)}),g(function(){B.update();x.update();d.document.body.scrollTop=d.document.body.scrollHeight-a}))})}};var K={profile:function(a){return a.isRss?
a.mobileWebBlogUrl:"/PostList.nhn?blogId\x3d"+a.blogId},text:function(a){return a.mobileWebPostUrl?a.mobileWebPostUrl:"/PostView.nhn?blogId\x3d"+a.blogId+"\x26logNo\x3d"+a.logNo},thumbnail:function(a){return a.mobileWebPostUrl?a.mobileWebPostUrl:"/PostView.nhn?blogId\x3d"+a.blogId+"\x26logNo\x3d"+a.logNo},comment:function(a){return"/CommentList.nhn?blogId\x3d"+a.blogId+"\x26logNo\x3d"+a.logNo},report:function(a){return"/PostBadReport.nhn?type\x3drprtMobileFrm\x26logNo\x3d"+a.logNo+"\x26blogId\x3d"+
a.blogId},og:function(a){return a.linkView.openGraphLink.url}};C.changeHistory=function(a,b,d){d.preventDefault();J();a.isRss||"profile"!=b&&"comment"!=b?("report"==b&&(C.activeSettingBtn=null,a.showLyr=!1),u.persistGo(K[b](a),!0)):u.persistGo(K[b](a),!1)};C.changeHistoryByUrl=function(a){J();u.persistGo(a,!0)};C.hasNoMore=function(){return u.hasNoMore()};C.isLoadingMore=function(){return u.isLoadingMore()};C.hasNoMoreTop=function(){return u.hasNoMoreTop()};C.isLoadingMoreTop=function(){return u.isLoadingMoreTop()};
C.getFormattedDate=function(a){return t.getFormattedDate(a)};C.isRecommend=function(){return u.getIsRecommend()};C.getUserId=function(){return u.getUserId()};C.addBuddy=function(a){y.goAddBuddyForm(a)};C.activeSettingBtn=null;C.toggleMoreBtn=function(a){u.checkBuddy(a.blogId).then(function(b){a.isBuddy=b;C.activeSettingBtn&&C.activeSettingBtn.logNo!==a.logNo&&(C.activeSettingBtn.showLyr=!1);C.activeSettingBtn=a;a.showLyr=!a.showLyr})};C.hidePost=function(a,b,d,f){u.hidePost(a,b,d,f)};C.updateBuddyNoti=
function(a,b,d,f){"undefined"==typeof f&&(f=a.isNotificationOn=!1);D.updateBuddyNoti(a.isRss,b,d,a.blogNo,!f).then(function(b){b.data.error?alertLayer(b.data.error.message):a.isNotificationOn=!f},function(a){alertLayer(a.data.error.message)})};C.makeOGThumbnail=function(a){return A.dthumb+encodeURIComponent('"'+a+'"')+"\x26type\x3df220"};C.hasOGThumbnail=function(a){return a.image&&null!==a.image.url&&""!==a.image.url};C.getPostUrl=function(a){return A.nmobile+"/PostView.nhn?blogId\x3d"+a.blogId+
"\x26logNo\x3d"+a.logNo};C.getCanonicalPostUrl=function(a){return A.nmobile+"/"+a.blogId+"/"+a.logNo};C.generateInitializeFunction=function(a){var b=C.getUserId()==a.blogId?!0:!1;return x.generateInitializeFunction(b,a)};C.feedListByGroupId=function(){d.location.href="/FeedList.nhn?groupId\x3d"+a.data.selectedOption.groupId};C.closeHomeNotice=function(a,b){w.closeHomeNotice(a,b).then(function(a){a.success?C.homeNotice.individualNotice=!1:C.error=!0})};C.closeSuggestionBlogNotice=function(a){a=p.get("NNB")+
"-"+a;v.closeNotice(a).then(function(a){a.success?C.suggestionBlogNotice.data=!1:C.error=!0})}}}])})();
(function(){angular.module("bgHomeNotice.model",[]).factory("homeNoticeModel",["$http",function(e){var d={success:!1};return{getFor:function(){return e.get("/rego/HomeNotice.nhn",{}).then(function(a){return a.data.result&&"undefined"!=typeof a.data.result?{success:!0,textNotice:a.data.result.textNotice,individualNotice:a.data.result.individualNotice,nickName:a.data.result.nickName,userId:a.data.result.userId}:d},function(){return d})},closeHomeNotice:function(a,b){return e({method:"POST",url:"/BlogTripleSUpdateWithSubKeyAsync.nhn",
data:"uid\x3d"+a+"\x26key\x3dINLO\x26subKey\x3d"+b+"\x26value\x3dX\x26useUid\x3dtrue",headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return{success:"SUCCESS"===a.data}},function(){return{error:!0}})}}}])})();
(function(){angular.module("bgSuggestionBlogNotice.model",[]).factory("suggestionBlogNoticeModel",["$http",function(e){var d={success:!1};return{getFor:function(){return e.get("/rego/SuggestionBlogNotice.nhn",{}).then(function(a){return a.data.result&&"undefined"!=typeof a.data.result?{success:!0,suggestionBlogNotice:a.data.result.suggestionBlogNotice,nickName:a.data.result.nickName,userId:a.data.result.userId}:d},function(){return d})},closeNotice:function(a){return e({method:"POST",url:"/BlogTripleSUpdateAsync.nhn",
data:"uid\x3d"+a+"\x26key\x3dPRLO\x26value\x3dX\x26useUid\x3dtrue",headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return{success:"SUCCESS"===a.data}},function(){return{error:!0}})}}}])})();
(function(){angular.module("bgPostFeedList.model",["bgPersist.service"]).service("postFeedListModel",["$window","$http","$httpParamSerializerJQLike","$log","$q","persist",function(e,d,a,b,f,l){function g(b,f,e){return d.get("/rego/PostFeedList.nhn?"+a({page:b,itemCount:f,groupId:e}),{timeout:5E3}).then(function(a){a=a.data.result;var d;if(!a)return{error:!0};k=a.userId;0<a.recommendPostList.length?d={postFeedList:a.recommendPostList,isRecommend:!0,userId:a.userId}:(d={postFeedList:a.buddyPostFeedList,
isRecommend:!1,userId:a.userId},1===b&&a.buddyPostFeedCount<f&&(d.hasNoMore=!0,d.hasNoMoreTop=!0));1===b&&(d.hasNoMoreTop=!0);return d},function(){return{error:!0}})}function m(a){a=a||{};a.userId=k;a.isRecommend=n;a.hasNoMore=v;a.hasNoMoreTop=u;a.itemCount=q;a.groupId=w;a.loadMorePage=h;a.loadMoreTopPage=t;return a}function p(a){k=a.userId;n=a.isRecommend;v=a.hasNoMore||v;u=a.hasNoMoreTop||u;h=a.loadMorePage||h;t=a.loadMoreTopPage||t;q=a.itemCount||q;w=a.groupId||w}function r(a){if(void 0===a||null===
a||a.error)return{error:!0};p(a);return a.postFeedList}var k=null,n=!1,q=null,w=null,v=!1,u=!1,h=0,t=null,y=!1,D=!1;this.getInitPostFeedListFromPersist=function(){var a=l.pop();return f(function(b,d){a?(p(a),b(a)):d()}).then(function(a){return a})};this.getInitPostFeedList=function(a,b,d){h=Number(a)||1;t=Number(a)||1;q=b||18;w=d;return g(h,q,w).then(r)};this.getMorePostFeedList=function(){var a=h+1;y=!0;return g(a,q,w).then(function(a){y=!1;if(a.error)return{error:!0};0===a.postFeedList.length?v=
!0:(h+=1,v=!1);return a.postFeedList})};this.getMoreTopPostFeedList=function(){var a=t-1;D=!0;return g(a,q,w).then(function(a){D=!1;if(a.error)return{error:!0};0===a.postFeedList.length?u=!0:(--t,u=!1);return a.postFeedList})};this.persist=function(a){l.push(m(a))};this.persistGo=function(a,b){l.persistGo(a,b)};this.hasNoMore=function(){return v};this.isLoadingMore=function(){return y};this.getLoadMorePage=function(){return h};this.hasNoMoreTop=function(){return u};this.isLoadingMoreTop=function(){return D};
this.getLoadMoreTopPage=function(){return t};this.getIsRecommend=function(){return n};this.getUserId=function(){return k};this.hidePost=function(a,b,f,g){return d({method:"POST",url:"/rego/BuddyNewPostUpdateNaverMainAsync.nhn",data:"blogId\x3d"+f+"\x26logNo\x3d"+a+"\x26ServiceLogType\x3d"+b+"\x26hideYn\x3dtrue\x26publisherId\x3d"+g,headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){e.location.reload()},function(){return{error:!0}})};this.checkBuddy=function(b){return d.get("/rego/BuddyCheck.nhn?"+
a({buddyId:b}),{timeout:5E3}).then(function(a){return a.data.result.isBuddy},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgMenu.directive",["bgBlogUser.model","bgInApp.service"]);e.directive("bgMenu",[function(){return{restrict:"E",replace:!0,templateUrl:"/html/ngapp/header/Menu.html",controller:"menuCtrl",controllerAs:"menuCtrl",scope:{}}}]);e.constant("LNB_LIST",{recommend:{url:"/Recommendation.nhn"},feedList:{url:"/FeedList.nhn"},buddyList:{url:"/BuddyList.nhn"},news:{url:"/News.nhn"},myblog:{url:"/PostList.nhn"}});e.controller("menuCtrl",["$scope","$location","LNB_LIST","$stateParams",
"blogUserModel","inAppService",function(d,a,b,f,e,g){var m=this;m.hasNewBuddyPost=!1;m.hasNews=!1;m.userId="";m.isInApp=g.isInApp();d.LNB=b;m.isActive=function(a){return m.currentMenu==a};(function(){var d=a.path();d==b.recommend.url?m.currentMenu=b.recommend:d==b.feedList.url?m.currentMenu=b.feedList:d==b.buddyList.url?m.currentMenu=b.buddyList:d==b.news.url?m.currentMenu=b.news:d==b.buddyList.url&&(m.currentMenu=b.buddyList)})();e.getBlogUser(f.blogId).then(function(a){m.hasNewBuddyPost=a.hasNewBuddyPost;
m.hasNews=a.hasNews;m.userId=a.userId;m.loggedIn=a.loggedIn})}])})();(function(){angular.module("bgTodayHotTopic.model",[]).service("todayHotTopicModel",["$http",function(e){this.getTodayHotTopicPostList=function(){return e.get("/rego/TodayHotTopic.nhn",{cache:!0,expireTime:6E5}).then(function(d){return d.data.result?{success:!0,todayHotTopicPostList:d.data.result}:error},function(){return{error:!0}})}}])})();
(function(){angular.module("bgRecommendationPostList.model",[,"bgPersist.service"]).service("recommendationPostListModel",["$http","$q","persist",function(e,d,a){function b(a,b){return e.get("/rego/RecommendationPostList.nhn?directorySeq\x3d"+a+"\x26currentPage\x3d"+b).then(function(a){return a.data.result?{success:!0,postList:a.data.result.recommendationPostViewList,isLastPage:a.data.result.isLastPage}:error},function(){return{error:!0}})}function f(a){a=a||{};a.page=l;a.seq=g;a.loadMore=m;a.isLastPage=
p;return a}var l=0,g,m=!1,p=!1;this.getPostList=function(a,d){g=a;m=!0;return b(a,d).then(function(a){m=!1;if(a.error)return{error:!0};l=d;p=a.isLastPage;return a.postList})};this.getNextPage=function(){var a=l+1;m=!0;return b(g,a).then(function(b){m=!1;if(b.error)return{error:!0};l=a;p=b.isLastPage;return b.postList})};this.getInitPostListFromPersist=function(){var b=a.pop();return d(function(a,d){b?(l=b.page,g=b.seq,m=b.loadMore,p=b.isLastPage,a(b)):d()}).then(function(a){return a})};this.persist=
function(b){a.push(f(b))};this.getCurrentMenuSeq=function(){return g};this.getCurrentPage=function(){return l};this.isLodingMore=function(){return m};this.isLastPage=function(){return p}}])})();
(function(){var e=angular.module("bgRecommendation.controller","bgConfig ngSanitize bgCarousel.directive bgMenu.directive bgNeedLogin.directive bgFocusScroll.directive bgNlnbFixer.directive bgPersist.service bgLocalStorage.service bgLcs.service bgInApp.service bgRecommendationPostList.model bgTodayHotTopic.model".split(" "));e.constant("RECOMMEND_MENU",[{name:"\ucc45",seq:"5",nclick:"tpc.cat1"},{name:"\uc601\ud654",seq:"6",nclick:"tpc.cat2"},{name:"\ubbf8\uc220",seq:"8",nclick:"tpc.cat3"},{name:"\uacf5\uc5f0\u00b7\uc804\uc2dc",
seq:"7",nclick:"tpc.cat4"},{name:"\uc74c\uc545",seq:"11",nclick:"tpc.cat5"},{name:"\ub4dc\ub77c\ub9c8",seq:"9",nclick:"tpc.cat6"},{name:"\uc5f0\uc608\uc778",seq:"12",nclick:"tpc.cat7"},{name:"\ub9cc\ud654",seq:"13",nclick:"tpc.cat8"},{name:"\ubc29\uc1a1",seq:"10",nclick:"tpc.cat9"},{name:"\uc77c\uc0c1",seq:"14",nclick:"tpc.cat10"},{name:"\uc721\uc544\u00b7\uacb0\ud63c",seq:"15",nclick:"tpc.cat11"},{name:"\ubc18\ub824\ub3d9\ubb3c",seq:"16",nclick:"tpc.cat12"},{name:"\uc88b\uc740\uae00",seq:"17",nclick:"tpc.cat13"},
{name:"\ud328\uc158\u00b7\ubbf8\uc6a9",seq:"18",nclick:"tpc.cat14"},{name:"\uc778\ud14c\ub9ac\uc5b4",seq:"19",nclick:"tpc.cat15"},{name:"\uc694\ub9ac",seq:"20",nclick:"tpc.cat16"},{name:"\uc0c1\ud488\ub9ac\ubdf0",seq:"21",nclick:"tpc.cat17"},{name:"\uac8c\uc784",seq:"22",nclick:"tpc.cat18"},{name:"\uc2a4\ud3ec\uce20",seq:"23",nclick:"tpc.cat19"},{name:"\uc0ac\uc9c4",seq:"24",nclick:"tpc.cat20"},{name:"\uc790\ub3d9\ucc28",seq:"25",nclick:"tpc.cat21"},{name:"\ucde8\ubbf8",seq:"26",nclick:"tpc.cat22"},
{name:"\uad6d\ub0b4\uc5ec\ud589",seq:"27",nclick:"tpc.cat23"},{name:"\uc138\uacc4\uc5ec\ud589",seq:"28",nclick:"tpc.cat24"},{name:"\ub9db\uc9d1",seq:"29",nclick:"tpc.cat25"},{name:"IT",seq:"30",nclick:"tpc.cat26"},{name:"\uc0ac\ud68c",seq:"31",nclick:"tpc.cat27"},{name:"\uac74\uac15",seq:"32",nclick:"tpc.cat28"},{name:"\uacbd\uc81c",seq:"33",nclick:"tpc.cat29"},{name:"\uc678\uad6d\uc5b4",seq:"35",nclick:"tpc.cat30"},{name:"\uad50\uc721",seq:"34",nclick:"tpc.cat31"},{name:"\uc6d0\uc608",seq:"36",nclick:"tpc.cat32"}]);
e.config(["$stateProvider",function(d){d.state("recommendation",{url:"/Recommendation.nhn?hotTopicLogNo\x26menuSeq",templateUrl:"/html/ngapp/recommendation/Recommendation.html",controller:"recommendationCtrl",controllerAs:"recommendationCtrl"})}]);e.controller("recommendationCtrl",["$timeout","$scope","$window","$location","$state","$stateParams","persist","bgConst.urlMap","todayHotTopicModel","RECOMMEND_MENU","recommendationPostListModel","directoryKeywordModel","recommendLastMenuService","bgConst.feedClass",
"UsainClient","lcsService","inAppService",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u,h,t){b.document.title="\ucd94\ucc9c : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";var y=this,D=new u;y.menuList=k;angular.element(b.document.body).addClass(v);a.$on("$destroy",function(){angular.element(b.document.body).removeClass(v)});y.loaded=!1;y.showFirstRecommendationList=function(a){w.saveMenu(a);y.showDirectoryKeywords(a);n.getPostList(a,1).then(function(a){a.error?alertLayer("\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):
(y.postList=a,D.send("recommendationactivate"))})};y.loadMore=function(){n.getNextPage().then(function(a){a.error?alertLayer("\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):angular.forEach(a,function(a){y.postList.push(a)})})};y.showDirectoryKeywords=function(a,b){q.getDirectoryKeywords(a).then(function(a){y.isActiveDirectory=!1;y.expandKeyword=b||!1;a.activeDirectory&&(y.isActiveDirectory=!0,y.directoryName=
a.directoryName,y.getDirectoryKeywords=a.directoryPopularKeywords)})};y.goDirectoryKeywordPosts=function(a){a="/DirectoryKeywordPost.nhn?directoryNo\x3d"+y.getActiveMenuSeq()+"\x26directoryKeywordNo\x3d"+a;t.isInApp()?(a=t.isUsePushNavigate()?a+"\x26pushNavigation\x3dtrue":a+"\x26loadOnModalView\x3dtrue\x26showLeftButton\x3dtrue",location.href=a):f.url(a)};y.isActiveMenu=function(a){return n.getCurrentMenuSeq()==a};y.isPageingDisabled=function(a){return n.isLastPage()?!0:n.isLodingMore()};y.isLoadingMore=
function(){return n.isLodingMore()};y.isLastPage=function(){return n.isLastPage()};y.toggleExpand=function(){y.expandKeyword=!y.expandKeyword};y.getActiveMenuSeq=function(){var a=g.menuSeq,b=w.getMenu();return null!=a?(b=angular.extend({},g,{menuSeq:null}),e.go(e.$current.self.name,b,{reload:!1,notify:!1,inherit:!1,location:"replace"}),a):null!=b?b:y.menuList[0].seq};(function(){h.lcs_do();r.getTodayHotTopicPostList().then(function(b){b.success&&(y.todayHotTopicPostList=b.todayHotTopicPostList,d(function(){var d;
a:{d=b.todayHotTopicPostList;for(var f=0;f<d.length;f++)if(d[f].logNo==g.hotTopicLogNo){d=f;break a}d=void 0}d&&a.$broadcast("pageEvent_"+d)},100))});n.getInitPostListFromPersist().then(function(a){y.showDirectoryKeywords(a.seq,a.expandKeyword);y.postList=a.postList;var f=a.scrollY;d(function(){f&&b.scrollTo(0,f)},0)},function(){var a=y.getActiveMenuSeq();y.showFirstRecommendationList(a)});a.$on("bgPersist:locationChange",function(a,d){n.persist({scrollY:b.pageYOffset,postList:y.postList,expandKeyword:y.expandKeyword})});
d(function(){y.loaded=!0})})()}])})();
(function(){angular.module("bgNews.model",[]).service("newsModel",["$http",function(e){this.getNews=function(a,b,f){return d(a,b,f)};this.getNewsList=function(b,d,f){return a(b,d,f)};this.modifyReadStatus=function(a,d,f){return b(a,d,f)};this.removeNews=function(a,b,d){return f(a,b,d)};var d=function(a,b,d){return e.get("/rego/News.nhn?blogId\x3d"+a+"\x26unread\x3d"+b+"\x26mrBlogView\x3d"+d).then(function(a){return a.data.result?{inviteMeCount:a.data.result.inviteMeCount,mrBlogQuestion:a.data.result.mrBlogQuestion,
newsListView:a.data.result.newsListView}:{error:!0}},function(){return{error:!0}})},a=function(a,b,d){return e.get("/rego/NewsList.nhn?blogId\x3d"+a+"\x26lastMessageTimeKey\x3d"+b+"\x26unread\x3d"+d).then(function(a){return a.data.result?{newsListView:a.data.result}:{error:!0}},function(){return{error:!0}})},b=function(a,b,d){return e.doPost("/rego/NewsRead.nhn?blogId\x3d"+a+"\x26commcastCategoryTypeCode\x3d"+b+"\x26createKeyString\x3d"+d).then(function(a){return a.data.result?{isSuccess:a.data.result.success}:
{error:!0}},function(){return{error:!0}})},f=function(a,b,d){return e.post("/rego/NewsRemove.nhn?blogId\x3d"+a+"\x26commcastCategoryTypeCode\x3d"+b+"\x26createKeyString\x3d"+d).then(function(a){return a.data.result?{isSuccess:a.data.result.success}:{error:!0}},function(){return{error:!0}})}}])})();
(function(){angular.module("bgMyTraceNews.model",[]).service("myTraceNewsModel",["$http",function(e){this.getMyTraceNewsList=function(a,f){return d(a,f)};this.removeMyTraceNews=function(b,d){return a(b,d)};var d=function(a,d){return e.get("/rego/MyTraceNewsList.nhn?blogId\x3d"+a+"\x26currentPage\x3d"+d).then(function(a){return a.data.result?{myTraceNewsListView:a.data.result}:{error:!0}},function(){return{error:!0}})},a=function(a,d){return e.doPost("/rego/MyTraceRemove.nhn?blogId\x3d"+a+"\x26traceSeq\x3d"+
d).then(function(a){return a.data.result?{isSuccess:a.data.result}:{error:!0}},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgNews.controller","bgError.controller bgInApp.service bgLcs.service blogCommonHelper.services bgReadOnly.directive bgNews.model bgBlogUser.model bgMyTraceNews.model bgMenu.directive bgNlnbFixer.directive".split(" "));e.constant("MY_NEWS",{news:"news",myTrace:"myTrace"});e.config(["$stateProvider",function(d){d.state("news",{url:"/News.nhn?isUnread\x26blogId\x26isMrBlogView",templateUrl:"/html/ngapp/news/News.html",controller:"newsCtrl",controllerAs:"newsCtrl",resolve:{resolveBlogUser:["blogUserModel",
function(a){return a.getBlogUser()}]}})}]);e.controller("newsCtrl",["$scope","$location","$stateParams","$window","$rootScope","resolveBlogUser","inAppService","MY_NEWS","newsModel","ERROR_MESSAGE","myTraceNewsModel","lcsService","persist","bgConst.feedClass","blogCommonHelper",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u){function h(a){if(m.isInApp())f.location.href=a.inAppUrl;else{var b=a.url,d=b.indexOf(y);-1!==d&&(b=b.slice(d+y.length,a.url.length));w.persistGo(b,a.isPostInvite||a.isMemo||a.isProfileMessage||
-1===d)}}var t=this;angular.element(f.document.body).addClass(v);d.$on("$destroy",function(){angular.element(f.document.body).removeClass(v)});f.document.title="\ub0b4\uc18c\uc2dd : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";t.userId=g.userId;t.inviteMeCount=0;t.hasMrBlogQuestion=!1;t.lastMessageTimeKey;t.isUnread="true"==b.isUnread?!0:!1;t.existNextPage=!1;t.newsList;t.isLoading=!1;t.isNewsFirstPageLoaded=!1;t.isMyTraceLastPage=!1;t.myTraceNewsList=[];t.myTraceNewsCurrentPage=0;t.isMyTraceLoading=!1;
t.isMyTraceNewsFirstPageLoaded=!1;t.currentNews;t.isInApp=m.isInApp();t.isMrBlogView="true"==b.isMrBlogView&&t.isInApp;t.changeMyNews=function(){t.currentNews=p.news;t.isLastPageForMyTrace=!1;t.myTraceNewsList=[];t.myTraceNewsCurrentPage=0;t.isMyTraceNewsFirstPageLoaded=!1;t.newsLoadMore()};t.changeMyTrace=function(){t.currentNews=p.myTrace;t.lastMessageTimeKey="";t.isUnread=!1;t.existNextPage=!1;t.newsList=[];t.isNewsFirstPageLoaded=!1;t.myTraceNewsLoadMore()};t.getNewsToggleListByReadStatus=function(){t.lastMessageTimeKey=
"";t.isUnread=!t.isUnread;t.existNextPage=!1;t.newsList=[];t.isNewsFirstPageLoaded=!1;t.newsLoadMore()};t.newsLoadMore=function(){t.isLoading=!0;r.getNewsList(t.userId,t.lastMessageTimeKey,t.isUnread).then(function(a){a.error?alertLayer(k.errorLoad.message):(t.lastMessageTimeKey=a.newsListView.lastMessageTimeKey,t.existNextPage=a.newsListView.existNextPage,t.isLoading=!1,angular.forEach(a.newsListView.newsList,function(a){t.newsList.push(a)}),t.isNewsFirstPageLoaded=!0)})};t.readNews=function(a){a.isRead?
h(a):r.modifyReadStatus(t.userId,a.commcastCategoryTypeCode,a.createKeyString).then(function(){a.isRead=!0;h(a)})};var y="blog.naver.com";t.removeNews=function(a){r.removeNews(t.userId,a.commcastCategoryTypeCode,a.createKeyString).then(function(b){b.error||!b.isSuccess?alertLayer(k.errorNewsRemove.message):(t.newsList.splice(t.newsList.indexOf(a),1),d.$emit("list:modified"))})};t.myTraceNewsLoadMore=function(){t.isMyTraceLoading=!0;n.getMyTraceNewsList(t.userId,t.myTraceNewsCurrentPage+1).then(function(a){if(a.error)alertLayer(k.errorLoad.message);
else return t.myTraceNewsCurrentPage+=1,t.isMyTraceLastPage=a.myTraceNewsListView.isLastPage,t.isMyTraceLoading=!1,angular.forEach(a.myTraceNewsListView.traceNewsViewList,function(a){t.myTraceNewsList.push(a)}),t.isMyTraceNewsFirstPageLoaded=!0,t.isMyTraceLoading})};t.removeMyTraceNews=function(a){n.removeMyTraceNews(t.userId,a.traceSeq).then(function(b){b.error||!b.isSuccess?alertLayer(k.errorNewsRemove.message):(t.myTraceNewsList.splice(t.myTraceNewsList.indexOf(a),1),d.$emit("list:modified"))})};
t.isNews=function(){return null!=t.currentNews&&t.currentNews==p.news};t.isMyTraceNews=function(){return null!=t.currentNews&&t.currentNews==p.myTrace};t.isNewsFirstLoaded=function(){return null!=t.currentNews&&t.currentNews==p.news&&null!=t.newsList&&0==t.newsList.length&&t.isNewsFirstPageLoaded};t.isMyTraceNewsFirstLoaded=function(){return null!=t.currentNews&&t.currentNews==p.myTrace&&0==t.myTraceNewsList.length&&t.isMyTraceNewsFirstPageLoaded};t.isNewsPageingDisabled=function(){return t.existNextPage?
t.isLoading:!0};t.isMyTracePageingDisabled=function(){return t.isMyTraceLastPage?!0:t.isMyTraceLoading};t.getFormattedDate=function(a){return u.getFormattedDate(a)};q.lcs_do();t.currentNews=p.news;(function(){r.getNews(t.userId,t.isUnread,t.isMrBlogView).then(function(a){t.inviteMeCount=a.inviteMeCount;t.isMrBlogView&&a.mrBlogQuestion&&(t.hasMrBlogQuestion=!0,t.mrBlogQuestion=a.mrBlogQuestion.contentsApp,t.mrBlogQuestionAppUrlParam={version:3,blogId:t.userId,mrBlogTalkCode:a.mrBlogQuestion.talkCode});
a.newsListView&&(t.lastMessageTimeKey=a.newsListView.lastMessageTimeKey,t.existNextPage=a.newsListView.existNextPage,t.newsList=a.newsListView.newsList);t.isNewsFirstPageLoaded=!0})})()}])})();
(function(){var e=angular.module("bgBlogTagDetail.controller","bgSimpleHeader.directive bgInApp.service bgBlogSearch.model bgNclick.directive bgError.controller bgLcs.service".split(" "));e.config(["$stateProvider",function(d){d.state("blogTagDetail",{url:"/BlogTagDetail.nhn?blogId\x26tagName",templateUrl:"/html/ngapp/tag/BlogTagDetail.html",controller:"blogTagDetailCtrl",controllerAs:"blogTagDetailCtrl"})}]);e.controller("blogTagDetailCtrl",["$scope","$stateParams","$timeout","$window","$q","$log",
"$location","blogSearchModel","blogModel","blogCommonHelper","inAppService","lcsService","ERROR_MESSAGE",function(d,a,b,f,e,g,m,p,r,k,n,q,w){q.lcs_do();var v=this;v.isActivated=!1;v.blogId=a.blogId;v.tagName=a.tagName;v.totalCount=null;v.postList=[];v.loadMore=function(){p.searchMore().then(function(a){angular.forEach(a,function(a){v.postList.push(a)})})};v.hasNoMore=function(){return p.hasNoMore()};v.isLoadingMore=function(){return p.isLoadingMore()};v.isInApp=function(){return n.isInApp()};v.getFormattedDate=
function(a){return k.getFormattedDate(a)};var u=function(){b(function(){confirmLayer(w.errorConfirmRefresh.message,function(){location.reload()},function(){history.back()})},0)};d.$on("bgPersist:locationChange",function(){p.persist({scrollY:f.pageYOffset,list:v.postList,totalCount:v.totalCount})});(function(){e(function(b,d){p.initSearchFromPersist().then(function(a){g.debug("Persist load");v.postList=a.list;v.totalCount=a.totalCount;b()},function(){g.debug("Non persist load");p.initSearch(a.blogId,
a.tagName,"TAG",1,"recentdate").then(function(a){v.postList=a;v.totalCount=p.getTotalCount();b()},function(){d()})})}).then(function(){v.isActivated=!0;n.isInApp()&&n.request("GET","/setHeaderTitle",{title:"#"+a.tagName});r.getBlog(v.blogId).then(function(a){v.nickName=a.nickName})},function(){u()})})()}])})();
(function(){var e=angular.module("bgBlogTagView.controller","bgSimpleHeader.directive bgInApp.service bgRelatedTagList.model bgNclick.directive bgError.controller bgLcs.service bgSectionSearch.model".split(" "));e.config(["$stateProvider",function(d){d.state("blogTagView",{url:"/BlogTagView.nhn?blogId\x26tagName\x26logNo\x26redirect",templateUrl:"/html/ngapp/tag/BlogTagView.html",controller:"blogTagViewCtrl",controllerAs:"blogTagViewCtrl"})}]);e.controller("blogTagViewCtrl",["$scope","$stateParams",
"$timeout","$window","$q","$log","$location","blogCommonHelper","inAppService","lcsService","ERROR_MESSAGE","sectionSearchModel","relatedTagListModel",function(d,a,b,f,e,g,m,p,r,k,n,q,w){k.lcs_do();var v=this;v.isActivated=!1;v.blogId=a.blogId;v.logNo=a.logNo;v.tagName=a.tagName;v.postList=[];v.totalCount=null;v.relatedTagList=null;v.isRelatedTagListFold=!0;v.nClickPrefix=v.blogId&&v.logNo?"tgl.":"rtg.";v.getFormattedDate=function(a){return p.getFormattedDate(a)};v.loadMore=function(){q.searchMore().then(function(a){angular.forEach(a,
function(a){v.postList.push(a)})})};v.isLoadingMore=function(){return q.isLoadingMore()};v.hasNoMore=function(){return q.hasNoMore()};v.isInApp=function(){return r.isInApp()};var u=function(){b(function(){confirmLayer(n.errorConfirmRefresh.message,function(){location.reload()},function(){history.back()})},0)};d.$on("bgPersist:locationChange",function(a,b){q.persist({scrollY:f.pageYOffset,list:v.postList,relatedTagList:v.relatedTagList,totalCount:v.totalCount,isRelatedTagListFold:v.isRelatedTagListFold})});
(function(){e(function(d,k){q.initSearchFromPersist().then(function(a){g.debug("Persist load");v.postList=a.list;v.relatedTagList=a.relatedTagList;v.isRelatedTagListFold=a.isRelatedTagListFold;v.totalCount=a.totalCount;b(function(){var b=a.scrollY;b&&f.scrollTo(0,b)},0);d()},function(){g.debug("Non persist load");if(a.tagName){var b=q.initSearch(a.tagName,"TAG",1,"recentdate").then(function(a){if(void 0!==a&&!0===a.error)return!1;v.postList=a;v.totalCount=q.getTotalCount();return!0}),f=w.getRelatedTagList(a.tagName).then(function(a){if(void 0!==
a&&!0===a.error)return!1;v.relatedTagList=a;return!0});e.all([b,f]).then(function(a){for(var b in a)!1===a[b]&&k();d()})}else k("no tagName")})}).then(function(){v.isActivated=!0;r.isInApp()&&r.request("GET","/setHeaderTitle",{title:"#"+a.tagName})},function(){u()})})()}])})();
(function(){angular.module("bgRelatedTagList.model",["bgPersist.service"]).service("relatedTagListModel",["$http","$httpParamSerializerJQLike","$log","$q","blogCommonHelper","persist",function(e,d,a,b,f,l){this.getRelatedTagList=function(a){return e.get("/rego/RelatedTagListAsync.nhn?"+d({tagName:a})).then(function(a){return a.data.result},function(){return{error:!0}})};this.getPersist=function(){var a=l.pop();return b(function(b,d){a?b(a):d()}).then(function(a){return a})};this.persist=function(a){l.push(a)}}])})();
(function(){angular.module("bgReadHistory.model",["bgLocalStorage.service"]).service("readHistoryModel",["$http","readHistoryStoreService",function(e,d){function a(a){return e.doPost("/rego/ReadHistoryViewList.nhn",{logNoList:angular.toJson(a)}).then(function(a){return a.data.result?a.data.result:{error:!0}},function(){return{error:!0}})}this.record=function(a,f){var e=d.readList(),g=[{blogId:a,logNo:f,readDate:new Date}];angular.forEach(e,function(a){a.logNo!=f&&g.push(a)});30<g.length&&g.pop();
d.saveList(g)};this.remove=function(a){var f=d.readList(),e=[];angular.forEach(f,function(d){d.logNo!=a&&e.push(d)});d.saveList(e)};this.getCount=function(){var a=d.readList();return a?a.length:0};this.getList=function(){return d.readList()||[]};this.getViewList=function(b){return a(b).then(function(a){if(a.error)return a;var d=[];angular.forEach(b,function(b){a[b.logNo]&&(a[b.logNo].readDate=b.readDate,d.push(a[b.logNo]))});return d})}}])})();
(function(){var e=angular.module("bgReadHistoryList.controller",["blogCommonHelper.services","bgReadHistory.model","infinite-scroll"]);e.config(["$stateProvider",function(d){d.state("readHistoryList",{url:"/ReadHistoryList.nhn",templateUrl:"/html/ngapp/readhistory/ReadHistoryList.html",controller:"readHistoryListCtrl",controllerAs:"readHistoryListCtrl"})}]);e.controller("readHistoryListCtrl",["$scope","$window","readHistoryModel","blogCommonHelper",function(d,a,b,f){function e(a){r+=10;angular.forEach(a,
function(a){var b=f.dateToDay(a.readDate),d=b.getTime();g.readHistoryGroupList[d]=g.readHistoryGroupList[d]||{dayDifference:f.dayDifference(p,b),list:[]};g.readHistoryGroupList[d].list.push(a)});g.nowLoading=!1}var g=this,m=b.getList(),p=f.dateToDay(new Date),r=0;g.readHistoryGroupList={};g.historyCount=m.length;g.nowLoading=!0;g.hasNoMore=!1;b.getViewList(m.slice(r,r+10)).then(e);g.loadMore=function(){var a=m.slice(r,r+10);0==a.length?g.hasNoMore=!0:g.nowLoading||(g.nowLoading=!0,b.getViewList(a).then(e))};
g.goBack=function(){a.history.back()};g.scrollToTop=function(){a.scrollTo(0,0)};g.removeHistory=function(a){b.remove(a);var f=[];angular.forEach(g.readHistoryGroupList,function(b,d){for(var e=b.list.length-1;0<=e;e--)b.list[e].logNo==a&&(b.list.splice(e,1),g.historyCount--);0>=b.list.length&&f.push(d)});angular.forEach(f,function(a){delete g.readHistoryGroupList[a]});d.$emit("readHistoryList:modified")}}])})();
(function(){var e=angular.module("bgPostUpdateSetInfo.controller","bgErrorRedirect.service bgCategoryList.model bgPostSetInfo.model bgNoticePost.model bgDirectory.model bgAutoComplete.model bgInput.directive".split(" "));e.config(["$stateProvider",function(d){d.state("postUpdateSetInfoFormPostUpdateSetInfoForm",{url:"/PostUpdateSetInfoForm.nhn?blogId\x26logNo",templateUrl:"/html/ngapp/post/write/PostUpdateSetInfoForm.html",controller:"postUpdateSetInfoCtrl",controllerAs:"postUpdateSetInfoCtrl",resolve:{resolveCategoryList:["categoryListForWriteModel",
"$stateParams",function(a,b){return a.getCategoryList(b.blogId)}],resolvePostSetInfo:["postSetInfoModel","$stateParams",function(a,b){return a.getPostSetInfo(b.blogId,b.logNo)}],resolveDirectory:["directoryModel",function(a){return a.getDirectoryList()}]}})}]);e.controller("postUpdateSetInfoCtrl",["$scope","$log","$window","$timeout","$stateParams","commonHelper","blogCommonHelper","inAppService","errorRedirect","postSetInfoModel","noticePostModel","autoCompleteModel","bgConst.urlMap","ERROR_MESSAGE",
"SCRAP_OPTIONS","POST_SET_INFO_DEFAULT_VALUE","POST_OPEN_TYPE","SCRAP_INIT_VALUE","WRITTEN_BY_GUEST_INIT_VALUE","resolveCategoryList","resolvePostSetInfo","resolveDirectory",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u,h,t,y,D,B,x,E){function F(a){for(var b in a)angular.isDefined(a[b].value)&&(z.form[b]=a[b].value),angular.isDefined(a[b].disable)&&(z.form[b+"Disable"]=a[b].disable)}function G(a){for(var b in a)angular.isDefined(a[b].disable)&&(z.form[b+"Disable"]=a[b].disable)}function A(a){var b;angular.forEach(z.categoryList,
function(d){d.categoryNo===a&&(b=d)});return b}function H(a){var b=[];angular.forEach(a.mylogCategoryList,function(a){a.parentCategoryNo&&0<a.parentCategoryNo&&(a.categoryName="- "+a.categoryName);b.push(a)});angular.forEach(a.memologCategoryList,function(a){a.categoryName="[\uba54\ubaa8]"+a.categoryName;b.push(a)});return b}var z=this;z.SCRAP_OPTIONS=u;z.tagInput="";(function(){p.isInApp()&&(p.request("get","/setHeaderTitle",{title:"\uc81c\ubaa9\u318d\uc124\uc815 \uc218\uc815"}),p.bindAppCall("submitModalForApp",
function(){return z.submitInApp()}),p.bindAppCall("cancelModalForApp",function(){return z.cancelInApp()}));z.categoryList=H(B);z.directoryList=E;x.error&&"not_exist_post"==x.errorResult.code?r.alertAngBackNoPost():x.error&&"notlogined"==x.errorResult.code?m.doLogin(w.nmobile):(z.form=x,z.tagList=[],G(h[t[x.openType]]),x.scrapedYn&&F(y),x.writtenByGuest&&F(D))})();z.selectCategory=function(){var a=A(z.form.categoryNo);0==a.openYN&&z.setOpenType(0);z.form.directorySeq=a.directorySeq};z.setOpenType=
function(a){if(0!=A(z.form.categoryNo).openYN||0==a)z.form.writtenByGuest&&t[a]!==t.all?alertLayer("\uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):(F(h[t[a]]),z.form.scrapedYn&&F(y))};z.submitPostSetInfo=function(){if(""==z.form.title)alertLayer("\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.");else if(150<z.form.title.length)alertLayer("\uc81c\ubaa9\uc740 150\uc790\uae4c\uc9c0 \uc785\ub825\uac00\ub2a5\ud569\ub2c8\ub2e4.");else return k.updatePostSetInfo(z.form).then(function(a){p.isInApp()?
p.request("get","/modalView/Close",{refresh:!0}):b.location.href=w.nmobile+"/PostView.nhn?blogId\x3d"+e.blogId+"\x26logNo\x3d"+e.logNo+"\x26afterWebUpdate\x3dtrue"}),"success"};z.cancelPostSetInfo=function(){confirmLayer("\uc81c\ubaa9\u318d\uc124\uc815 \uc218\uc815\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){p.isInApp()?p.request("get","/modalView/Close",{refresh:!1}):b.location.href=w.nmobile+"/PostView.nhn?blogId\x3d"+e.blogId+"\x26logNo\x3d"+e.logNo});return"success"};z.changeNoticePostYn=
function(){z.form.noticePostYn&&n.isExceedNoticePostCount(e.blogId).then(function(a){a&&alertLayer("\uacf5\uc9c0\ub294 \ucd5c\ub300 "+n.getMaxNoticePostCount()+"\uac1c\uae4c\uc9c0 \ub4f1\ub85d\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uc774 \ud3ec\uc2a4\ud2b8\ub97c \uacf5\uc9c0\ub85c \ub4f1\ub85d\ud558\uc2dc\ub824\uba74 \uae30\uc874 \uacf5\uc9c0\ub97c \ub0b4\ub9ac\uace0 \ub4f1\ub85d\ud574\uc8fc\uc138\uc694.",function(){d.$apply(function(){z.form.noticePostYn=!1})})})};z.setTagModifyMode=function(){p.isInApp()&&
p.request("get","/setHeaderTitle",{title:"\ud0dc\uadf8\ud3b8\uc9d1"});z.tagModifyMode=!0;z.tagList=[];angular.forEach(x.tagArray,function(a){a&&z.tagList.push(a)});z.deleteButtonIndex=-1};z.toggleDelbutton=function(a){z.deleteButtonIndex=z.deleteButtonIndex==a?-1:a};z.delTagInTagArrays=function(a){var b=z.form.tagArray;a=b.indexOf(a);-1!==a&&b.splice(a,1);z.deleteButtonIndex=-1};z.clearTagDelButton=function(){z.deleteButtonIndex=-1};z.blurTagInput=function(){d.$broadcast("bgBlurInputByMessage:blur")};
var I=g.delayedOnceFn(function(a){10<=z.tagList.length||(a=a.replace(/#/gi,""),q.getAutoCompleteList(a).then(function(a){z.acList=a}))},300);z.onKeyUpInput=function(a){","==z.tagInput?(z.tagInput="",z.blurTagInput()):((13===a.keyCode||188==a.keyCode&&!a.shift)&&z.addTag(),51==a.keyCode&&a.shift?a.stopDefault():z.tagInput&&101<=z.tagInput.length?alertLayer("\ud0dc\uadf8\ub294 \ucd5c\ub300 100\uc790\uae4c\uc9c0 \uc785\ub825\uac00\ub2a5\ud569\ub2c8\ub2e4.",function(){d.$apply(function(){z.tagInput=z.tagInput.substring(0,
100)})}):I(z.tagInput))};z.cancelTagModify=function(){f(function(){z.tagModifyMode=!1;z.tagInput="";z.acList=[];p.isInApp()&&p.request("get","/setHeaderTitle",{title:"\uc81c\ubaa9\u318d\uc124\uc815 \uc218\uc815"})})};z.submitTagModify=function(){f(function(){z.tagModifyMode=!1;z.acList=[];z.tagInput="";z.form.tagArray=z.tagList;z.form.tags=z.tagList.join();p.isInApp()&&p.request("get","/setHeaderTitle",{title:"\uc81c\ubaa9\u318d\uc124\uc815 \uc218\uc815"})})};z.clearTagInput=function(){z.tagInput=
"";z.acList=[]};z.delTag=function(a){var b=z.tagList;a=b.indexOf(a);-1!==a&&b.splice(a,1)};z.addTag=function(a){if(!(10<=z.tagList.length)){var b=a||z.tagInput;if((b=b.replace(/#/gi,"").replace(/,/gi,""))&&""!=b){var d=!0;angular.forEach("%\x26+\"\x3c\x3e/'\x3d".split(""),function(a){-1!=b.indexOf(a)&&(d=!1)});0==d?alertLayer("\ud2b9\uc218\ubb38\uc790\ub294 \ud0dc\uadf8\ub85c \ub4f1\ub85d\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):-1<z.tagList.indexOf(b)?alertLayer("\uc774\ubbf8 \ub4f1\ub85d\ub41c \ud0dc\uadf8\uc785\ub2c8\ub2e4."):
(z.tagList.push(b),z.acList=[],z.tagInput="",z.blurTagInput())}else z.tagInput=""}};z.submitInApp=function(){return z.tagModifyMode?(z.submitTagModify(),"success"):z.submitPostSetInfo()};z.cancelInApp=function(){return z.tagModifyMode?(z.cancelTagModify(),"success"):z.cancelPostSetInfo()};z.isInApp=function(){return p.isInApp()}}]);e.constant("POST_SET_INFO_DEFAULT_VALUE",{all:{openType:{value:2},commentYn:{value:!0,disable:!1},sympathyYn:{value:!0,disable:!1},scrapType:{disable:!1},outSideAllowYn:{value:!0,
disable:!1},searchYn:{value:!0,disable:!1},noticePostYn:{value:!1,disable:!1}},buddy:{openType:{value:1},commentYn:{value:!0,disable:!1},sympathy:{value:!0,disable:!1},scrapType:{disable:!1},outSideAllowYn:{value:!1,disable:!0},searchYn:{value:!1,disable:!0},noticePostYn:{value:!1,disable:!1}},bothBuddy:{openType:{value:3},commentYn:{value:!0,disable:!1},sympathyYn:{value:!0,disable:!1},scrapType:{disable:!1},outSideAllowYn:{value:!1,disable:!0},searchYn:{value:!1,disable:!0},noticePostYn:{value:!1,
disable:!1}},close:{openType:{value:0},commentYn:{value:!0,disable:!1},sympathyYn:{value:!1,disable:!0},scrapType:{value:0,disable:!0},outSideAllowYn:{value:!1,disable:!0},searchYn:{value:!1,disable:!0},noticePostYn:{value:!1,disable:!0}}});e.constant("SCRAP_INIT_VALUE",{scrapType:{disable:!0},outSideAllowYn:{value:!1,disable:!0},searchYn:{value:!1,disable:!0},noticePostYn:{value:!1,disable:!0}});e.constant("WRITTEN_BY_GUEST_INIT_VALUE",{noticePostYn:{value:!1,disable:!0}});e.constant("POST_OPEN_TYPE",
{2:"all",1:"buddy",3:"bothBuddy",0:"close"});e.constant("SCRAP_OPTIONS",[{name:"\ub9c1\ud06c\ub9cc \ud5c8\uc6a9",value:2},{name:"\ubcf8\ubb38 \ud5c8\uc6a9",value:1},{name:"\ube44\ud5c8\uc6a9",value:0}])})();(function(){angular.module("bgNoticePost.model",[]).service("noticePostModel",["$http",function(e){this.isExceedNoticePostCount=function(d){return e.get("/rego/NoticePostCountAsync.nhn?blogId\x3d"+d).then(function(a){return 5<=a.data},function(){return!1})};this.getMaxNoticePostCount=function(){return 5}}])})();
(function(){angular.module("bgPostSetInfo.model",[]).service("postSetInfoModel",["$http",function(e){this.getPostSetInfo=function(d,a){return e.get("/rego/PostSetInfo.nhn?blogId\x3d"+d+"\x26logNo\x3d"+a).then(function(a){return a.data.result?a.data.result:{error:!0,errorResult:a.data.error}},function(){return{error:!0}})};this.updatePostSetInfo=function(d){return e.doPost("/rego/PostUpdateSetInfo.nhn",d).then(function(a){return a.data.result?a.data.result:{error:!0}},function(){return{error:!0}})}}])})();
(function(){angular.module("bgDirectory.model",[]).service("directoryModel",["$http",function(e){this.getDirectoryList=function(){return e.get("/rego/DirectoryList.nhn",{cache:!0,expireTime:1E4}).then(function(d){return d.data.result},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgNaverCommentList.controller",["bgNaverCommentList.service","bgInApp.service","bgLcs.service","bgNaverComment.service"]);e.config(["$stateProvider",function(d){d.state("naverCommentList",{url:"/CommentList.nhn?blogId\x26logNo\x26pageNo\x26focusingCommentNo\x26commentNoPosition\x26naverComment",templateUrl:"/html/ngapp/comment/NaverCommentList.html",controller:"naverCommentListCtrl",controllerAs:"ctrl",resolve:{resolveBlog:["$stateParams","blogModel",function(a,b){return b.getBlog(a.blogId)}],
resolveBlogUser:["$stateParams","blogUserModel",function(a,b){return b.getBlogUser(a.blogId)}],resolveNaverCommentListInfo:["$stateParams","naverCommentListService",function(a,b){return b.getCommentList(a.blogId,a.logNo,a.pageNo,a.focusingCommentNo,a.commentNoPosition)}],resolveNaverCommentUserInfoJson:["$stateParams","naverCommentListService",function(a,b){return b.getUserInfo(a.blogId)}],resolveNaverCommentMentionInfo:["$stateParams","naverCommentListService",function(a,b){return b.getMentionInfo(a.blogId)}]}})}]);
e.controller("naverCommentListCtrl",["$scope","$rootScope","$window","$stateParams","$state","$q","resolveBlog","resolveBlogUser","resolveNaverCommentListInfo","resolveNaverCommentUserInfoJson","resolveNaverCommentMentionInfo","naverCommentListService","inAppService","lcsService","$timeout","errorRedirect","ERROR_MESSAGE","referrerService","naverCommentService","commonHelper",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u,h,t,y,D,B){var x=this;g=r.data.result;a=k.data.result;h=n.data.result;x.activate=!1;
x.buttonActivate=!1;x.naverCommentActivate=!1;b.document.title="\ub313\uae00 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";angular.element(document.getElementById("ct")).addClass("wrap_comment");if(!0===m.error||!0===p.error||!0===r.error||!0===k.error||!0===n.error)u(function(){confirmLayer(t.errorConfirmRefresh.message,function(){e.reload()},function(){b.history.back()})},0);else{x.blogId=f.blogId;x.logNo=f.logNo;x.commentNoPosition=g.commentNoPosition||"";x.totalCommentCountWithoutDeleted=g.totalCommentCountWithoutDeleted;
x.postTitle=g.postTitle;x.hasFocusedEl=!1;x.clickContainer=function(){x.fnInitCheckVisibleTarget();x.fnCheckVisible()};x.isInApp=function(){return w.isInApp()};x.deliveryCommentInfoToApp=function(){w.request("get","/CommentList/commentInfo",{blogId:x.blogId,logNo:x.logNo,count:x.totalCommentCountWithoutDeleted,postTitle:x.postTitle,naverComment:!0})};w.isInApp()&&x.deliveryCommentInfoToApp();m={divId:"naverComment",blogNo:m.blogNo,isLoggedIn:p.loggedIn,isblogOwner:m.blogOwner,ticketNo:"201",logNo:x.logNo,
commentNoPosition:x.commentNoPosition,aFormation:["page","list","write"],nPageSize:100,mentionInfo:h,bUseInfiniteScrolling:!0,sLikeItId:m.blogId+"_"+x.logNo};var E=function(){};isSafariBrowser?function(){var a=null,b=B.delayedOnceFn(function(){var b=document.querySelector("div:focus, textarea:focus"),f=document.querySelector(".head");f&&b?(x.hasFocusedEl=!0,d.$apply()):f&&x.hasFocusedEl&&!b&&(x.hasFocusedEl=!1,d.$apply());if(b&&b!=a)window.scrollBy(0,b.getBoundingClientRect().top-80),a=b;else{for(var f=
!1,e=document.querySelectorAll(".u_cbox_layer"),g=0;g<e.length;g++)"block"==e[g].style.display&&(f=!0);b=b||f?450:0;b=document.getElementsByClassName("common_comment")[0].offsetHeight+48+b-(window.scrollY+window.innerHeight);0>b&&window.scrollBy(0,b)}},100);window.addEventListener("scroll",b);window.document.body.addEventListener("click",b)}():(E=function(){var a=document.getElementsByClassName("common_comment")[0],b=document.getElementsByClassName("u_cbox_write_wrap");if(b&&(b=document.getElementsByClassName("u_cbox_write_wrap")[b.length-
1])){var d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=a.offsetHeight+48,f=b.offsetHeight;d-f<=a-f?(b.style.position="static",b.style.top="0px"):(b.style.position="relative",b.style.top=d-a+"px")}},p=function(a){var b=document.getElementsByClassName("u_cbox_write_wrap");if(b&&(b=document.getElementsByClassName("u_cbox_write_wrap")[b.length-1])&&!(b.className&&0<=b.className.indexOf("u_cbox_writing"))){var d=document.getElementsByClassName("u_cbox_write_box");
if(d&&(d=document.getElementsByClassName("u_cbox_write_box")[d.length-1])){var f=document.querySelector("div:focus, textarea:focus");"resize"!=a.type&&f&&d.contains(f)?(b.style.position="static",b.style.top="0px"):setTimeout(E,0)}}},window.document.body.addEventListener("click",p),window.addEventListener("resize",p));D.init(m,a,x.blogId,function(){x.naverCommentActivate=!0;x.fnCheckVisible();if(!x.commentNoPosition){var a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,
document.documentElement.offsetHeight,document.documentElement.clientHeight)-window.innerHeight,b;try{b=parseInt(getComputedStyle(document.getElementById("ct"),null).getPropertyValue("padding-bottom"),10)}catch(d){b=230}window.scrollTo(0,a-b)}},function(a){"number"==typeof a&&(x.totalCommentCountWithoutDeleted=a,w.isInApp()&&x.deliveryCommentInfoToApp(),d.$apply())},E);x.activate=!0;v.lcs_do();q.sendNclick=function(a){var b=nsc;nsc=d.nclick.nsc;nclk("",a,"","",1);nsc=b};x.back=function(){b.history.back()};
x.getIsFromBlogNews=function(){return-1<y.getReferrer().indexOf("/News.nhn")?"\x26referrerCode\x3d4":""};x.goWrite=function(a){x.buttonActivate=!1;var b=document.getElementById("naverComment__write_textarea");b.focus();b.scrollIntoView(!0);a.stopPropagation()};x.changeHistory=function(){var a=angular.extend({},f,{naverComment:!0});e.go(e.$current.self.name,a,{reload:!1,notify:!1,inherit:!1,location:"replace"})};w.isInApp()&&x.changeHistory();angular.element(b).bind("scroll",function(){1<=(window.pageYOffset||
document.documentElement.scrollTop)?angular.element(document.querySelector(".common_comment")).css({"touch-action":"auto"}):angular.element(document.querySelector(".common_comment")).css({"touch-action":"pan-down"})});var F,G;x.fnInitCheckVisibleTarget=function(){G=document.getElementsByClassName("u_cbox_write")||[]};x.fnInitWinDimensions=B.throttle(function(){F=B.getWinDimensions()});x.fnCheckVisible=function(){G||x.fnInitCheckVisibleTarget();var a=!1;angular.forEach(G,function(b){B.isElementInView(angular.element(b),
0,F)&&(a=!0)});x.buttonActivate=a?!1:!0};x.fnInitWinDimensions();angular.element(b).on("scroll resize touchmove",function(){x.fnCheckVisible();d.$apply()});angular.element(b).on("resize",x.fnInitWinDimensions)}}])})();
(function(){angular.module("bgNaverCommentList.model",[]).service("naverCommentListModel",["$http",function(e){this.getCommentList=function(d,a,b,f,l){return e.get("/rego/NaverCommentListJson.nhn?blogId\x3d"+d+"\x26logNo\x3d"+a+(angular.isDefined(b)?"\x26pageNo\x3d"+b:"")+(angular.isDefined(f)?"\x26focusingCommentNo\x3d"+f:"")+(angular.isDefined(l)?"\x26commentNoPosition\x3d"+l:"")).then(function(a){return a},function(){return{error:!0}})};this.getUserInfo=function(d){return e.get("/rego/NaverCommentUserInfoJson.nhn?blogId\x3d"+
d).then(function(a){return a},function(){return{error:!0}})};this.getMentionInfo=function(d){return e.get("/rego/NaverCommentMentionInfoListJson.nhn?blogId\x3d"+d).then(function(a){return a},function(){return{error:!0}})}}])})();
(function(){angular.module("bgNaverCommentList.service",["bgNaverCommentList.model","bgError.controller"]).service("naverCommentListService",["naverCommentListModel","ERROR_MESSAGE","$q",function(e,d){this.alertErrorLoad=function(){alertLayer(ERROR_MESSAGE.errorLoad.message)};this.getCommentList=function(a,b,d,l,g){return e.getCommentList(a,b,d,l,g)};this.getUserInfo=function(a){return e.getUserInfo(a)};this.getMentionInfo=function(a){return e.getMentionInfo(a)}}])})();
(function(){angular.module("bgNaverComment.service",["blogCommonHelper.services","bgLazyJSLoader.service","bgNaverComment.model","bgInApp.service"]).service("naverCommentService",["bgConst.urlMap","naverCommentModel","$window","$rootScope","$location","LazyJSLoader","inAppService",function(e,d,a,b,f,l,g){var m=this,p=e.naverCommentStaticUrl,r=e.naverCommentApiUrl;m.makeUserProfileInfo=function(a){if(a&&a.nickName){var b={nickname:a.nickName,profileType:a.profileType};a.profileImageUrl?b.image=a.profileImageUrl:
a.personaconListJson&&(b.images=JSON.parse(a.personaconListJson));return b}};m.loadModule=function(a,b,d,f,e,u){var h=a.commentNoPosition||"",t=m.makeUserProfileInfo(d);u=u||function(){};var y=!0,D=g.isInApp()?"":"CURRENT_WINDOW";b={bUsePersist:!1,sId:a.divId,sDomain:p,sApiDomain:r,bLogin:a.isLoggedIn,sTicket:"blog",sObjectId:b,sLanguage:"ko",sGroupId:a.blogNo,sCommentNo:h,sLikeItId:a.sLikeItId,bManager:a.isblogOwner,aFormation:a.aFormation,sPageType:"more",bMobile:!0,sDateFormat:"Y.m.d. H:i",bUseAgo:!0,
bShowReply:!0,sProfileImageParam:"type\x3ds40",sTemplateId:a.templateId,nPageSize:a.nPageSize,sCssId:"blog_w",bUseInfiniteScrolling:a.bUseInfiniteScrolling,sProfileActionType:D,vProfileHandler:function(a){var b;a.id?b="/PostList.nhn?blogId\x3d"+a.id:a.userHomepageUrl&&(b=a.userHomepageUrl);if(!g.isInApp())return b;b&&(self.location.href=b)},htMessage:{template:{write_placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",list_empty:"\ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\x3cbr\x3e\uccab\ubc88\uc9f8 \ub313\uae00\uc744 \ub0a8\uaca8\uc8fc\uc138\uc694.",
write_reply_placeholder:"\ub2f5\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",write_long_placeholder:function(a){return a.mention?"\ube14\ub85c\uadf8\uac00 \ub354 \ud6c8\ud6c8\ud574\uc9c0\ub294 \ub313\uae00 \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4. @\ubcc4\uba85\uc744 \uc785\ub825\ud558\uba74 \uc11c\ub85c\uc774\uc6c3\uc774 \uc18c\ud658\ub429\ub2c8\ub2e4.":"\ube14\ub85c\uadf8\uac00 \ub354 \ud6c8\ud6c8\ud574\uc9c0\ub294 \ub313\uae00 \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4. \ubd88\ucf8c\uac10\uc744 \uc8fc\ub294 \uc695\uc124\uacfc \uc545\ud50c\uc740 \uc0ad\uc81c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},
secret_reply:"\ube44\ubc00 \ub313\uae00\uc785\ub2c8\ub2e4.",editor:"\ube14\ub85c\uadf8\uc8fc\uc778"},alert:{mention_edit_confirm:"\ub313\uae00 \uc218\uc815\uc2dc @\uc18c\ud658\uc774 \ud574\uc81c\ub429\ub2c8\ub2e4. \uacc4\uc18d \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n(\uc18c\ud658\uae30\ub2a5\uc740 Internet Explorer 9.0, Android 4.0 \uc774\uc0c1\uc758 \ud658\uacbd\uc5d0\uc11c, \uc804\uccb4\uacf5\uac1c\uae00 \uc77c\ub54c \uac00\ub2a5\ud569\ub2c8\ub2e4)",secret_mention_confirm:"\ub313\uae00 \ub0b4\uc6a9 \uc911 @\uc18c\ud658\uc774 \uc788\ub294\uacbd\uc6b0,\n\ube44\ubc00\ub85c \ub4f1\ub85d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\uc77c\ubc18 \ub313\uae00\ub85c \ub4f1\ub85d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}},
htErrorHandler:{3200:"\ub313\uae00\uc744 \ub4f1\ub85d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\uc774 \ube14\ub85c\uadf8\uc758 \ub313\uae00\uc4f0\uae30\uac00 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4."},htEventHandler:{beforeCreate:function(a){d.fontName&&(a.htParams.extension=d.fontName)},afterList:function(a){u()},afterMoveToFirstComment:function(){window.scrollTo(0,0)},beforeList:function(a){a&&a.nPage&&1!=a.nPage&&(y=!1)},afterImageLoadFinished:function(){f&&y&&f();y=!1},initialized:function(){f&&
f()},afterCreate:function(a){e&&a.oJson.result.count&&e(a.oJson.result.count.total);u()},afterRemove:function(a){e&&a.oJson.result.count&&e(a.oJson.result.count.total);u()},loadReport:function(a){if(g.isInApp()&&a&&a.oJson&&a.oJson.success){var b=location,d=a.oJson.result,f=d.reportUrl,f=f+("?itemSvcCd\x3d"+encodeURIComponent(d.itemSvcCd)),f=f+("\x26itemVirtualSvcCd\x3d"+encodeURIComponent(d.itemVirtualSvcCd)),f=f+("\x26itemType\x3d"+encodeURIComponent(d.itemType)),f=f+("\x26itemId\x3d"+encodeURIComponent(d.itemId)),
e;a:{for(var l=d.itemTitle,k,h=100;90<h;h--)try{e=encodeURIComponent(l.substr(0,h));break a}catch(n){k=n}throw k;}f+="\x26itemTitle\x3d"+e;for(e=0;e<d.category.length;e++)k=d.category[e],f+="\x26itemCateId\x3d"+encodeURIComponent(k.itemCateId),f+="\x26itemCateName\x3d"+encodeURIComponent(k.itemCateName),f+="\x26itemCateLevel\x3d"+encodeURIComponent(k.itemCateLevel);f+="\x26itemWriterId\x3d"+encodeURIComponent(d.itemWriterId);f+="\x26itemEncyptWriterId\x3d"+encodeURIComponent(d.itemEncyptWriterId);
f+="\x26itemWriterNick\x3d"+encodeURIComponent(d.itemWriterNick);f+="\x26itemDt\x3d"+encodeURIComponent(d.itemDt);f+="\x26retUrl\x3d"+encodeURIComponent(encodeURIComponent(location.href));f+="\x26memberType\x3d"+encodeURIComponent(d.memberType);f+="\x26reportCountryCd\x3d"+encodeURIComponent(d.reportCountryCd);f+="\x26reportLangCd\x3d"+encodeURIComponent(d.reportLangCd);b.href=f+"\x26m\x3drprtMobileFrmApp";a.stop()}}},htUserInfo:t};"201"==a.ticketNo&&a.mentionInfo&&(b.htMentionOption={profiles:JSON.parse(a.mentionInfo),
message:{guide:"",empty:"\uc11c\ub85c\uc774\uc6c3\uc744 \uc18c\ud658\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},useMentionButton:!0,buttonGuide:{message:"\uc804\uccb4\uacf5\uac1c\uae00\uc5d0\uc11c @\ub97c \ub20c\ub7ec\x3cbr/\x3e\ub098\uc758 \uc11c\ub85c\uc774\uc6c3\uc744 \uc18c\ud658\ud574\ubcf4\uc138\uc694.",expire:365}});window.__htCboxOption=b;if(this.initPromis)return this.initPromis.then(function(){cbox.Core.init(window.__htCboxOption)}),this.initPromis;a=b.sDomain+"/js/cbox.core.js?v\x3d"+Math.floor((new Date).getTime()/
12E5);m.lazyLoader=new l(a,"utf-8");return this.initPromis=m.lazyLoader.load()};m.init=function(a,b,f,e,g,l){var h=a.blogNo+"_"+a.ticketNo+"_"+a.logNo;d.getTemplateId(f,h).then(function(d){a.templateId=d.result.templateId;m.loadModule(a,h,b,e,g,l)},function(a){})}}])})();
(function(){angular.module("bgNaverComment.model",[]).service("naverCommentModel",["$http","$httpParamSerializerJQLike","$q",function(e,d,a){this.getTemplateId=function(b,f){var l=e({method:"POST",url:"/rego/NaverCommentTemplateIdJson.nhn?blogId\x3d"+b+"\x26objectId\x3d"+f,data:d({blogId:b,objectId:f})}).then(function(a){return a.data},function(){return{error:!0}});return a(function(a,b){l.then(function(d){d.exist?b(d):a(d)},function(a){b(null)})})}}])})();
(function(){var e=angular.module("bgCommentList.directive",["bgCommentList.model"]);e.service("mentionService",["commentListModel",function(d){var a=this;a.getBothBuddyList=function(a){return d.getBothBuddyList(a)};a.setMentionHighlightElement=function(b){a.mentionHighlightElement=b};a.setMentionCursorElement=function(b){a.mentionCursorElement=b};a.getMentionCursorElement=function(){return a.mentionCursorElement};a.synchronizeScrollTop=function(b){a.mentionHighlightElement[0].scrollTop=b;a.mentionCursorElement[0].scrollTop=
b};a.setMentionTextAreaElement=function(b){a.mentionTextAreaElement=b};a.focusOnMentionTextArea=function(){a.mentionTextAreaElement[0].focus()};a.getCaretIndex=function(a){if(0==a.value.length)return-1;if(a.selectionStart)return a.selectionStart;if(document.selection){a.focus();var d=document.selection.createRange();d.moveStart("character",-a.value.length);return d.text.length}return-1}}]);e.controller("mentionController",["$scope","mentionService",function(d,a){var b=this;b.isBothBuddyListLoaded=
!1;b.isAjaxCallRequested=!1;b.bothBuddyList=[];b.defaultProfileImageUrl="http://static.naver.com/blog/m/img_default.gif";b.getSearchedBothBuddyList=function(a,d){var e=[],m=[];if(-1==a.indexOf("@"))return e;if(!b.isBothBuddyListLoaded)return b.getBothBuddyList(),e;if(0==b.bothBuddyList.length)return e;var p=b.getTypedValueAfterAt(d);if(""==p)return e;for(var r in b.bothBuddyList)null!=b.bothBuddyList[r].nickname&&0==b.bothBuddyList[r].nickname.indexOf(p)&&(""==b.bothBuddyList[r].profileImageUrl&&
(b.bothBuddyList[r].profileImageUrl=b.defaultProfileImageUrl),m.push(b.bothBuddyList[r]));return m};b.getBothBuddyList=function(){b.isAjaxCallRequested||(b.isAjaxCallRequested=!0,a.getBothBuddyList(d.blogId).then(function(a){a.error||(b.bothBuddyList=a.data,b.isBothBuddyListLoaded=!0)}))};b.getTypedValueAfterAt=function(a){var b=a.lastIndexOf("@");return-1==b?"":a.substr(b+1)};b.entityMap={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;"};b.escapeHTML=
function(a){return a.replace(/[&<>"'\/]/g,function(a){return b.entityMap[a]})}}]);e.directive("bgMentionContents",["mentionService",function(d){return{restrict:"A",link:function(a,b,f,e){d.setMentionTextAreaElement(b);var g=a.mentionAreaInfo;b.on("keyup",function(f){a.$apply(function(){var a=d.getCaretIndex(b[0])+1,f=b.val(),k=f.substring(0,a),n=f.substring(a);d.getMentionCursorElement().html(e.escapeHTML(k)+'\x3cspan id\x3d"caret" style\x3d"position:absolute;"\x3e\x26nbsp;\x3c/span\x3e'+e.escapeHTML(n));
d.synchronizeScrollTop(b[0].scrollTop);f=e.getSearchedBothBuddyList(f,k);g.layerPosition=document.getElementById("caret").getBoundingClientRect().top+"px";g.searchedBothBuddyList=f;g.cursorIndex=a;g.beforeCursor=k;g.afterCursor=n})})},controller:"mentionController",controllerAs:"ctrl",scope:{blogId:"\x3dblogId",mentionAreaInfo:"\x3dmentionAreaInfo"}}}]);e.directive("bgMentionHighlight",["mentionService",function(d){return{restrict:"A",link:function(a,b,f,e){d.setMentionHighlightElement(b)},scope:{}}}]);
e.directive("bgMentionCursor",["mentionService",function(d){return{restrict:"A",link:function(a,b,f,e){d.setMentionCursorElement(b)},scope:{}}}]);e.directive("bgMentionSelect",["mentionService",function(d){return{restrict:"A",link:function(a,b,f,e){b.on("click",function(b){a.callbackFunction();d.focusOnMentionTextArea()})},scope:{callbackFunction:"\x26callbackFunction"}}}]);e.directive("bgFocusToMiddle",["$timeout","$parse",function(d,a){return{restrict:"A",link:function(b,f,e){a(e.bgFocusToMiddle)()&&
d(function(){f[0].scrollIntoView(!0);f[0].getBoundingClientRect().top<=window.innerHeight/4&&(document.scrollingElement?document.scrollingElement.scrollTop-=window.innerHeight/2:document.body.scrollTop-=window.innerHeight/2);b.focusFinish()},0)},scope:{focusFinish:"\x26focusFinish"}}}]);e.directive("bgRepeatEnd",["$timeout",function(d){return{restrict:"A",link:function(a){1==a.$parent.$last&&d(function(){a.repeatEnd()})},scope:{repeatEnd:"\x26bgRepeatEnd"}}}])})();
(function(){var e=angular.module("bgCaptcha.service",["bgCaptcha.model"]);e.constant("ABUSER_ACTION_TYPE",{MB_POSTWRITE:4,MB_COMMENTWRITE:5});e.service("captchaService",["captchaModel",function(d){var a=this;a.captcha={isLayerOpen:!1,key:"",value:"",isValidValue:!0,imageSrcPrefix:"http://captcha.naver.com/nhncaptcha2.gif?key\x3d"};a.initCaptcha=function(){a.captcha.isLayerOpen=!1;a.captcha.key="";a.captcha.value="";a.captcha.isValidValue=!0};a.checkAbuser=function(a,f){return d.checkAbuser(a,f)};
a.showCaptchaLayer=function(){d.getCaptchaKey().then(function(b){a.captcha.key=b.data;a.captcha.isLayerOpen=!0})};a.refreshCaptchaKey=function(){d.getCaptchaKey().then(function(b){a.captcha.key=b.data})};a.checkValidValue=function(a,f,e){return d.checkValidValue(a,f,e)};a.showInvalidValueMessage=function(){a.captcha.isValidValue=!1};a.hideInvalidValueMessageIfNecessary=function(){a.captcha.isValidValue||(a.captcha.isValidValue=!0)}}])})();
(function(){angular.module("bgCaptcha.directive",["bgCaptcha.service"]).directive("bgCaptcha",[function(){return{templateUrl:"/html/ngapp/comment/Captcha.html",restrict:"E",controller:["$rootScope","captchaService",function(e,d){this.captcha=d.captcha;this.refreshCaptchaKey=function(){d.refreshCaptchaKey()}}],controllerAs:"ctrl",scope:{}}}])})();
(function(){angular.module("bgCaptcha.model",[]).service("captchaModel",["$http",function(e){this.checkValidValue=function(d,a,b){return e.get("/CaptchaValidCheck.nhn?blogId\x3d"+d+"\x26captchaKey\x3d"+a+"\x26captchaValue\x3d"+b).then(function(a){return a},function(){return{error:!0}})};this.checkAbuser=function(d,a){return e({method:"GET",url:"/CheckAbuserAsync.nhn?blogId\x3d"+d+"\x26actionType\x3d"+a,transformResponse:void 0}).then(function(a){return eval("("+a.data+")")},function(){return{error:!0}})};
this.getCaptchaKey=function(){return e.get("/GetCaptchaKey.nhn").then(function(d){return d},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgSticker.directive",["bgSticker.model"]);e.directive("bgSticker",[function(){return{templateUrl:"/html/ngapp/comment/Sticker.html",restrict:"E",controller:["$scope","$rootScope","stickerModel","bgConst.urlMap","ERROR_MESSAGE",function(d,a,b,f,e){var g=this;g.gfmarketMobileBaseUrl=f.gfmarket_mobile;g.gfmarketThumbBaseUrl=f.gfmarket_thumb;g.isLayerOpen=!1;g.stickerList={};g.selectedSticker={packCode:"",list:null};g.showLayer=function(){b.getStickerPackList().then(function(b){b.error?
(a.$broadcast("sticker:errorLoadingStickerPackList"),alertLayer(e.errorLoad.message)):(g.stickerPackList=b.data.list,g.showSticker(g.stickerPackList[0].packCode),g.isLayerOpen=!0)})};g.hideLayer=function(b){g.isLayerOpen=!1;1==b&&a.$broadcast("sticker:hideStickerLayer")};g.showSticker=function(a){angular.isUndefined(g.stickerList[a])?b.getStickerList(a).then(function(b){b.error?alertLayer(e.errorLoad.message):(g.stickerList[a]=b.data.list,g.selectedSticker.packCode=a,g.selectedSticker.list=b.data.list)}):
(g.selectedSticker.packCode=a,g.selectedSticker.list=g.stickerList[a])};g.getStickerPositionStyle=function(a){var b=-a%4*75;a=70*-(Math.ceil((a+1)/4)-1);return(b?b+"px ":"0 ")+(a?a+"px":"0")};g.registerStickerComment=function(a){commentListService.registerStickerComment(a)};g.clickStickerPack=function(b){g.showSticker(b.packCode);a.$broadcast("sticker:clickStickerPack",b)};g.clickSticker=function(b){a.$broadcast("sticker:clickSticker",b)};g.clickStickerShop=function(){g.hideLayer(!0);a.$broadcast("sticker:clickStickerShop");
window.open(g.gfmarketMobileBaseUrl+"/sticker/home","_blank")};d.$on("sticker:showStickerLayer",function(){g.showLayer()});d.$on("sticker:hideStickerLayer",function(){g.hideLayer(!1)})}],controllerAs:"ctrl",scope:{}}}]);e.directive("bgStickerResize",function(){return{link:function(d,a,b){a.bind("load",function(b){a.css("width",.5*this.naturalWidth+"px")})}}})})();
(function(){angular.module("bgSticker.model",[]).service("stickerModel",["$http",function(e){this.getStickerPackList=function(){return e.get("/rego/StickerPackListApiAsync.nhn").then(function(d){return d},function(){return{error:!0}})};this.getStickerList=function(d){return e.get("/rego/StickerListApiAsync.nhn?packCode\x3d"+d).then(function(a){return a},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgCommentReport.controller",["bgCommentReport.model"]);e.config(["$stateProvider",function(d){d.state("postCommentCaseView",{url:"/PostCommentCaseView.nhn?blogId\x26logNo\x26commentNo",templateUrl:"/html/ngapp/comment/CommentReport.html",controller:"CommentReportCtrl",controllerAs:"ctrl",resolve:{resolveCommentReportForm:["$stateParams","CommentReportModel",function(a,b){return b.getCommentReportForm(a.blogId,a.logNo,a.commentNo)}]}})}]);e.controller("CommentReportCtrl",
["$window","$stateParams","$state","$scope","resolveCommentReportForm","CommentReportModel","inAppService","ERROR_MESSAGE","errorRedirect",function(d,a,b,f,e,g,m,p,r){var k=this;k.isActivated=!1;d.document.title="\uc2e0\uace0\ud558\uae30 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";k.activate=function(){k.blogId=a.blogId;k.logNo=a.logNo;k.commentNo=a.commentNo;if(!0===e.error)$timeout(function(){confirmLayer(p.errorConfirmRefresh.message,function(){b.reload()},function(){k.back()})},0);else if(e.data.error)switch(e.data.error.code){case "nopermission":r.goNotOwner(!0);
break;case "not_exist_comment":k.moveAfterShowMessage("\uc774\ubbf8 \uc2e0\uace0\ub418\uc5c8\uac70\ub098, \uc0ad\uc81c\ub418\uc5b4 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ub313\uae00\uc785\ub2c8\ub2e4.");break;default:r.goNotFound(!0)}else{var d=e.data.result;k.form={writerBlogId:d.writerBlogId,commentNo:k.commentNo,reportType:"C02",reportReason:""};k.nicknameAndMaskedId=d.nicknameAndMaskedId;k.contentsInSize=d.contentsInSize;k.hasSticker=d.hasSticker;m.isInApp()&&(m.request("get","/setHeaderTitle",
{title:"\uc2e0\uace0\ud558\uae30"}),m.bindAppCall("submitModalForApp",function(){k.reportComment()}),m.bindAppCall("cancelModalForApp",function(){m.request("get","/modalView/Close",{refresh:!0})}));k.isActivated=!0}};k.setReportType=function(a){k.form.reportType=a};k.clearReportReason=function(){k.form.reportReason=""};k.reportComment=function(){g.reportComment(k.blogId,k.logNo,k.form).then(function(a){a.error?alertLayer(p.errorLoad.message):a.data.result.filterResultCode?(a=k.getMessageByFilterResultCode(a.data.result.filterResultCode),
k.moveAfterShowMessage(a)):a.data.result.error&&"not_exist_comment"==a.data.result.error.code?k.moveAfterShowMessage("\uc774\ubbf8 \uc2e0\uace0\ub418\uc5c8\uac70\ub098, \uc0ad\uc81c\ub418\uc5b4 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ub313\uae00\uc785\ub2c8\ub2e4."):alertLayer(p.errorLoad.message)})};k.getMessageByFilterResultCode=function(a){var b="\uc2e0\uace0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc811\uc218\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n";switch(a){case "SUCCESS":b+="\uc2a4\ud338\ucc28\ub2e8 ID \ubaa9\ub85d\uc5d0 "+
k.form.writerBlogId+"\uc774 \uc790\ub3d9 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";break;case "WAIT_BOTH_NEIGHBOR":b+="\uc0c1\ub300\ubc29\uc5d0\uac8c \uc11c\ub85c\uc774\uc6c3\uc2e0\uccad \uc911\uc774\ubbc0\ub85c \ube14\ub799\ub9ac\uc2a4\ud2b8 ID\uc5d0\ub294 \ucd94\uac00\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";break;case "NEIGHBOR":b+="\uc0c1\ub300\ubc29\uc774 \ub098\uc758 \uc774\uc6c3\uc774\ubbc0\ub85c \ube14\ub799\ub9ac\uc2a4\ud2b8 ID\uc5d0\ub294 \ucd94\uac00\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";
break;case "OVER_MAXCOUNT":b+="\ub4f1\ub85d \uac00\ub2a5 \uac1c\uc218(\ucd5c\ub300 1000\uac1c)\uac00 \ucd08\uacfc\ub418\uc5b4 \uc2a4\ud338\ucc28\ub2e8ID\ub85c \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."}return b};k.moveAfterShowMessage=function(a){alertLayer(a,function(){m.isInApp()?m.request("get","/historyBackAndRefresh"):d.location.href="/CommentList.nhn?blogId\x3d"+k.blogId+"\x26logNo\x3d"+k.logNo})};k.isInApp=function(){return m.isInApp()};k.back=function(){d.history.back()};f.$watch("ctrl.form.reportReason",
function(a,b){300<a.length&&alertLayer("\uc2e0\uace0 \uc0ac\uc720\ub294 300\uc790 \uc774\ub0b4\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.",function(){f.$apply(function(){k.form.reportReason=b})})});k.activate()}])})();
(function(){angular.module("bgCommentReport.model",[]).service("CommentReportModel",["$http",function(e){this.getCommentReportForm=function(d,a,b){return e.get("/rego/CommentReportFormAsync.nhn?blogId\x3d"+d+"\x26logNo\x3d"+a+"\x26commentNo\x3d"+b).then(function(a){return a},function(){return{error:!0}})};this.reportComment=function(d,a,b){return e.doPost("/rego/CommentReportAsync.nhn",{blogId:d,logNo:a,commentNo:b.commentNo,writerBlogId:b.writerBlogId,reportType:b.reportType,reportReason:b.reportReason}).then(function(a){return a},
function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgGuestbookReport.controller",["bgGuestbookReport.model","bgError.controller","bgInApp.service","bgInApp.directive"]);e.config(["$stateProvider",function(d){d.state("guestbookBadReportView",{url:"/GuestBookBadReportView.nhn?blogId\x26guestNo",templateUrl:"/html/ngapp/guestbook/GuestbookReport.html",controller:"GuestbookReportCtrl",controllerAs:"ctrl",resolve:{resolveGuestbookReportPage:["$stateParams","guestbookReportModel",function(a,b){return b.getGuestbookReportPage(a.blogId,
a.guestNo)}]}})}]);e.controller("GuestbookReportCtrl",["$window","$timeout","$scope","$stateParams","$state","resolveGuestbookReportPage","guestbookReportModel","inAppService","ERROR_MESSAGE",function(d,a,b,f,e,g,m,p,r){var k=this;k.activated=!1;d.document.title="\uc2e0\uace0\ud558\uae30 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";k.activate=function(){k.blogId=f.blogId;k.guestNo=f.guestNo;if(!0===g.error)a(function(){confirmLayer(r.errorConfirmRefresh.message,function(){e.reload()},function(){k.back()})},
0);else{var d=g.data.result;0==d.success?k.moveAfterShowMessage(d.errorMessage):(k.form={blogId:d.blogId,guestNo:d.guestbookNo,guestId:d.writerId,reportReasonCode:"C02",reportReasonDesc:""},k.nicknameAndMaskedId=d.nicknameAndMaskedId,k.contents=d.contents,b.$watch("ctrl.form.reportReasonDesc",function(a,b){300<a.length&&(k.form.reportReasonDesc=b)}),k.activated=!0,p.isInApp()&&(p.request("get","/setHeaderTitle",{title:"\uc2e0\uace0\ud558\uae30"}),p.bindAppCall("submitModalForApp",function(){k.reportGuestbook()}),
p.bindAppCall("cancelModalForApp",function(){p.request("get","/modalView/Close",{refresh:!0})})))}};k.setReportType=function(a){k.form.reportType=a};k.clearReportReason=function(){k.form.reportReason=""};k.reportGuestbook=function(){m.reportGuestbook(k.form).then(function(a){a.error?alertLayer(r.errorLoad.message):a.data.result.success?k.moveAfterShowMessage(a.data.result.successMessage):k.moveAfterShowMessage(a.data.result.errorMessage)})};k.moveAfterShowMessage=function(a){alertLayer(a,function(){p.isInApp()?
p.request("get","/modalView/Close",{refresh:!0}):d.location.href="/GuestbookList.nhn?blogId\x3d"+k.blogId})};k.isInApp=function(){return p.isInApp()};k.back=function(){d.history.back()};k.activate()}])})();
(function(){angular.module("bgGuestbookReport.model",[]).service("guestbookReportModel",["$http",function(e){this.getGuestbookReportPage=function(d,a){return e.get("/rego/GuestbookBadPageAsync.nhn?blogId\x3d"+d+"\x26guestNo\x3d"+a).then(function(a){return a},function(){return{error:!0}})};this.reportGuestbook=function(d){return e.doPost("/rego/GuestbookBadReportAsync.nhn",{blogId:d.blogId,guestNo:d.guestNo,guestId:d.guestId,reportReasonCode:d.reportReasonCode,reportReasonDesc:d.reportReasonDesc}).then(function(a){return a},
function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgFocusScroll.directive",[]);e.directive("bgFocusScrollItem",["$parse",function(d){return{restrict:"A",link:function(a,b,f){f.bgFocusScrollMoveItem&&d(f.bgFocusScrollMoveItem)()&&a.$emit("bgFocusScrollItem:move",b[0]);b.bind("click",function(){a.$emit("bgFocusScrollItem:clickMove",b[0])})}}}]);e.directive("bgFocusScroll",["$timeout",function(d){return{restrict:"A",link:function(a,b,f){function e(a){a=-1*a.offsetLeft+g.offsetWidth/2-a.offsetWidth/2;0<a&&(a=0);p.maxScrollX>
a&&(a=p.maxScrollX);p.scrollTo(a,0,1E3)}var g=b[0],m,p;a.$on("bgFocusScrollItem:move",function(a,b){m=b});a.$on("bgFocusScrollItem:clickMove",function(a,b){e(b)});d(function(){p=new IScroll(g,{scrollX:!0,scrollY:!1,keyBindings:!0,preventDefault:!0,eventPassthrough:"vertical",bounce:!0});m&&e(m)})}}}])})();
(function(){angular.module("bgHiddenHeader.directive",[]).directive("hiddenHeader",["$timeout","$window",function(e,d){return function(a,b,f){e(function(){var a=f.hiddenHeader;angular.element(d).bind("scroll",function(f){0<d.scrollY?b.addClass(a):b.removeClass(a)})})}}])})();
(function(){angular.module("bgNlnbFixer.directive",[]).directive("nlnbFixer",["$timeout","$window",function(e,d){return function(a,b,f){e(function(){var a=f.nlnbFixer,e=f.nlnbHeight;angular.element(d).bind("scroll",function(f){d.scrollY>e?b.addClass(a):b.removeClass(a)})})}}])})();
(function(){angular.module("bgTwoWayInfiniteScroll.directive",[]).directive("bgTwoWayInfiniteScroll",["$window",function(e){return{restrict:"A",link:function(d){function a(){return document.scrollingElement?document.scrollingElement.scrollTop:document.body.scrollTop}var b=d.scrollBuffer||0,f=a(),l=function(){if(1!=d.scrollDisabled){var e=a()<f,l=!e;e&&a()<=window.innerHeight*b?d.loadPrev():l&&document.body.scrollHeight-(a()+window.innerHeight)<=window.innerHeight*b&&d.loadNext();f=a()}};angular.element(e).on("scroll",
l);d.$on("$destroy",function(){angular.element(e).off("scroll",l)})},scope:{loadPrev:"\x26loadPrev",loadNext:"\x26loadNext",scrollBuffer:"\x3dscrollBuffer",scrollDisabled:"\x3dscrollDisabled"}}}])})();(function(){angular.module("bgDefaultImage.directive",[]).directive("bgDefaultImage",[function(){return{restrict:"A",link:function(e,d){d.on("error",function(){d.attr("src",e.defaultImage())})},scope:{defaultImage:"\x26bgDefaultImage"}}}])})();
(function(){var e=angular.module("bgBusiness.controller",["ui.router","bgBusiness.model"]);e.config(["$stateProvider",function(d){d.state("Business",{url:"/Business.nhn?blogId",templateUrl:"/html/ngapp/business/Business.html",controller:"businessCtrl",controllerAs:"businessCtrl",resolve:{resolveBusiness:["$stateParams","businessModel",function(a,b){return b.getBusinessInfo(a.blogId)}]}})}]);e.controller("businessCtrl",["$window","errorRedirect","resolveBusiness",function(d,a,b){b.error?a.goNoDisplay(!0):
b.existBusinessInfo&&b.setBusiness?this.business=b.businessView:a.goNoDisplay(!0);this.back=function(){d.history.back()}}])})();(function(){angular.module("bgBusiness.model",[]).service("businessModel",["$http",function(e){this.getBusinessInfo=function(d){return e.get("/rego/BusinessInfo.nhn?blogId\x3d"+d,{cache:!0,expireTime:3E3}).then(function(a){return a.data.error?{error:!0}:a.data.result},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgBuddyGroupAddForm.controller","bgBuddy.model bgBlogUser.model bgError.controller blogCommonHelper.services bgInApp.service bgBuddyAdd.service".split(" "));e.config(["$stateProvider","$urlRouterProvider",function(d,a){d.state("buddyGroupAddForm",{url:"/BuddyGroupAddForm.nhn?blogId\x26fromGroup",templateUrl:"/html/ngapp/buddy/setting/BuddyGroupAddForm.html",controller:"bgafCtrl",controllerAs:"bgafCtrl",resolve:{resolveBlogUser:["$stateParams","blogUserModel",function(a,
d){return d.getBlogUser(a.blogId)}]}})}]);e.controller("bgafCtrl",["$window","$scope","$stateParams","$location","$timeout","ERROR_MESSAGE","buddyGroupAddFormModel","resolveBlogUser","blogCommonHelper","inAppService","buddyAdder",function(d,a,b,f,e,g,m,p,r,k,n){var q=this;q.isActivated=!1;!0===p.error?(q.isActivated=!1,e(function(){confirmLayer(g.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0)):p.blogOwner?(d.document.title="\uc0c8\uadf8\ub8f9 \ucd94\uac00 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",
q.isInApp=k.isInApp(),q.fromGroup=b.fromGroup,q.blogId=b.blogId,a.selectedOption={groupOpenYn:"true",groupName:""},q.historyBack=function(){d.history.back()},q.groupAdd=function(){var b=a.selectedOption.groupName,d=a.selectedOption.groupOpenYn;n.isEmptyGroupName(b)?alertLayer("\uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",function(){a.$broadcast("focusGroupName")}):n.isOverGroupNameLength(b)?alertLayer("\ud55c\uae00 1~50\uc790\uc774\uac70\ub098 \uc601\uc5b4 2\uc790~100\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",
function(){a.$broadcast("focusGroupName")}):m.groupAdd(q.blogId,b,d).then(function(a){"true"===a.isSuccess?alertLayer("\uadf8\ub8f9 \ucd94\uac00\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",function(){q.isInApp?k.request("get","/modalView/Close",{refresh:!0}):f.url("/BuddyList.nhn?blogId\x3d"+q.blogId+"\x26fromGroup\x3d"+q.fromGroup)}):alertLayer("\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},function(){alertLayer("\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})},
q.closePopupForApp=function(){confirmLayer("\uc0c8\uadf8\ub8f9 \ucd94\uac00\ub97c \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){k.request("get","/modalView/Close",{refresh:!1})})},q.isInApp&&(k.request("get","/setHeaderTitle",{title:"\uc0c8\uadf8\ub8f9 \ucd94\uac00"}),k.bindAppCall("submitModalForApp",function(){q.groupAdd();return"success"}),k.bindAppCall("cancelModalForApp",function(){q.closePopupForApp();return"success"})),q.isActivated=!0):r.doLogin(urlMap.nmobile+"/"+b.blogId)}])})();
(function(){var e=angular.module("bgBuddyGroupMoveForm.controller",["bgBuddyGroup.model","bgBlogUser.model","bgError.controller","blogCommonHelper.services","bgInApp.service"]);e.config(["$stateProvider","$urlRouterProvider",function(d,a){d.state("buddyGroupMoveForm",{url:"/BuddyGroupMoveForm.nhn?ownerId\x26blogId\x26blogNo\x26isRss\x26returnUrl",templateUrl:"/html/ngapp/buddy/setting/BuddyGroupMoveForm.html",controller:"bgmfCtrl",controllerAs:"bgmfCtrl",resolve:{resolveBlogUser:["$stateParams","blogUserModel",
function(a,d){return d.getBlogUser(a.ownerId)}],resolveBuddyGroupMoveForm:["$stateParams","buddyGroupMoveFormModel",function(a,d){return d.getForm(a.blogId,a.blogNo,a.isRss,a.returnUrl)}]}})}]);e.controller("bgmfCtrl",["$window","$scope","$stateParams","$location","$timeout","ERROR_MESSAGE","resolveBuddyGroupMoveForm","resolveBlogUser","buddyGroupMoveFormModel","blogModel","blogCommonHelper","nscService","lcsService","inAppService",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v){var u=this;u.isActivated=!1;
p&&!p.loggedIn?n.doLogin("stage.m.blog.naver.com/BuddyAddForm.nhn?blogId\x3d"+b.blogId+"\x26mobileBuddyAddMessageType\x3d1\x26returnUrl\x3d"+b.returnUrl):!0===p.error||!0===m.error?e(function(){confirmLayer(g.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0):(d.document.title="\uadf8\ub8f9 \uc774\ub3d9 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",q.setNsc("Mblog.post"),u.isInApp=v.isInApp(),u.ownerId=b.ownerId,u.buddyBlogId=b.blogId,u.buddyBlogNo=b.blogNo,u.isRss=
b.isRss,u.buddyBlog=m.buddyBlogView,u.buddyGroupList=m.buddyGroupListView,a.data={selectedGroupOption:null},u.historyBack=function(){d.history.back()},u.unescapeOnlyNCR=function(a){return n.unescapeOnlyNCR(a)},u.closePopupForApp=function(){confirmLayer("\uadf8\ub8f9 \uc774\ub3d9\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",function(){v.request("get","/modalView/Close",{refresh:!1})})},u.moveGroup=function(){r.moveGroup(u.ownerId,u.buddyBlogId,a.data.selectedGroupOption?a.data.selectedGroupOption:
u.buddyGroupList.buddyGroupViewList[0].groupId,u.buddyBlogNo,u.isRss).then(function(a){if("true"===a.isSuccess)alertLayer("\ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",function(){u.isInApp?v.request("get","/modalView/Close",{refresh:!0}):f.url("/BuddyList.nhn?blogId\x3d"+u.ownerId)});else{var b="\uadf8\ub8f9 \uc774\ub3d9\uc744 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.";a.isBuddyGroupLimitExceeded&&(b="\uc120\ud0dd \uadf8\ub8f9\uc758 \uc774\uc6c3\uc218\uac00 \ucd08\uacfc\ub418\uc5b4\n\uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ub2e4\ub978 \uadf8\ub8f9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");
alertLayer(b)}},function(){alertLayer("\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})},u.isInApp&&(v.request("get","/setHeaderTitle",{title:"\uadf8\ub8f9 \uc774\ub3d9"}),v.bindAppCall("submitModalForApp",function(){u.moveGroup();return"success"}),v.bindAppCall("cancelModalForApp",function(){u.closePopupForApp();return"success"})),u.isActivated=!0,w.lcs_do())}])})();
(function(){var e=angular.module("bgBuddyAddForm.controller","bgBuddy.model bgBlogUser.model bgError.controller blogCommonHelper.services bgInApp.service bgBuddyAdd.service".split(" "));e.config(["$stateProvider","$urlRouterProvider",function(d,a){d.state("buddyAddForm",{url:"/BuddyAddForm.nhn?blogId\x26returnUrl\x26mobileBuddyAddMessageType\x26subDirectoryKey",templateUrl:"/html/ngapp/buddy/setting/BuddyAddForm.html",controller:"bafCtrl",controllerAs:"bafCtrl",resolve:{resolveBlogUser:["blogUserModel",
function(a){return a.getBlogUser()}],resolveBuddyAddForm:["$stateParams","buddyFormModel",function(a,d){return d.getForm(a.blogId,a.returnUrl,a.mobileBuddyAddMessageType,a.subDirectoryKey)}]}})}]);e.controller("bafCtrl",["$window","$scope","$stateParams","$location","$timeout","$state","ERROR_MESSAGE","resolveBuddyAddForm","resolveBlogUser","blogCommonHelper","nscService","lcsService","inAppService","buddyAdder",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v){function u(a,b,d){!t.buddyGroupList.entityExist&&
v.isEmptyGroupName(d.buddyGroupView.groupName)?alertLayer("\uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."):!t.buddyGroupList.entityExist&&v.isOverGroupNameLength(d.buddyGroupView.groupName)?alertLayer("\ud55c\uae00 1~50\uc790\uc774\uac70\ub098 \uc601\uc5b4 2\uc790~100\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):t.buddyGroupList.entityExist&&t.buddyGroupList.allGroupCountMax?alertLayer("\ubaa8\ub4e0 \uadf8\ub8f9\uc758 \uc774\uc6c3\uc218\uac00 \ucd08\uacfc\ub418\uc5b4\n\uc774\uc6c3\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4\nPC\uc5d0\uc11c \uc0c8 \uadf8\ub8f9\uc744 \ub9cc\ub4e4\uc5b4\uc8fc\uc138\uc694"):
t.buddyGroupList.entityExist&&t.buddyGroupListAsArray[d.buddyGroupView.groupId].maxCount?alertLayer("\uc120\ud0dd \uadf8\ub8f9\uc758 \uc774\uc6c3\uc218\uac00 \ucd08\uacfc\ub418\uc5b4\n\uc774\uc6c3\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4\n\ub2e4\ub978 \uadf8\ub8f9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"):"1"!=a||v.isValidBothBuddyInviteMessage(b)?"1"==a?v.validateBothBuddyInvite(d.blogId,d.buddyGroupView).then(function(f){f&&h(a,b,d)}):v.validateBuddyAdd(d.blogId,d.buddyGroupView).then(function(f){f&&
h(a,b,d)}):alertLayer("\uc11c\ub85c\uc774\uc6c3 \uc2e0\uccad \uba54\uc2dc\uc9c0\ub294 \ucd5c\ub300 400\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4")}function h(a,b,d){"1"==a?g.go("bothBuddyInviteComplete",{blogId:d.blogId,buddyGroupView:d.buddyGroupView,inviteMessage:b,returnUrl:t.returnUrl},{location:!1}):g.go("buddyAddComplete",{blogId:d.blogId,buddyGroupView:d.buddyGroupView,returnUrl:t.returnUrl},{location:!1})}var t=this;t.isActivated=!1;r&&!r.loggedIn?k.doLogin(urlMap.nmobile+
"/BuddyAddForm.nhn?blogId\x3d"+b.blogId+"\x26mobileBuddyAddMessageType\x3d1\x26returnUrl\x3d"+b.returnUrl):!0===r.error||!0===p.error?(t.isActivated=!1,e(function(){confirmLayer(m.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0)):(t.isInApp=w.isInApp(),t.userId=r.userId,t.buddyBlogId=p.blogId,t.buddyBlog=p.buddyBlogView,t.buddyGroupList=p.buddyGroupListView,t.isAllowBothBuddy=p.isAllowBothBuddy,t.isBuddyAddForm="bothBuddyInviteForm"===p.viewType?!1:!0,
t.returnUrl=p.returnUrl,t.isSubscriber=p.isSubscriber,p.buddyValidationResult.valid?(t.buddyGroupListAsArray={},angular.forEach(t.buddyGroupList.buddyGroupViewList,function(a){t.buddyGroupListAsArray[a.groupId]=a}),d.document.title=t.isBuddyAddForm?"\uc774\uc6c3\ucd94\uac00 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8":"\uc11c\ub85c\uc774\uc6c3\ucd94\uac00 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",n.setNsc("Mblog.post"),a.data={selectedGroupOption:null,selectedBuddyType:t.isBuddyAddForm?"2":"1",inviteMessage:"\uc6b0\ub9ac \uc11c\ub85c\uc774\uc6c3\ud574\uc694~",
newGroupName:"\uc0c8 \uadf8\ub8f9",newGroupOpenYn:"true"},t.historyBack=function(){d.history.back()},t.unescapeOnlyNCR=function(a){return k.unescapeOnlyNCR(a)},t.buddyAdd=function(){var b=a.data.selectedBuddyType?a.data.selectedBuddyType:"1",d=a.data.inviteMessage,f;t.buddyGroupList.entityExist?(f=a.data.selectedGroupOption?a.data.selectedGroupOption:t.buddyGroupList.buddyGroupViewList[0].groupId,f={blogId:t.buddyBlogId,buddyGroupView:{groupId:Number(f),groupName:t.buddyGroupListAsArray[f].groupName,
groupOpenYn:t.buddyGroupListAsArray[f].groupOpenYn}}):f={blogId:t.buddyBlogId,buddyGroupView:{groupId:0,groupName:a.data.newGroupName,groupOpenYn:"true"==a.data.newGroupOpenYn?!0:!1}};u(b,d,f)},t.isInApp&&(t.isBuddyAddForm?w.request("get","/setHeaderTitle",{title:"\uc774\uc6c3\ucd94\uac00"}):w.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3\ucd94\uac00"}),w.bindAppCall("submitModalForApp",function(){t.buddyAdd();return"success"}),w.bindAppCall("cancelModalForApp",function(){w.request("get",
"/modalView/Close",{refresh:!1});return"success"})),t.isActivated=!0,q.lcs_do()):t.isInApp?v.checkBuddyValidationResultInApp(t.userId,t.buddyBlogId,p.buddyValidationResult):v.checkBuddyValidationResult(t.userId,t.buddyBlogId,p.buddyValidationResult,t.returnUrl))}])})();
(function(){var e=angular.module("bgBuddyAddComplete.controller","bgBuddy.model bgBlogUser.model bgError.controller blogCommonHelper.services bgInApp.service bgBuddyAdd.service bgBuddyList.service".split(" "));e.config(["$stateProvider","$urlRouterProvider",function(d,a){d.state("buddyAddComplete",{url:"/BuddyAdd.nhn",templateUrl:"/html/ngapp/buddy/setting/BuddyAddComplete.html",controller:"bacCtrl",controllerAs:"bacCtrl",params:{blogId:null,buddyGroupView:null,returnUrl:null},resolve:{resolveBlogUser:["blogUserModel",
function(a){return a.getBlogUser()}],resolveBuddyAddComplete:["$stateParams","buddyModifyModel",function(a,d){return d.buddyAdd(a.blogId,a.buddyGroupView,a.returnUrl)}]}})}]);e.controller("bacCtrl",["$window","$scope","$stateParams","$location","$timeout","$filter","ERROR_MESSAGE","resolveBuddyAddComplete","resolveBlogUser","blogCommonHelper","nscService","lcsService","inAppService","buddyAdder","referrerService","buddyListService",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u,h){var t=this;t.isActivated=
!1;r&&!r.loggedIn?k.doLogin(urlMap.nmobile+"/BuddyAddForm.nhn?blogId\x3d"+b.blogId+"\x26mobileBuddyAddMessageType\x3d1\x26returnUrl\x3d"+b.returnUrl):!0===r.error||!0===p.error?e(function(){confirmLayer(m.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0):(t.isInApp=w.isInApp(),t.userId=r.userId,t.buddyBlogId=b.blogId,t.buddyBlog=p.buddyBlogView,t.buddyBuddy=p.buddyBuddyView,t.isEnabledViewer=p.isEnabledViewer,p.buddyValidationResult.valid?(d.document.title=
"\uc774\uc6c3\ucd94\uac00 \uc644\ub8cc : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",n.setNsc("Mblog.post"),t.unescapeOnlyNCR=function(a){return k.unescapeOnlyNCR(a)},t.goBuddyBlog=function(a){t.isInApp?w.request("get","/modalView/Close",{blogId:a}):f.url("/"+a)},t.goBuddyBlogLegacy=function(a){t.isInApp?d.location.href=urlMap.nmobile+"/PostList.nhn?blogId\x3d"+a:f.url("/"+a)},t.getFeedUrl=function(){return urlMap.nmobile+"/FeedList.nhn"},t.closePopUp=function(){var a=decodeURIComponent(b.returnUrl);""!=
a?d.location.href=a:""!=u.getReferrer()?d.history.go(-3):f.url("/"+t.buddyBlogId)},t.getProfile=function(a){return a?urlMap.blogprofilethumb+a+"?type\x3ds40":"http://static.naver.com/blog/m/img_default.gif"},t.updateNoti=function(){h.updateBuddyPushNoti(!1,t.userId,t.buddyBlogId,"",!0)},t.buddyAddAsync=function(a){v.buddyAddAsync(a.blogId).then(function(b){b&&(a.buddyAddAsyncEnded=!0)})},t.getBlogTitle=function(a){if(a.blogTitle){a=t.unescapeOnlyNCR(a.blogTitle);var b=g("limitTo")(a,20);return 20<
k.getByteLength(a)?b+"..":b}return(a.nickName?a.nickName:a.blogId)+"\ub2d8\uc758 \ube14\ub85c\uadf8"},t.isInApp&&(w.request("get","/setHeaderTitle",{title:"\uc774\uc6c3\ucd94\uac00 \uc644\ub8cc"}),w.request("get","/modalView/hideSubmitButton"),w.bindAppCall("cancelModalForApp",function(){w.request("get","/modalView/Close",{refresh:!0,pushNavigation:!1});return"success"})),t.isActivated=!0,q.lcs_do()):t.isInApp?v.checkBuddyValidationResultInApp(t.userId,t.buddyBlogId,p.buddyValidationResult):v.checkBuddyValidationResult(t.userId,
t.buddyBlogId,p.buddyValidationResult,p.returnUrl))}])})();
(function(){var e=angular.module("bgBothBuddyInviteComplete.controller","bgBuddy.model bgBlogUser.model bgError.controller blogCommonHelper.services bgInApp.service bgBuddyAdd.service bgReferrer.service".split(" "));e.config(["$stateProvider","$urlRouterProvider",function(d,a){d.state("bothBuddyInviteComplete",{url:"/BothBuddyInvite.nhn",templateUrl:"/html/ngapp/buddy/setting/BothBuddyInviteComplete.html",controller:"bbicCtrl",controllerAs:"bbicCtrl",params:{blogId:null,buddyGroupView:null,inviteMessage:null,
returnUrl:null},resolve:{resolveBlogUser:["blogUserModel",function(a){return a.getBlogUser()}],resolveBothBuddyInviteComplete:["$stateParams","buddyModifyModel",function(a,d){return d.bothBuddyInvite(a.blogId,a.buddyGroupView,a.inviteMessage,a.returnUrl)}]}})}]);e.controller("bbicCtrl",["$window","$scope","$stateParams","$location","$timeout","ERROR_MESSAGE","resolveBothBuddyInviteComplete","resolveBlogUser","blogCommonHelper","inAppService","buddyAdder","referrerService",function(d,a,b,f,e,g,m,p,
r,k,n,q){var w=this;w.isActivated=!1;p&&!p.loggedIn?r.doLogin(urlMap.nmobile+"/BuddyAddForm.nhn?blogId\x3d"+b.blogId+"\x26mobileBuddyAddMessageType\x3d1\x26returnUrl\x3d"+b.returnUrl):!0===p.error||!0===m.error?e(function(){confirmLayer(g.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0):(w.isInApp=k.isInApp(),w.userId=p.userId,w.buddyBlogId=b.blogId,w.buddyBlog=m.buddyBlogView,m.buddyValidationResult.valid?(d.document.title="\uc11c\ub85c\uc774\uc6c3\ucd94\uac00 \uc644\ub8cc : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",
w.unescapeOnlyNCR=function(a){return r.unescapeOnlyNCR(a)},w.goBuddyBlog=function(a){w.isInApp?k.request("get","/modalView/Close",{blogId:a}):f.url("/"+w.buddyBlogId)},w.getFeedUrl=function(){return urlMap.nmobile+"/FeedList.nhn"},w.closePopUp=function(){var a=decodeURIComponent(b.returnUrl);-1<a.indexOf("BuddyList.nhn")?d.history.go(-3):""!=a?d.location.href=a:""!=q.getReferrer()?d.history.go(-3):f.url("/"+w.buddyBlogId)},w.isInApp&&(k.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3\ucd94\uac00 \uc644\ub8cc"}),
k.request("get","/modalView/hideSubmitButton"),k.bindAppCall("cancelModalForApp",function(){k.request("get","/modalView/Close",{refresh:!0,pushNavigation:!1});return"success"})),w.isActivated=!0):w.isInApp?n.checkBuddyValidationResultInApp(w.userId,w.buddyBlogId,m.buddyValidationResult):n.checkBuddyValidationResult(w.userId,w.buddyBlogId,m.buddyValidationResult,m.returnUrl))}])})();
(function(){var e=angular.module("bgLinkShare.controller","bgConfig ngSanitize bgInApp.service bgReadOnly.service bgPenalty.service blogCommonHelper.services bgPenalty.service bgLcs.service bgCrawler.service bgNclick.directive bgReadOnly.directive bgError.controller bgBlog.model bgBlogUser.model bgCategoryList.model bgLinkShare.model".split(" "));e.config(["$stateProvider",function(d){var a={url:"/LinkShare.nhn?url\x26title\x26token\x26timestamp",templateUrl:"/html/ngapp/scrap/LinkShare.html",controller:"linkShareCtrl",
controllerAs:"linkShareCtrl",resolve:{resolveBlogUser:["$q","blogUserModel",function(a,b){return b.getBlogUser()}]}},b=angular.copy(a);b.url="/open/OpenShareForm.nhn?url\x26title\x26token\x26timestamp";var f=angular.copy(a);f.url="/openapi/share?url\x26title\x26token\x26timestamp";d.state("linkShare",a).state("openShareForm",b).state("openApiShare",f).state("shareBlogPostSuccess",{url:"/ShareBlogPostSuccess.nhn?logNo\x26postBlogId",templateUrl:"/html/ngapp/scrap/ShareBlogPostSuccess.html",controller:["$stateParams",
"$window",function(a,b){this.isActivated=!1;this.goBlog=function(){location.href="/PostView.nhn?blogId\x3d"+a.postBlogId+"\x26logNo\x3d"+a.logNo};this.close=function(){b.close()};this.isActivated=!0}],controllerAs:"ctrl"})}]);e.controller("linkShareCtrl",["$stateParams","$window","$q","$state","$document","$timeout","ReadOnlyService","penaltyService","crawlerService","lcsService","blogModel","categoryListForWriteModel","linkShareModel","resolveBlogUser","blogCommonHelper","ERROR_MESSAGE","$scope",
function(d,a,b,f,e,g,m,p,r,k,n,q,w,v,u,h,t){function y(){if(m.isReadOnly())alertLayer(m.getMessage(),function(){a.close()});else if(B.blogUser.loggedIn){var f=B.blogUser.userId,f=[n.getBlog(f),q.getCategoryList(f)];b.all(f).then(function(b){var f=b[0];b=b[1];!0===f.error||!0===b.error?D():(B.blog=f,B.categoryList=b,B.title&&100<B.title.length&&(B.title=B.title.slice(0,100)),B.form.title=B.title,f=p.createPanelty(B.blog,B.blogUser),f.isWritingBlocked()||f.isNetworkBlocked()?alertLayer(B.blogUser.userId+
"\ub2d8\uc740 \uae00\uc4f0\uae30 \uc9d5\uacc4\ub41c \uc0c1\ud0dc\uc785\ub2c8\ub2e4.",function(){a.close()}):(B.categoryList&&B.categoryList.mylogCategoryList&&(B.form.categoryNo=B.categoryList.mylogCategoryList[0].categoryNo),B.form.blogId=B.blogUser.userId,r.crawlSourceUrl(d.url,10).then(function(a){if(!0!==a.error){var b=a.summary;b.layoutType=b.image?513<=b.image.width&&278<=b.image.height?2:1:0;a.url&&(b.url=a.url);B.summaryJson=angular.toJson(b);b.description=null==b.description?"":200<b.description.length?
b.description.slice(0,200)+"...":b.description;B.summary=b;B.form.domain=b.domain}}),B.activated=!0))})}else u.doLogin()}function D(){g(function(){confirmLayer(h.errorConfirmRefresh.message,function(){f.reload()},function(){a.close()})},0)}k.lcs_do();if(!0===v.error)D();else{var B=this;B.activated=!1;B.blogUser=v;B.title=d.title||"";B.url=d.url;B.token=d.token;B.timestamp=d.timestamp;B.form={categoryNo:null,postOpenType:"2",title:"",content:"",blogId:null,domain:null,referrer:e.referrer,timestamp:null,
token:null,url:null};B.blog=null;B.categoryList=null;B.summary=null;B.isCurrentCategoryOpen=function(){var a;a:if(null!==B.categoryList){a=B.categoryList.mylogCategoryList;for(var b in a){var d=a[b];if(d.categoryNo==B.form.categoryNo){a=d;break a}}a=null}else a=void 0;return a?a.openYN:!1};var x=!1;B.submit=function(){if(!x){x=!0;var a=angular.copy(B.form);if(1>a.title.length)alertLayer("\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",function(){t.$apply(function(){x=!1})});else{a.content=
a.content.replace(/(\r\n)|(\n)/g,"\x3cbr\x3e");var b='\x3cspan id\x3d"se_object_'+(new Date).getTime()+'" class\x3d"__se_object" s_type\x3d"leverage" s_subtype\x3d"oglink" jsonvalue\x3d"'+encodeURIComponent(B.summaryJson)+'"\x3e\x3c/span\x3e';a.content=encodeURIComponent(b+"\x3cbr\x3e"+a.content);w.shareLink({categoryNo:a.categoryNo,postOpenType:a.postOpenType,title:a.title,content:a.content,blogId:a.blogId,domain:a.domain,referrer:a.referrer,timestamp:d.timestamp,token:d.token,url:d.url}).then(function(a){a.error?
x=!1:f.go("shareBlogPostSuccess",{postBlogId:a.postBlogId,logNo:a.logNo})})}}};B.cancel=function(){a.close();g(function(){alertLayer("\ud31d\uc5c5 \ucc3d\uc744 \ub2eb\uc544\uc8fc\uc138\uc694.")},500)};y()}}])})();
(function(){angular.module("bgLinkShare.model",[]).service("linkShareModel",["$http","$httpParamSerializerJQLike",function(e,d){this.shareLink=function(a){return e.doPost("/rego/LinkShareAsync.nhn",{categoryNo:a.categoryNo,postOpenType:a.postOpenType,title:a.title,content:a.content,blogId:a.blogId,domain:a.domain,referrer:a.referrer,timestamp:a.timestamp,token:a.token,url:a.url}).then(function(a){return a.data.error?{error:!0}:a.data.result},function(){return{error:!0}})}}])})();
(function(){angular.module("bgCrawler.service",[]).service("crawlerService",["$q","$http",function(e,d){this.crawlSourceUrl=function(a,b){var f=b||3;return e(function(b,e){var m=0,p=function(){return d({url:urlMap.ogcrawler+"/crawler.json",method:"JSONP",params:{url:a,_callback:"JSON_CALLBACK"}}).then(function(a){a=a.data;1==a.isBusy&&m<f?(m++,$timeout(function(){p()},200)):b(a)},function(){b({error:!0})})};p()})}}])})();
(function(){var e=angular.module("bgBothBuddyRequestToMeList.controller","bgBuddy.model bgBlogUser.model bgError.controller blogCommonHelper.services bgInApp.service bgNclick.directive".split(" "));e.config(["$stateProvider",function(d){d.state("bothBuddyRequestToMeList",{url:"/BothBuddyRequestToMeList.nhn?blogId\x26currentPage",templateUrl:"/html/ngapp/buddy/setting/BothBuddyRequestToMeList.html",controller:"bothBuddyRequestToMeListCtrl",controllerAs:"bothBuddyRequestToMeListCtrl",resolve:{resolveBlogUser:["$stateParams",
"blogUserModel",function(a,b){return b.getBlogUser(a.blogId)}],resolveBothBuddyRequestToMeList:["$stateParams","buddyFormModel",function(a,b){return b.getBothBuddyRequestToMeList(a.blogId,1)}]}})}]);e.controller("bothBuddyRequestToMeListCtrl",["$window","$timeout","$location","$stateParams","$httpParamSerializerJQLike","nscService","blogCommonHelper","inAppService","buddyValidateModel","buddyFormModel","resolveBlogUser","resolveBothBuddyRequestToMeList","ERROR_MESSAGE",function(d,a,b,f,e,g,m,p,r,
k,n,q,w){function v(a,d){p.isInApp()?(d.template="modal",location.href=a+"?"+e(d)):b.path(a).search(d)}var u=this,h=!1;g.setNsc("Mblog.post");u.activate=!1;(function(){!0===n.error||!0===q.error?(u.isActivated=!1,a(function(){confirmLayer(w.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0)):n&&!n.blogOwner?m.doLogin():(p.isInApp()&&(p.request("get","/modalView/hideSubmitButton",{}),p.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3 \ub9fa\uae30"})),
u.bothBuddyRequestToMeList=q.bothBuddyRequestToMeList,u.totalPage=q.totalPage,u.currentPage=q.currentPage,u.pageSize=q.pageSize,u.activate=!0)})();u.hasNextPage=function(){return u.currentPage<u.totalPage};u.isEmptyList=function(){return!u.bothBuddyRequestToMeList||0==u.bothBuddyRequestToMeList.length};u.isLoadingMore=function(){return h};u.loadMore=function(){if(1!=h){var a=u.currentPage+1;h=!0;k.getBothBuddyRequestToMeList(f.blogId,a).then(function(a){angular.forEach(a.bothBuddyRequestToMeList,
function(a){u.bothBuddyRequestToMeList.push(a)});u.currentPage=a.currentPage;h=!1})}};u.goBothBuddyAcceptForm=function(a){r.bothBuddyAcceptValidation(a).then(function(b){b.notValid?alertLayer(b.message):v("/BothBuddyAcceptForm.nhn",{blogId:f.blogId,targetBlogId:a})})};u.goBothBuddyRejectForm=function(a){v("/BothBuddyRejectForm.nhn",{blogId:f.blogId,targetBlogId:a})};u.goBothBuddyReportForm=function(a){v("/BothBuddyReportForm.nhn",{blogId:f.blogId,targetBlogId:a})}}])})();
(function(){var e=angular.module("bgBothBuddyRejectForm.controller","bgBuddy.model bgBlogUser.model bgError.controller bgBuddyAdd.service blogCommonHelper.services bgInApp.service bgNclick.directive".split(" "));e.config(["$stateProvider",function(d){d.state("bothBuddyRejectForm",{url:"/BothBuddyRejectForm.nhn?blogId\x26targetBlogId",templateUrl:"/html/ngapp/buddy/setting/BothBuddyRejectForm.html",controller:"bothBuddyRejectFormCtrl",controllerAs:"bothBuddyRejectFormCtrl",resolve:{resolveBlogUser:["$stateParams",
"blogUserModel",function(a,b){return b.getBlogUser(a.blogId)}],resolveBuddyBlog:["$stateParams","buddyFormModel",function(a,b){return b.getBuddyBlog(a.targetBlogId)}]}})}]);e.controller("bothBuddyRejectFormCtrl",["$window","$timeout","$location","$stateParams","buddyAdder","nscService","blogCommonHelper","inAppService","buddyModifyModel","resolveBlogUser","resolveBuddyBlog","ERROR_MESSAGE",function(d,a,b,f,e,g,m,p,r,k,n,q){function w(){p.isInApp()?p.request("get","/modalView/Close",{refresh:"false"}):
b.path("/BothBuddyRequestToMeList.nhn").search({blogId:f.blogId})}var v=this;g.setNsc("Mblog.temp");v.activate=!1;v.blogId=f.blogId;(function(){!0===k.error||!0===n.error?(v.isActivated=!1,a(function(){confirmLayer(q.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0)):k&&!k.blogOwner?m.doLogin():(p.isInApp()&&(p.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3 \ub9fa\uae30"}),p.request("get","/modalView/hideSubmitButton",{})),v.nickNameOrBlogId=
n.nickNameOrBlogId,v.blogId=f.blogId,v.targetBlogId=f.targetBlogId,v.blockBuddy=!1,v.activate=!0)})();v.cancel=function(){w()};v.submit=function(){f.targetBlogId?r.bothBuddyReject(f.blogId,f.targetBlogId,v.blockBuddy).then(function(a){a.error?"notlogined"==a.error.code?m.doLogin():w():a.notValid?p.isInApp()?e.checkBuddyValidationResultInApp(f.userId,f.targetBlogId,a):e.checkBuddyValidationResult(f.userId,f.targetBlogId,a,"/BothBuddyRequestToMeList.nhn?blogId\x3d"+f.blogId):w()}):w()}}])})();
(function(){var e=angular.module("bgBothBuddyReportForm.controller","bgBuddy.model bgBlogUser.model bgError.controller bgBuddyAdd.service blogCommonHelper.services bgInApp.service bgNclick.directive".split(" "));e.config(["$stateProvider",function(d){d.state("bothBuddyReportForm",{url:"/BothBuddyReportForm.nhn?blogId\x26targetBlogId",templateUrl:"/html/ngapp/buddy/setting/BothBuddyReportForm.html",controller:"bothBuddyReportFormCtrl",controllerAs:"bothBuddyReportFormCtrl",resolve:{resolveBlogUser:["$stateParams",
"blogUserModel",function(a,b){return b.getBlogUser(a.blogId)}]}})}]);e.controller("bothBuddyReportFormCtrl",["$window","$timeout","$location","$stateParams","buddyAdder","nscService","blogCommonHelper","inAppService","buddyModifyModel","resolveBlogUser","ERROR_MESSAGE",function(d,a,b,f,e,g,m,p,r,k,n){function q(){p.isInApp()?p.request("get","/modalView/Close",{refresh:"false"}):b.path("/BothBuddyRequestToMeList.nhn").search({blogId:f.blogId})}var w=this;g.setNsc("Mblog.temp");w.activate=!1;w.blogId=
f.blogId;(function(){!0===k.error?(w.isActivated=!1,a(function(){confirmLayer(n.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0)):k&&!k.blogOwner?m.doLogin():(p.isInApp()&&(p.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3 \ub9fa\uae30"}),p.request("get","/modalView/hideSubmitButton",{})),w.blogId=f.blogId,w.targetBlogId=f.targetBlogId,w.blockBuddy=!1,w.activate=!0)})();w.cancel=function(){q()};w.submit=function(){f.targetBlogId?r.bothBuddyReport(f.blogId,
f.targetBlogId,w.blockBuddy).then(function(a){a.error?"notlogined"==a.error.code?m.doLogin():q():a.notValid?p.isInApp()?e.checkBuddyValidationResultInApp(f.userId,f.targetBlogId,a):e.checkBuddyValidationResult(f.userId,f.targetBlogId,a,"/BothBuddyRequestToMeList.nhn?blogId\x3d"+f.blogId):q()}):q()}}])})();
(function(){var e=angular.module("bgBothBuddyAcceptForm.controller","bgBuddy.model bgBlogUser.model bgError.controller bgBuddyAdd.service blogCommonHelper.services bgInApp.service bgNclick.directive".split(" "));e.config(["$stateProvider",function(d){d.state("bothBuddyAcceptForm",{url:"/BothBuddyAcceptForm.nhn?blogId\x26targetBlogId",templateUrl:"/html/ngapp/buddy/setting/BothBuddyAcceptForm.html",controller:"bothBuddyAcceptFormCtrl",controllerAs:"bothBuddyAcceptFormCtrl",resolve:{resolveBlogUser:["$stateParams",
"blogUserModel",function(a,b){return b.getBlogUser(a.blogId)}],resolveBothBuddyAcceptFrom:["$stateParams","buddyFormModel",function(a,b){return b.getBothBuddyAcceptFrom(a.blogId,a.targetBlogId)}]}}).state("bothBuddyAccept",{url:"/BothBuddyAccept.nhn",templateUrl:"/html/ngapp/buddy/setting/BothBuddyAccept.html",controller:"bothBuddyAcceptCtrl",controllerAs:"bothBuddyAcceptCtrl"})}]);e.controller("bothBuddyAcceptFormCtrl",["$window","$timeout","$location","$stateParams","buddyAdder","nscService","blogCommonHelper",
"inAppService","bothBuddyAcceptResultService","buddyModifyModel","resolveBlogUser","resolveBothBuddyAcceptFrom","ERROR_MESSAGE",function(d,a,b,f,e,g,m,p,r,k,n,q,w){function v(a){var b=null;angular.forEach(h.buddyGroupList.buddyGroupViewList,function(d){d.groupId==a&&(b=d)});return b}function u(a){k.bothBuddyAcceptAsync(f.blogId,f.targetBlogId,a.groupId,a.groupName,a.groupOpenYn).then(function(a){a.buddyValidationResult.valid?(r.setResult(f.blogId,f.targetBlogId,a.buddyBlogView.profileImageUrl,a.buddyBlogView.nickNameOrBlogId,
a.buddyAddResultView.buddyBlockedMe,a.buddyAddResultView.overMyNotificationLimit),b.path("/BothBuddyAccept.nhn").search({})):p.isInApp()?e.checkBuddyValidationResultInApp(n.userId,f.targetBlogId,a.buddyValidationResult):e.checkBuddyValidationResult(n.userId,f.targetBlogId,a.buddyValidationResult,"/BothBuddyRequestToMeList.nhn?blogId\x3d"+f.blogId)})}var h=this;g.setNsc("Mblog.temp");h.activate=!1;h.blogId=f.blogId;h.newGroupName="\uc0c8 \uadf8\ub8f9";h.newGroupOpenYn="true";(function(){!0===n.error||
!0===q.error?(h.activate=!1,a(function(){confirmLayer(w.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0)):n&&!n.blogOwner?m.doLogin():q.buddyValidationResult.valid?(p.isInApp()&&(p.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3 \ub9fa\uae30"}),p.bindAppCall("submitModalForApp",function(){h.submit();return"success"}),p.bindAppCall("cancelModalForApp",function(){confirmLayer("\uc11c\ub85c\uc774\uc6c3 \ub9fa\uae30\ub97c \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
function(){h.cancel()},null);return"success"})),h.nickNameOrBlogId=q.buddyBlogView.nickNameOrBlogId,h.profileImageUrl=q.buddyBlogView.profileImageUrl,h.defaultBlogName=q.buddyBlogView.defaultBlogName,h.buddyGroupList=q.buddyGroupListView,h.blogId=f.blogId,h.targetBlogId=f.targetBlogId,h.blockBuddy=!1,h.activate=!0):p.isInApp()?e.checkBuddyValidationResultInApp(n.userId,f.targetBlogId,q.buddyValidationResult):e.checkBuddyValidationResult(n.userId,f.targetBlogId,q.buddyValidationResult,"/BothBuddyRequestToMeList.nhn?blogId\x3d"+
f.blogId)})();h.cancel=function(){p.isInApp()?p.request("get","/modalView/Close",{refresh:"false"}):b.path("/BothBuddyRequestToMeList.nhn").search({blogId:f.blogId})};h.submit=function(){if(h.buddyGroupList.entityExist)if(1==h.buddyGroupList.allGroupCountMax)alertLayer("\ubaa8\ub4e0 \uadf8\ub8f9\uc758 \uc774\uc6c3\uc218\uac00 \ucd08\uacfc\ub418\uc5b4\n\uc774\uc6c3\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4\nPC\uc5d0\uc11c \uc0c8 \uadf8\ub8f9\uc744 \ub9cc\ub4e4\uc5b4\uc8fc\uc138\uc694.");
else{var a=v(h.selectedGroupId);null==a||1==a.maxCount?alertLayer("\uc120\ud0dd \uadf8\ub8f9\uc758 \uc774\uc6c3\uc218\uac00 \ucd08\uacfc\ub418\uc5b4\n\uc774\uc6c3\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4\n\ub2e4\ub978 \uadf8\ub8f9\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694."):u(a)}else""==h.newGroupName?alertLayer("\uadf8\ub8f9 \uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."):50<h.newGroupName.length?alertLayer("\uadf8\ub8f9 \uba85\uc740 \ucd5c\ub300 50\uc790\uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."):
u({groupId:0,groupName:h.newGroupName,groupOpenYn:h.newGroupOpenYn})}}]);e.controller("bothBuddyAcceptCtrl",["$window","$location","inAppService","bothBuddyAcceptResultService","bgConst.urlMap",function(d,a,b,f,e){var g=this;(function(){var a=f.getResult();f.clear();a?(b.isInApp()&&(b.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3 \ub9fa\uae30"}),b.request("get","/modalView/hideSubmitButton",{}),b.bindAppCall("cancelModalForApp",function(){return g.cancel()})),g.isInApp=b.isInApp(),
g.blogId=a.blogId,g.targetBlogId=a.targetBlogId,g.nickNameOrBlogId=a.nickNameOrBlogId,g.profileImageUrl=a.profileImageUrl,g.buddyBlockedMe=a.buddyBlockedMe,g.overMyNotificationLimit=a.overMyNotificationLimit):d.history.back()})();g.cancel=function(){if(b.isInApp())return b.request("get","/modalView/Close",{refresh:!0}),"success";a.path("/BothBuddyRequestToMeList.nhn").search({blogId:g.blogId})};g.getFeedUrl=function(){return e.nmobile+"/FeedList.nhn"}}]);e.service("bothBuddyAcceptResultService",[function(){var d=
null;this.getResult=function(){return d};this.setResult=function(a,b,f,e,g,m){d={blogId:a,targetBlogId:b,nickNameOrBlogId:e,profileImageUrl:f,buddyBlockedMe:g,overMyNotificationLimit:m}};this.clear=function(){d=null}}])})();
(function(){var e=angular.module("bgBuddyModifyForm.controller",["bgBlogUser.model","bgBuddy.model","bgBlogUser.model","bgError.controller","blogCommonHelper.services"]);e.constant("ACTION_TYPE",{MODIFY:"MODIFY",REMOVE:"REMOVE"});e.config(["$stateProvider",function(d){d.state("buddyModifyForm",{url:"/BuddyModifyForm.nhn?blogId\x26returnUrl",templateUrl:"/html/ngapp/buddy/setting/BuddyModifyForm.html",controller:"buddyModifyFormCtrl",controllerAs:"buddyModifyFormCtrl",resolve:{resolveBlogUser:["blogUserModel",
function(a){return a.getBlogUser()}],resolveBuddyModifyForm:["$stateParams","buddyFormModel",function(a,b){return b.getBuddyModifyForm(a.blogId)}]}})}]);e.controller("buddyModifyFormCtrl",["$window","$timeout","$location","$stateParams","buddyAdder","buddyModifyModel","referrerService","inAppService","blogCommonHelper","resolveBlogUser","resolveBuddyModifyForm","ERROR_MESSAGE","ACTION_TYPE",function(d,a,b,f,e,g,m,p,r,k,n,q,w){var v=this;v.isActivate=!1;(function(){k&&!k.loggedIn?r.doLogin(urlMap.nmobile+
"/BuddyModifyForm.nhn?blogId\x3d"+f.blogId+"\x26returnUrl\x3d"+f.returnUrl):!0===k.error||!0===n.error?a(function(){confirmLayer(q.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0):n.buddyValidationResult.notValid&&!n.buddyValidationResult.isAlreadyBuddy?p.isInApp()?e.checkBuddyValidationResultInApp(k.userId,f.blogId,n.buddyValidationResult):e.checkBuddyValidationResult(k.userId,f.blogId,n.buddyValidationResult,f.returnUrl):(p.isInApp()&&(p.request("get",
"/setHeaderTitle",{title:"\uc774\uc6c3\uc124\uc815"}),p.bindAppCall("submitModalForApp",function(){v.submit();return"success"}),p.bindAppCall("cancelModalForApp",function(){p.request("get","/modalView/Close",{refresh:!1});return"success"})),d.document.title="\uc774\uc6c3\uc124\uc815 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",v.nickNameOrBlogId=n.buddyBlogView.nickNameOrBlogId,v.profileImageUrl=n.buddyBlogView.profileImageUrl,v.defaultBlogName=n.buddyBlogView.defaultBlogName,v.isAllowBothBuddy=n.isAllowBothBuddy,
v.isSubscriber=n.isSubscriber,v.bothBuddyGuideShow=n.isAllowBothBuddy,v.actionType=n.isAllowBothBuddy?w.MODIFY:w.REMOVE,v.isActivate=!0)})();v.isModify=function(){return v.actionType==w.MODIFY};v.submit=function(){if(v.actionType==w.MODIFY){var a="/BuddyAddForm.nhn?blogId\x3d"+f.blogId+"\x26returnUrl\x3d"+encodeURIComponent(decodeURIComponent(f.returnUrl));p.isInApp()?location.href=a+"\x26pushNavigation\x3dfalse\x26showLeftButton\x3dtrue":b.url(a)}else g.removeBuddyAsync(k.userId,f.blogId,w.REMOVE).then(function(a){a.error?
alertLayer(a.error.message):alertLayer("\uc774\uc6c3\uc744 \ub04a\uc5c8\uc2b5\ub2c8\ub2e4.",function(){if(p.isInApp())p.request("get","/modalView/Close",{refresh:!0});else if(-1<f.returnUrl.indexOf("BuddyList.nhn"))d.history.back();else if(""!=f.returnUrl)location.href=d.decodeURIComponent(f.returnUrl);else{var a=m.getReferrer();location.href=""!=a?a:"/"+k.blogId}})})};v.cancel=function(){-1<f.returnUrl.indexOf("BuddyList.nhn")?d.history.back():location.href=d.decodeURIComponent(f.returnUrl)};v.isInApp=
function(){return p.isInApp()}}])})();
(function(){var e=angular.module("bgBothBuddyModifyForm.controller",["bgBlogUser.model","bgBuddy.model","bgBlogUser.model","bgError.controller","blogCommonHelper.services"]);e.constant("BOTH_BUDDY_ACTION_TYPE",{STOP:"STOP",REMOVE:"REMOVE"});e.config(["$stateProvider",function(d){d.state("bothBuddyModifyForm",{url:"/BothBuddyModifyForm.nhn?blogId\x26returnUrl",templateUrl:"/html/ngapp/buddy/setting/BothBuddyModifyForm.html",controller:"bothBuddyModifyFormCtrl",controllerAs:"bothBuddyModifyFormCtrl",
resolve:{resolveBlogUser:["blogUserModel",function(a){return a.getBlogUser()}],resolveBothBuddyModifyForm:["$stateParams","buddyFormModel",function(a,b){return b.getBothBuddyModifyForm(a.blogId)}]}})}]);e.controller("bothBuddyModifyFormCtrl",["$window","$timeout","$stateParams","buddyModifyModel","referrerService","inAppService","blogCommonHelper","resolveBlogUser","resolveBothBuddyModifyForm","ERROR_MESSAGE","BOTH_BUDDY_ACTION_TYPE",function(d,a,b,f,e,g,m,p,r,k,n){var q=this;q.isActivate=!1;(function(){p&&
!p.loggedIn?m.doLogin(urlMap.nmobile+"/BuddyModifyForm.nhn?blogId\x3d"+b.blogId+"\x26returnUrl\x3d"+b.returnUrl):!0===p.error||!0===r.error?a(function(){confirmLayer(k.errorConfirmRefresh.message,function(){d.location.reload()},function(){d.history.back()})},0):(g.isInApp()&&(g.request("get","/setHeaderTitle",{title:"\uc11c\ub85c\uc774\uc6c3 \uc124\uc815"}),g.bindAppCall("submitModalForApp",function(){q.submit();return"success"}),g.bindAppCall("cancelModalForApp",function(){g.request("get","/modalView/Close",
{refresh:!1});return"success"})),d.document.title="\uc11c\ub85c\uc774\uc6c3 \uc0ad\uc81c : \ub124\uc774\ubc84 \ube14\ub85c\uadf8",q.nickNameOrBlogId=r.buddyBlogView.nickNameOrBlogId,q.profileImageUrl=r.buddyBlogView.profileImageUrl,q.defaultBlogName=r.buddyBlogView.defaultBlogName,q.actionType=n.REMOVE,q.isActivate=!0)})();q.isRemove=function(){return q.actionType==n.REMOVE};q.submit=function(){var a=q.actionType==n.REMOVE?"\uc774\uc6c3\uc744 \ub04a\uc5c8\uc2b5\ub2c8\ub2e4.":"\uc774\uc6c3\uc774 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";
f.removeBuddyAsync(p.userId,b.blogId,q.actionType).then(function(f){f.error?alertLayer(f.error.message):alertLayer(a,function(){if(g.isInApp())g.request("get","/modalView/Close",{refresh:!0});else if(-1<b.returnUrl.indexOf("BuddyList.nhn"))d.history.back();else if(""!=b.returnUrl)location.href=d.decodeURIComponent(b.returnUrl);else{var a=e.getReferrer();location.href=""!=a?a:"/"+p.blogId}})})};q.cancel=function(){-1<b.returnUrl.indexOf("BuddyList.nhn")?d.history.back():location.href=d.decodeURIComponent(b.returnUrl)};
q.isInApp=function(){return g.isInApp()}}])})();
(function(){var e=angular.module("bgBuddyGroup.model",[]);e.service("buddyGroupMoveFormModel",["$http","$httpParamSerializerJQLike",function(d,a){this.getForm=function(b,f,e,g){return d.get("/rego/BuddyGroupMoveFormAsync.nhn?"+a({blogId:b,blogNo:f,isRss:e,returnUrl:g})).then(function(a){return a.data.result},function(){return{error:!0}})};this.moveGroup=function(a,f,e,g,m){return d.doPost("/rego/BuddyGroupMoveAsync.nhn",{blogId:a,buddyBlogId:f,groupId:e,buddyBlogNo:g,isRss:m}).then(function(a){return a.data.result},
function(){return{error:!0}})}}]);e.service("buddyGroupAddFormModel",["$log","$http","$q","$httpParamSerializerJQLike",function(d,a,b,f){this.groupAdd=function(b,d,f){return a.doPost("/rego/BuddyGroupAddAsync.nhn",{blogId:b,groupName:d,groupOpenYn:f}).then(function(a){return a.data.result?a.data.result:{error:!0}},function(){return{error:!0}})}}]);e.factory("buddyGroupListModel",["$http",function(d){var a={success:!1};return{getFor:function(){return d.get("/rego/BuddyGroupList.nhn",{}).then(function(b){return b.data.result&&
"undefined"!=typeof b.data.result.buddyGroupList?{success:!0,buddyGroupList:b.data.result.buddyGroupList}:a},function(){return a})},getGroupList:function(a){return d.get("/rego/GroupListJson.nhn?blogId\x3d"+a)}}}])})();
(function(){var e=angular.module("bgBuddy.model",[]);e.factory("buddyListModel",["$http","$httpParamSerializerJQLike",function(d,a){this.getBuddyList=function(a,f){return d.get("/rego/BuddyListJson.nhn?blogId\x3d"+a+"\x26pageNo\x3d"+f)};this.getBuddyListByGroup=function(a,f){return d.get("/rego/BuddyListByGroupJson.nhn?blogId\x3d"+a+"\x26groupId\x3d"+f)};this.searchBuddy=function(a,f){return d.post("/rego/BuddySearchListJson.nhn?blogId\x3d"+a+"\x26buddySearchText\x3d"+f)}}]);e.factory("buddyValidateModel",
["$http","$httpParamSerializerJQLike",function(d,a){return{validate:function(a){return d.doPost("/rego/BuddyOrBothBuddyAddValidationAsync.nhn",{blogId:a}).then(function(a){return a.data.result})},validateBuddyAdd:function(a,f){return d.doPost("/rego/BuddyAddValidationAsync.nhn",{blogId:a,"buddyGroupView.groupId":f.groupId,"buddyGroupView.groupName":f.groupName,"buddyGroupView.groupOpenYn":f.groupOpenYn}).then(function(a){return a.data.result})},validateBothBuddyInvite:function(a,f,e){return d.doPost("/rego/BothBuddyInviteValidationAsync.nhn",
{blogId:a,"buddyGroupView.groupId":f.groupId,"buddyGroupView.groupName":f.groupName,"buddyGroupView.groupOpenYn":f.groupOpenYn,inviteMessage:e}).then(function(a){return a.data.result})},bothBuddyAcceptValidation:function(b){return d.get("/rego/BothBuddyAcceptValidationAsync.nhn?"+a({blogId:b})).then(function(a){return a.data.error?a.data:a.data.result},function(){return{error:!0}})}}}]);e.factory("buddyModifyModel",["$http","$httpParamSerializerJQLike",function(d,a){return{cancelBothBuddyRequest:function(a){return d.doPost("/rego/BothBuddyInviteCancelAsync.nhn",
{blogId:a}).then(function(a){return a.data.result})},buddyAddAsync:function(a){return d.doPost("/rego/BuddyAddAsync.nhn",{buddyBlogId:a}).then(function(a){return a.data.result?a.data.result:a.data})},removeBuddyAsync:function(a,f,e){return d.post("/rego/BuddyRemoveAsync.nhn?blogId\x3d"+a+"\x26buddyBlogId\x3d"+f+"\x26buddyRemoveType\x3d"+(e||"REMOVE")).then(function(a){return a.data.result?a.data.result:a.data})},bothBuddyReject:function(a,f,e){return d.doPost("/rego/BothBuddyRejectAsync.nhn",{blogId:a,
targetBlogId:f,blockBuddy:e}).then(function(a){return a.data.error?a.data:a.data.result},function(){return{error:!0}})},bothBuddyReport:function(a,f,e){return d.doPost("/rego/BothBuddyReportAsync.nhn",{blogId:a,targetBlogId:f,blockBuddy:e}).then(function(a){return a.data.error?a.data:a.data.result},function(){return{error:!0}})},bothBuddyAcceptAsync:function(a,f,e,g,m){return d.doPost("/rego/BothBuddyAcceptAsync.nhn",{blogId:a,targetBlogId:f,groupId:e,groupName:g,groupOpenYn:m}).then(function(a){return a.data.error?
a.data:a.data.result},function(){return{error:!0}})},bothBuddyInvite:function(a,f,e,g){return d.doPost("/rego/BothBuddyInviteCompleteAsync.nhn",{blogId:a,"buddyGroupView.groupId":f.groupId,"buddyGroupView.groupName":f.groupName,"buddyGroupView.groupOpenYn":f.groupOpenYn,inviteMessage:e,returnUrl:g}).then(function(a){return a.data.result?a.data.result:{error:!0}},function(){return{error:!0}})},buddyAdd:function(a,f,e){return d.doPost("/rego/BuddyAddCompleteAsync.nhn",{blogId:a,"buddyGroupView.groupId":f.groupId,
"buddyGroupView.groupName":f.groupName,"buddyGroupView.groupOpenYn":f.groupOpenYn,returnUrl:e}).then(function(a){return a.data.result?a.data.result:{error:!0}},function(){return{error:!0}})},updateBuddyNoti:function(a,f,e,g,m){return d.post("/rego/BuddyNotifyOptionUpdateAsync.nhn?isRss\x3d"+a+"\x26blogId\x3d"+f+"\x26buddyBlogId\x3d"+e+"\x26buddyBlogNo\x3d"+g+"\x26notifyOn\x3d"+m)},updateBuddyPushNoti:function(a,f,e,g,m){return d.post("/rego/BuddyAppPushNotifyOptionUpdateAsync.nhn?isRss\x3d"+a+"\x26blogId\x3d"+
f+"\x26buddyBlogId\x3d"+e+"\x26buddyBlogNo\x3d"+g+"\x26notifyOn\x3d"+m)},removeRssBuddy:function(a,f){return d.post("/rego/BuddyRemoveAsync.nhn?blogId\x3d"+a+"\x26buddyBlogNo\x3d"+f+"\x26buddyRemoveType\x3dREMOVE\x26isRss\x3dtrue")}}}]);e.service("buddyFormModel",["$http","$httpParamSerializerJQLike",function(d,a){this.getForm=function(b,f,e,g){return d.get("/rego/BuddyAddFormAsync.nhn?"+a({blogId:b,returnUrl:f,mobileBuddyAddMessageType:e,subDirectoryKey:g})).then(function(a){return a.data.result},
function(){return{error:!0}})};this.getBuddyBlog=function(b){return d.get("/rego/BuddyBlogAsync.nhn?"+a({targetBlogId:b})).then(function(a){return a.data.error?a.data:a.data.result},function(){return{error:!0}})};this.getBothBuddyAcceptFrom=function(b,f){return d.get("/rego/BothBuddyAcceptFormAsync.nhn?"+a({blogId:b,targetBlogId:f})).then(function(a){return a.data.error?a.data:a.data.result},function(){return{error:!0}})};this.getBothBuddyRequestToMeList=function(b,f){return d.get("/rego/BothBuddyRequestToMeListAsync.nhn?"+
a({blogId:b,currentPage:f||1})).then(function(a){return a.data.error?a.data:a.data.result},function(){return{error:!0}})};this.getBuddyModifyForm=function(b){return d.get("/rego/BuddyModifyFormAsync.nhn?"+a({blogId:b})).then(function(a){return a.data.result},function(){return{error:!0}})};this.getBothBuddyModifyForm=function(b){return d.get("/rego/BothBuddyModifyFormAsync.nhn?"+a({blogId:b})).then(function(a){return a.data.result},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgDirectoryKeywordPost.controller",["bgInApp.service","bgFocusScroll.directive","bgDirectoryKeyword.model","bgError.controller"]);e.config(["$stateProvider",function(d){d.state("directoryKeywordPostController",{url:"/DirectoryKeywordPost.nhn?directoryNo\x26directoryKeywordNo",templateUrl:"/html/ngapp/directorykeyword/DirectoryKeyword.html",controller:"directoryKeywordPostCtrl",controllerAs:"directoryKeywordPostCtrl",resolve:{resolveDirectoryKeyword:["$stateParams",
"$log","directoryKeywordModel",function(a,b,d){return d.getDirectoryKeywords(a.directoryNo)}]}})}]);e.controller("directoryKeywordPostCtrl",["$window","$scope","$stateParams","$location","$timeout","ERROR_MESSAGE","inAppService","resolveDirectoryKeyword","directoryKeywordModel",function(d,a,b,f,e,g,m,p,r){function k(a){m.request("get","/modalView/Close",{refresh:a})}var n=this,q=b.directoryKeywordNo;n.isInApp=m.isInApp();n.loaded=!1;!1===p.activeDirectory&&(d.alert(g.errorLoad.message),n.isInApp?
k(!1):f.url("/Recommendation.nhn"));n.directoryName=p.directoryName;n.getDirectoryKeywords=p.directoryPopularKeywords;(function(a){var b=!0;angular.forEach(n.getDirectoryKeywords,function(d){a==d.directoryKeywordNo&&(b=!1)});return b})(q)&&(q=n.getDirectoryKeywords[0].directoryKeywordNo);n.showFirstPageDirectoryKeywordPosts=function(a){q=a;r.getFirstPageDirectoryKeywordPosts(a).then(function(a){a.error?d.alert("\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):
n.postList=a.postList})};n.loadMore=function(){r.getNextPage().then(function(a){a.error?d.alert("\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):angular.forEach(a.postList,function(a){n.postList.push(a)})})};n.isLoading=function(){return r.isLoading()};n.isLastPage=function(){return r.isLastPage()};n.isPagingDisabled=function(){return r.isLastPage()?!0:r.isLoading()};n.isActiveKeyword=function(a){return q==a};
n.backRecommendation=function(){d.history.back()};n.isInApp&&(m.request("get","/modalView/hideSubmitButton"),m.request("get","/setHeaderTitle",{title:n.directoryName+" \uc778\uae30 \ud0a4\uc6cc\ub4dc"}),m.bindAppCall("cancelModalForApp",function(){k(!1);return"success"}));(function(){r.getInitPostsFromPersist().then(function(a){n.postList=a.postList;q=a.requestDirectoryKeywordNo;var b=a.scrollY;e(function(){b&&d.scrollTo(0,b)},0)},function(){n.showFirstPageDirectoryKeywordPosts(q)});a.$on("bgPersist:locationChange",
function(a,b){r.persist({scrollY:d.pageYOffset,postList:n.postList})});e(function(){n.loaded=!0})})()}])})();
(function(){angular.module("bgDirectoryKeyword.model",["bgPersist.service"]).service("directoryKeywordModel",["$q","$log","$http","$httpParamSerializerJQLike","persist",function(e,d,a,b,f){function l(f,e){d.debug("getDirectoryKeywordPosts");return a.get("/rego/DirectoryKeywordPostAsync.nhn?"+b({directoryKeywordNo:f,currentPage:e||1})).then(function(a){p=!1;return a.data.result?(r=a.data.result.isLastPage,g=e,{postList:a.data.result.recommendationPostViewList,isLastPage:r}):{error:!0}},function(){return{error:!0}})}
var g=0,m,p=!1,r=!1;this.getDirectoryKeywords=function(f){d.debug("getDirectoryKeywords");return a.get("/rego/DirectoryKeyword.nhn?"+b({directoryNo:f})).then(function(a){return a.data.result?a.data.result:{activeDirectory:!1}},function(){return{error:!0}})};this.getFirstPageDirectoryKeywordPosts=function(a){m=a;p=!0;return l(m,1)};this.getNextPage=function(){var a=g+1;p=!0;return l(m,a)};this.getInitPostsFromPersist=function(){var a=f.pop();return e(function(b,d){a?(g=a.requestPage,m=a.requestDirectoryKeywordNo,
p=a.isLoading,r=a.isLastPage,b(a)):d()})};this.persist=function(a){a=a||{};a.requestPage=g;a.requestDirectoryKeywordNo=m;a.isLoading=p;a.isLastPage=r;f.push(a)};this.isLoading=function(){return p};this.isLastPage=function(){return r}}])})();
(function(){var e=angular.module("bgSuggestionBlogHeader.directive",["bgInApp.service","bgShareSNSModal.service","bgSocialPlugin.service","bgSuggestionBlogHeader.model","bgBlogUser.model"]);e.directive("bgSuggestionBlogHeader",[function(){return{restrict:"E",replace:!0,templateUrl:"/html/ngapp/suggestion/SuggestionBlogHeader.html",controller:"suggestionBlogHeaderCtrl",controllerAs:"suggestionBlogHeaderCtrl",scope:{currentMenu:"@menu"}}}]);e.constant("SUGGESTION_MENU",{POPULAR:"\uc774\ub2ec\uc758 \uc8fc\uc81c",
EDITOR_PICK:"\uc5d0\ub514\ud130 \ud53d",THEME:"\ud14c\ub9c8 \ube14\ub85c\uadf8",ROOKIE:"\ub8e8\ud0a4 \ube14\ub85c\uadf8"});e.controller("suggestionBlogHeaderCtrl",["$window","$scope","$timeout","$stateParams","$state","SUGGESTION_MENU","suggestionBlogHeaderModel","blogUserModel","inAppService","socialPluginService",function(d,a,b,f,e,g,m,p,r,k){var n=this;n.loaded=!1;n.isInApp=r.isInApp();n.suggestionMenu=g;null!=f.currentDate&&(a.currentDate=parseInt(f.currentDate));n.popularBlogGroupViewList=[];
n.InterestingBlogViewList=[];n.rookieBlogList=[];n.ThemeBlogGroupViewList=[];n.appUrlParam={version:1,isSuggestionBlogSelected:!0};n.getUrl=function(){return d.location.href};n.pick=function(){n.isPopular()?n.goPopularBlog():n.isEditorPick()?n.goInterestingBlog():n.isTheme()?n.goThemeBlog():n.isRookie()&&n.goRookieBlog()};n.isPopular=function(){return g.POPULAR==a.currentMenu};n.isEditorPick=function(){return g.EDITOR_PICK==a.currentMenu};n.isTheme=function(){return g.THEME==a.currentMenu};n.isRookie=
function(){return g.ROOKIE==a.currentMenu};n.goPopularBlog=function(){e.go("popularBlogGroupViewList",{currentDate:a.currentDate},{inherit:!1})};n.goInterestingBlog=function(){e.go("interestingBlogViewList",{currentDate:a.currentDate},{inherit:!1})};n.goThemeBlog=function(){e.go("themeBlogGroupViewList",{currentDate:a.currentDate},{inherit:!1})};n.goRookieBlog=function(){e.go("rookieBlogList",{currentDate:a.currentDate},{inherit:!1})};p.getBlogUser(f.blogId).then(function(a){n.loggedIn=a.loggedIn});
(function(){m.getSuggestionBlogHeader().then(function(d){d.success&&(void 0==a.currentDate&&(a.currentDate=d.selectDateList[0]),n.selectDateList=d.selectDateList,n.mobileCommonAttributes=d.mobileCommonAttributes,b(function(){n.loaded=!0;k.init()}))})})()}])})();var appSuggestionHeaderHandler=function(e){var d=/(\s|^)fixed(\s|$)/,a=document.getElementById("selectHeader");e&&!d.test(a.className)?a.className+=" fixed":a.className=a.className.replace(d," ").trim()};
(function(){angular.module("bgSuggestionBlogHeader.model",["bgPersist.service"]).service("suggestionBlogHeaderModel",["$http","$filter","$q","persist",function(e,d,a,b){this.getSuggestionBlogHeader=function(){return e.get("/rego/SuggestionBlogHeader.nhn",{cache:!0,expireTime:6E5}).then(function(a){return a.data.result?{success:!0,selectDateList:a.data.result.selectDateList,currentDate:a.data.result.selectDate,mobileCommonAttributes:a.data.result.mobileCommonAttributes}:error},function(){return{error:!0}})};
this.persist=function(a){b.push(a)};this.getDataFromPersist=function(){var d=b.pop();return a(function(a,b){d?a(d):b()}).then(function(a){return a})};this.getPopularBlogList=function(a){a=d("date")(a,"yyyyMMdd");return f(a)};var f=function(a){return e.get("/rego/PopularBlogGroupViewList.nhn?selectDate\x3d"+a,{cache:!0,expireTime:6E5}).then(function(a){return a.data.result?{success:!0,popularBlogGroupViewList:a.data.result.list,selectDate:a.data.result.selectDate,selectDateList:a.data.result.selectDateList}:
error},function(){return{error:!0}})};this.getInterestingBlogList=function(a){a=d("date")(a,"yyyyMMdd");return l(a)};var l=function(a){return e.get("/rego/InterestingBlogViewList.nhn?selectDate\x3d"+a,{cache:!0,expireTime:6E5}).then(function(a){return a.data.result?{success:!0,interestingBlogViewList:a.data.result.list,selectDate:a.data.result.selectDate,selectDateList:a.data.result.selectDateList}:error},function(){return{error:!0}})};this.getThemeBlogList=function(a){a=d("date")(a,"yyyyMMdd");return g(a)};
var g=function(a){return e.get("/rego/ThemeBlogGroupViewList.nhn?selectDate\x3d"+a,{cache:!0,expireTime:6E5}).then(function(a){return a.data.result?{success:!0,themeBlogGroupViewList:a.data.result.list,selectDate:a.data.result.selectDate,selectDateList:a.data.result.selectDateList}:error},function(){return{error:!0}})};this.getRookieBlogList=function(a){a=d("date")(a,"yyyyMMdd");return m(a)};var m=function(a){return e.get("/rego/RookieBlogViewList.nhn?selectDate\x3d"+a,{cache:!0,expireTime:6E5}).then(function(a){return a.data.result?
{success:!0,rookieBlogList:a.data.result.list,selectDate:a.data.result.selectDate,selectDateList:a.data.result.selectDateList}:error},function(){return{error:!0}})};this.getBlogRecommendUrl=function(){return e.get("/rego/BlogRecommendUrl.nhn",{cache:!0,expireTime:6E5}).then(function(a){console.log(a);return a.data.result?{url:a.data.result}:{error:!0}},function(){return{error:!0}})}}])})();
(function(){var e=angular.module("bgPopularBlogGroupViewList.controller","bgConfig ngSanitize bgSuggestionBlogHeader.directive bgNlnbFixer.directive bgLcs.service bgInApp.service bgSuggestionBlog.service bgSuggestionBlogHeader.model".split(" "));e.config(["$stateProvider",function(d){d.state("popularBlogGroupViewList",{url:"/PopularBlog.nhn?currentDate",templateUrl:"/html/ngapp/suggestion/PopularBlogGroupViewList.html",controller:"popularBlogGroupViewListCtrl",controllerAs:"popularBlogGroupViewListCtrl",
resolve:{blogRecommendUrl:["suggestionBlogHeaderModel",function(a){return a.getBlogRecommendUrl()}]}})}]);e.controller("popularBlogGroupViewListCtrl",["$scope","$window","$timeout","$stateParams","$anchorScroll","suggestionBlogHeaderModel","suggestionBlogService","lcsService","inAppService","blogRecommendUrl",function(d,a,b,f,e,g,m,p,r,k){var n=this;a.document.title="\uc774\ub2ec\uc758 \ube14\ub85c\uadf8 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";n.loaded=!1;n.isInApp=r.isInApp();n.currentDate=f.currentDate;
n.blogRecommendUrl=k.url;n.getPopularBlogList=function(){g.getPopularBlogList(n.currentDate).then(function(a){a.success&&(n.currentDate=a.selectDate,n.selectDateList=a.selectDateList,n.popularBlogGroupViewList=a.popularBlogGroupViewList,0<n.popularBlogGroupViewList.length&&(n.seq=n.popularBlogGroupViewList[0].directory.seq),angular.forEach(n.popularBlogGroupViewList,function(a){m.addDisplayInfo(a.blogList,6)}),n.loaded=!0)})};n.addBuddy=function(a){m.addBuddy(a)};n.modifyBuddy=function(a){m.modifyBuddy(a)};
n.toggleList=function(a){angular.forEach(n.popularBlogGroupViewList,function(b){b.directory.seq==a&&(angular.forEach(b.blogList,function(a,d){b.isOpen&&6<=d?a.isShow=!1:b.isOpen||(a.isShow=!0)}),b.isOpen=!b.isOpen)})};n.hasMore=function(a){for(var b=0;b<n.popularBlogGroupViewList.length;b++){var d=n.popularBlogGroupViewList[b];if(d.directory.seq==a)return 6<d.blogList.length}return!1};n.hasPrev=function(){var a=n.selectDateList.indexOf(n.currentDate);return null==n.selectDateList[a+1]?!1:!0};n.hasNext=
function(){var a=n.selectDateList.indexOf(n.currentDate);return null==n.selectDateList[a-1]?!1:!0};n.goPrevDate=function(){var a=n.selectDateList.indexOf(n.currentDate);null!=n.selectDateList[a+1]&&m.move(n.selectDateList[a+1])};n.goNextDate=function(){var a=n.selectDateList.indexOf(n.currentDate);null!=n.selectDateList[a-1]&&m.move(n.selectDateList[a-1])};n.isSelectedDirectory=function(a){return n.seq==a?!0:!1};n.goDirectory=function(a){n.seq=a;e.yOffset=48;e("directory"+a)};(function(){p.lcs_do();
g.getDataFromPersist().then(function(d){n.currentDate=d.selectDate;n.selectDateList=d.selectDateList;n.popularBlogGroupViewList=d.list;n.seq=d.seq;n.loaded=!0;var f=d.scrollY;b(function(){f&&a.scrollTo(0,f)})},function(){n.getPopularBlogList()});d.$on("bgPersist:locationChange",function(b,d){g.persist({scrollY:a.pageYOffset,list:n.popularBlogGroupViewList,currentDate:n.currentDate,selectDateList:n.selectDateList,seq:n.seq})})})()}])})();
(function(){var e=angular.module("bgInterestingBlogViewList.controller","bgConfig ngSanitize bgSuggestionBlogHeader.directive bgLcs.service bgInApp.service bgSuggestionBlog.service bgSuggestionBlogHeader.model".split(" "));e.config(["$stateProvider",function(d){d.state("interestingBlogViewList",{url:"/InterestingBlog.nhn?currentDate",templateUrl:"/html/ngapp/suggestion/InterestingBlogViewList.html",controller:"interestingBlogViewListCtrl",controllerAs:"interestingBlogViewListCtrl"})}]);e.controller("interestingBlogViewListCtrl",
["$scope","$window","$timeout","$stateParams","suggestionBlogHeaderModel","lcsService","inAppService","suggestionBlogService",function(d,a,b,f,e,g,m,p){a.document.title="\uc774\ub2ec\uc758 \ube14\ub85c\uadf8 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";var r=this;r.loaded=!1;r.isInApp=m.isInApp();r.currentDate=f.currentDate;r.getInterestingBlogList=function(){e.getInterestingBlogList(r.currentDate).then(function(a){a.success&&(r.currentDate=a.selectDate,r.selectDateList=a.selectDateList,r.interestingBlogViewList=
a.interestingBlogViewList,angular.forEach(r.interestingBlogViewList,function(a){p.addDisplayInfo(a.postViewList,6)}),r.loaded=!0)})};r.addBuddy=function(a){p.addBuddy(a)};r.modifyBuddy=function(a){p.modifyBuddy(a)};r.hasPrev=function(){var a=r.selectDateList.indexOf(r.currentDate);return null==r.selectDateList[a+1]?!1:!0};r.hasNext=function(){var a=r.selectDateList.indexOf(r.currentDate);return null==r.selectDateList[a-1]?!1:!0};r.goPrevDate=function(){var a=r.selectDateList.indexOf(r.currentDate);
null!=r.selectDateList[a+1]&&p.move(r.selectDateList[a+1])};r.goNextDate=function(){var a=r.selectDateList.indexOf(r.currentDate);null!=r.selectDateList[a-1]&&p.move(r.selectDateList[a-1])};(function(){g.lcs_do();e.getDataFromPersist().then(function(d){r.currentDate=d.selectDate;r.selectDateList=d.selectDateList;r.interestingBlogViewList=d.list;r.seq=d.seq;r.loaded=!0;var f=d.scrollY;b(function(){f&&a.scrollTo(0,f)},0)},function(){r.getInterestingBlogList()});d.$on("bgPersist:locationChange",function(b,
d){e.persist({scrollY:a.pageYOffset,list:r.interestingBlogViewList,currentDate:r.currentDate,selectDateList:r.selectDateList})})})()}])})();
(function(){var e=angular.module("bgThemeBlogGroupViewList.controller","bgConfig ngSanitize bgSuggestionBlogHeader.directive bgFocusScroll.directive bgLcs.service bgInApp.service bgSuggestionBlog.service bgSuggestionBlogHeader.model".split(" "));e.config(["$stateProvider",function(d){d.state("themeBlogGroupViewList",{url:"/ThemeBlog.nhn?currentDate",templateUrl:"/html/ngapp/suggestion/ThemeBlogGroupViewList.html",controller:"themeBlogGroupViewListCtrl",controllerAs:"themeBlogGroupViewListCtrl"})}]);
e.controller("themeBlogGroupViewListCtrl",["$scope","$window","$timeout","$stateParams","$anchorScroll","suggestionBlogHeaderModel","lcsService","inAppService","suggestionBlogService",function(d,a,b,f,e,g,m,p,r){a.document.title="\uc774\ub2ec\uc758 \ube14\ub85c\uadf8 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";var k=this;k.loaded=!1;k.isInApp=p.isInApp();k.currentDate=f.currentDate;k.getThemeBlogList=function(){g.getThemeBlogList(k.currentDate).then(function(a){a.success&&(k.currentDate=a.selectDate,
k.selectDateList=a.selectDateList,k.themeBlogGroupViewList=a.themeBlogGroupViewList,0<k.themeBlogGroupViewList.length&&(k.seq=k.themeBlogGroupViewList[0].suggestionTheme.themeSeq),angular.forEach(k.themeBlogGroupViewList,function(a){r.addDisplayInfo(a.suggestionThemeBlogList,6)}),k.loaded=!0)})};k.toggleList=function(a){angular.forEach(k.themeBlogGroupViewList,function(b){b.suggestionTheme.themeSeq==a&&(angular.forEach(b.suggestionThemeBlogList,function(a,d){b.isOpen&&6<=d?a.isShow=!1:b.isOpen||(a.isShow=
!0)}),b.isOpen=!b.isOpen)})};k.isSelectedTheme=function(a){return k.seq==a?!0:!1};k.goDirectory=function(a){k.seq=a;e("themeSeq"+a)};k.hasMore=function(a){for(var b=0;b<k.themeBlogGroupViewList.length;b++){var d=k.themeBlogGroupViewList[b];if(d.suggestionTheme.themeSeq==a)return 6<d.suggestionThemeBlogList.length}return!1};k.addBuddy=function(a){r.addBuddy(a)};k.modifyBuddy=function(a){r.modifyBuddy(a)};k.hasPrev=function(){var a=k.selectDateList.indexOf(k.currentDate);return null==k.selectDateList[a+
1]?!1:!0};k.hasNext=function(){var a=k.selectDateList.indexOf(k.currentDate);return null==k.selectDateList[a-1]?!1:!0};k.goPrevDate=function(){var a=k.selectDateList.indexOf(k.currentDate);null!=k.selectDateList[a+1]&&r.move(k.selectDateList[a+1])};k.goNextDate=function(){var a=k.selectDateList.indexOf(k.currentDate);null!=k.selectDateList[a-1]&&r.move(k.selectDateList[a-1])};(function(){m.lcs_do();g.getDataFromPersist().then(function(d){k.currentDate=d.selectDate;k.selectDateList=d.selectDateList;
k.themeBlogGroupViewList=d.list;k.seq=d.seq;k.loaded=!0;var f=d.scrollY;b(function(){f&&a.scrollTo(0,f)})},function(){k.getThemeBlogList()});d.$on("bgPersist:locationChange",function(b,d){g.persist({scrollY:a.pageYOffset,list:k.themeBlogGroupViewList,currentDate:k.currentDate,selectDateList:k.selectDateList,seq:k.seq})})})()}])})();
(function(){var e=angular.module("bgRookieBlogList.controller","bgConfig ngSanitize bgSuggestionBlogHeader.directive bgFocusScroll.directive bgLcs.service bgInApp.service bgSuggestionBlog.service bgSuggestionBlogHeader.model".split(" "));e.config(["$stateProvider",function(d){d.state("rookieBlogList",{url:"/RookieBlog.nhn?currentDate",templateUrl:"/html/ngapp/suggestion/RookieBlogList.html",controller:"rookieBlogListCtrl",controllerAs:"rookieBlogListCtrl"})}]);e.controller("rookieBlogListCtrl",["$scope",
"$window","$timeout","$stateParams","suggestionBlogHeaderModel","lcsService","inAppService","suggestionBlogService",function(d,a,b,f,e,g,m,p){a.document.title="\uc774\ub2ec\uc758 \ube14\ub85c\uadf8 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";var r=this;r.loaded=!1;r.isInApp=m.isInApp();r.currentDate=f.currentDate;r.getRookieBlogList=function(){e.getRookieBlogList(r.currentDate).then(function(a){a.success&&(r.currentDate=a.selectDate,r.selectDateList=a.selectDateList,r.rookieBlogList=a.rookieBlogList,
r.loaded=!0)})};r.isShowNotExistMessage=function(){return r.loaded?0>=r.rookieBlogList.length:!1};r.addBuddy=function(a){p.addBuddy(a)};r.modifyBuddy=function(a){p.modifyBuddy(a)};r.hasPrev=function(){var a=r.selectDateList.indexOf(r.currentDate);return null==r.selectDateList[a+1]?!1:!0};r.hasNext=function(){var a=r.selectDateList.indexOf(r.currentDate);return null==r.selectDateList[a-1]?!1:!0};r.goPrevDate=function(){var a=r.selectDateList.indexOf(r.currentDate);null!=r.selectDateList[a+1]&&p.move(r.selectDateList[a+
1])};r.goNextDate=function(){var a=r.selectDateList.indexOf(r.currentDate);null!=r.selectDateList[a-1]&&p.move(r.selectDateList[a-1])};(function(){g.lcs_do();e.getDataFromPersist().then(function(d){r.currentDate=d.selectDate;r.selectDateList=d.selectDateList;r.rookieBlogList=d.list;r.loaded=!0;var f=d.scrollY;b(function(){f&&a.scrollTo(0,f)})},function(){r.getRookieBlogList()});d.$on("bgPersist:locationChange",function(b,d){e.persist({scrollY:a.pageYOffset,list:r.rookieBlogList,currentDate:r.currentDate,
selectDateList:r.selectDateList})})})()}])})();
(function(){var e=angular.module("bgOfficialBlog.controller","bgConfig ngSanitize bgNlnbFixer.directive bgFocusScroll.directive bgLcs.service bgInApp.service bgBuddyAdd.service bgSocialPlugin.service bgOfficialBlog.service bgOfficialBlog.model bgBlogUser.model".split(" "));e.config(["$stateProvider",function(d){d.state("officialBlogList",{url:"/OfficialBlog.nhn?categoryNo\x26menuTop",templateUrl:"/html/ngapp/official/OfficialBlogList.html",controller:"officialBlogCtrl",controllerAs:"officialBlogCtrl",
resolve:{resolveBlogUser:["blogUserModel",function(a){return a.getBlogUser()}]}})}]);e.controller("officialBlogCtrl",["$window","$timeout","$scope","$location","$state","$stateParams","persist","officialBlogModel","resolveBlogUser","lcsService","inAppService","officialBlogService","socialPluginService","$anchorScroll",function(d,a,b,f,e,g,m,p,r,k,n,q,w,v){function u(f,e){p.getOfficialBlogListFromPersist().then(function(b){h.categorys=b.categorys;h.officialBlogListView=b.list;var f=b.scrollY;h.loaded=
!0;a(function(){f&&d.scrollTo(0,f)})},function(){h.getOfficialBlogList(f,e)});b.$on("bgPersist:locationChange",function(a,b){p.persist({scrollY:d.pageYOffset,list:h.officialBlogListView,categorys:h.categorys})});a(function(){w.init()})}d.document.title="\uacf5\uc2dd\ube14\ub85c\uadf8 : \ub124\uc774\ubc84 \ube14\ub85c\uadf8";var h=this;h.loggedIn=r.loggedIn;h.loaded=!1;h.categoryNo=g.categoryNo||null;h.menuTop="true"==g.menuTop;h.loadingPage=function(a,b){k.lcs_do();u(a,b)};h.getOfficialBlogList=function(b,
d){p.getOfficialBlogList(b,d).then(function(b){b.success&&(h.officialBlogListView=b.officialBlogListView,h.categorys=b.categorys,h.isMobileBrowser=b.isMobileBrowser,q.addDisplayInfo(h.officialBlogListView.blogList,12),h.loaded=!0);a(function(){1==h.menuTop&&(v("menu_tab"),h.menuTop=!1)},0)})};h.getUrl=function(){return d.location.href};h.addBuddy=function(a){q.addBuddy(a)};h.getAddBuddyUrl=function(){return encodeURIComponent(d.location.href)};h.modifyBuddy=function(a){q.modifyBuddy(a)};h.isShowMore=
function(){if(null!=h.officialBlogListView&&!(2>h.officialBlogListView.totalPageNo)){if(h.officialBlogListView.pageNo<h.officialBlogListView.totalPageNo)return h.isMore=!0;h.officialBlogListView.pageNo==h.officialBlogListView.totalPageNo&&(h.isMore=!1)}return!1};h.more=function(){h.isMore||q.foldList(h.officialBlogListView.blogList);p.getOfficialBlogList(h.officialBlogListView.categoryNo,h.officialBlogListView.pageNo+1).then(function(a){if(a.success){var b=a.officialBlogListView.blogList;h.officialBlogListView.pageNo=
a.officialBlogListView.pageNo;angular.forEach(b,function(a){a.isShow=!0;h.officialBlogListView.blogList.push(a)})}})};h.isSelectedCategory=function(a){return h.officialBlogListView.categoryNo==a?!0:!1};u(h.categoryNo,1)}])})();
(function(){angular.module("bgOfficialBlog.model",["bgPersist.service"]).service("officialBlogModel",["$http","$httpParamSerializerJQLike","$q","persist",function(e,d,a,b){this.getOfficialBlogList=function(a,b){return e.get("/rego/OfficialBlogList.nhn?"+d({categoryNo:a,pageNo:b})).then(function(a){return a.data.result?{success:!0,categorys:a.data.result.categorys,officialBlogListView:a.data.result.officialBlogListView,isMobileBrowser:a.data.result.isMobileBrowser}:{error:!0}},function(){return{error:!0}})};
this.getOfficialBlogListFromPersist=function(){var d=b.pop();return a(function(a,b){d?a(d):b()}).then(function(a){return a})};this.persist=function(a){b.push(a)}}])})();
(function(){angular.module("bgSuggestionBlog.service",["bgBuddyAdd.service"]).factory("suggestionBlogService",["buddyAdder","$state",function(e,d){return{addBuddy:function(a){e.goAddBuddyForm(a)},modifyBuddy:function(a){e.goModifyBuddyForm(a)},isBuddy:function(a,b,d){return a==b?!1:null!=d?!0:!1},addDisplayInfo:function(a,b){angular.forEach(a,function(a,d){a.isShow=d<b});a.isOpen=a.length<=b},move:function(a){d.go(d.$current.self.name,{currentDate:a},{inherit:!1})}}}])})();
(function(){angular.module("bgOfficialBlog.service",["bgBuddyAdd.service"]).factory("officialBlogService",["buddyAdder","$state",function(e,d){return{addBuddy:function(a){e.goAddBuddyForm(a)},modifyBuddy:function(a){e.goModifyBuddyForm(a)},isBuddy:function(a,b,d){return a==b?!1:null!=d?!0:!1},hasMore:function(a,b){for(var d=0;d<a.length;d++){var e=a[d];if(e.groupView.seq==b)return 4<e.blogList.length}return!1},toggleList:function(a,b){angular.forEach(a,function(a){a.directory.seq==b&&(angular.forEach(a.blogList,
function(b,d){a.isOpen&&4<=d?b.isShow=!1:a.isOpen||(b.isShow=!0)}),a.isOpen=!a.isOpen)})},addDisplayInfo:function(a){angular.forEach(a,function(a,d){a.isShow=12>d})},foldList:function(a){angular.forEach(a,function(a,d){a.isShow=12>d})},move:function(a){d.go(d.$current.self.name,{currentDate:a},{inherit:!1})}}}])})();
(function(){angular.module("bgDrawerMenu.model",["blogCommonHelper.services","bgLocalStorage.service"]).factory("drawerMenuModel",["$http","$httpParamSerializerJQLike","readTeamBlogNewPostService",function(e,d,a){return{getTeamBlogUpdatePostTime:function(){return e.get("/rego/UpdatePostTimeAsync.nhn?"+d({blogId:"blogpeople"})).then(function(b){return b.data.error?!1:b.data.result.hasNewMylog&&!a.isRead(b.data.result.updateTime)},function(){return!1})},readTeamBlogPost:function(){a.read()}}}])})();
(function(){var e=angular.module("bgReservationGuide.directive",["bgReservationGuide.model","bgCarousel.directive","bgNclick.directive"]);e.directive("bgReservationGuide",[function(){return{templateUrl:"/html/ngapp/reservation/ReservationGuide.html",restrict:"E",controller:"reservationGuideController",controllerAs:"reservationGuideController",scope:{showGuide:"\x3dshowGuide",blogId:"@blogId"},link:function(d,a,b){}}}]);e.controller("reservationGuideController",["$scope","reservationGuideModel",function(d,
a){this.next=function(a){d.$broadcast("bgCarouselMove",a)};this.close=function(){d.showGuide=!1};this.noMoreShow=function(){a.noMoreShowGuide(d.blogId);d.showGuide=!1}}])})();(function(){angular.module("bgReservationGuide.model",[]).service("reservationGuideModel",["$http",function(e){this.noMoreShowGuide=function(d){return e.get("/rego/NoMoreShowReservationGuide.nhn?blogId\x3d"+d)}}])})();
(function(){var e=angular.module("bgPersonalNotice.model",[]);e.constant("PLATFORM_TYPE",{mobileweb:"2"});e.service("personalNoticeModel",["$http","PLATFORM_TYPE",function(d,a){this.getPersonalNotice=function(a,e){return d.get("/rego/PersonalNoticeAsync.nhn?blogId\x3d"+a+"\x26fromFeed\x3d"+e).then(function(a){if(a.data.result){if(a.data.result)return{personalNotice:a.data.result.personalNotice,hasPersonalNotice:a.data.result.hasPersonalNotice}}else return{error:!0}},function(){return{error:!0}})};
this.noMoreShowActivityAdd=function(b,e,l){return d({method:"POST",url:"/rego/PersonalNoticeNoMoreShowAsync.nhn",data:"noticeSeq\x3d"+e+"\x26blogId\x3d"+b+"\x26platformType\x3d"+a.mobileweb+"\x26fromFeed\x3d"+l,headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return a.data.result?{result:a.data.result}:{error:!0}},function(){return{error:!0}})};this.goDetailActivityAdd=function(b,e,l){return d({method:"POST",url:"/rego/PersonalNoticeDetailAsync.nhn",
data:"noticeSeq\x3d"+e+"\x26blogId\x3d"+b+"\x26platformType\x3d"+a.mobileweb+"\x26fromFeed\x3d"+l,headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return a.data.result?{result:a.data.result}:{error:!0}},function(){return{error:!0}})};this.closeActivityAdd=function(b,e,l){return d({method:"POST",url:"/rego/PersonalNoticeCloseAsync.nhn",data:"noticeSeq\x3d"+e+"\x26blogId\x3d"+b+"\x26platformType\x3d"+a.mobileweb+"\x26fromFeed\x3d"+l,headers:{"Content-Type":"application/x-www-form-urlencoded; charset\x3dUTF-8"}}).then(function(a){return a.data.result?
{result:a.data.result}:{error:!0}},function(){return{error:!0}})}}])})();
(function(){angular.module("bgPersonalNotice.directive",["bgPersonalNotice.model"]).directive("bgPersonalNotice",["$compile","personalNoticeModel","nClickService",function(e,d,a){return{restrict:"E",replace:!0,templateUrl:"/html/ngapp/personalnotice/PersonalNotice.html",scope:{blogId:"@blogId",fromFeed:"\x3dfromFeed"},link:function(b,f,l){b.hasPersonalNotice=!1;b.personalNotice={};var g="Mblog.post";b.fromFeed&&(g="Mblog.home");var m=function(a){a.preventDefault()};d.getPersonalNotice(b.blogId,b.fromFeed).then(function(a){a.hasPersonalNotice?
(b.hasPersonalNotice=!0,b.personalNotice=a.personalNotice,f.append(e(a.personalNotice.contents)(b)),window.document.body.style.overflow="hidden",document.addEventListener("touchmove",m),b.$emit("popupDA:personalNoticeLoaded",!0)):b.$emit("popupDA:personalNoticeLoaded",!1)});b.noticeClose=function(e){p();d.closeActivityAdd(b.blogId,b.personalNotice.noticeSeq,b.fromFeed);a.nclk(e.target,"dab.x",g)};b.noMoreShow=function(e){p();d.noMoreShowActivityAdd(b.blogId,b.personalNotice.noticeSeq,b.fromFeed);
a.nclk(e.target,"dab.fx",g)};b.detail=function(e){p();d.goDetailActivityAdd(b.blogId,b.personalNotice.noticeSeq,b.fromFeed);a.nclk(e.target,"dab.go",g)};b.$on("$stateChangeStart",function(){p()});var p=function(){window.document.body.style.overflow="";document.removeEventListener("touchmove",m);b.hasPersonalNotice=!1}}}}])})();
(function(){var e=angular.module("bgFullLayer.directive",["bgReservationGuide.directive","bgPersonalNotice.directive"]);e.directive("bgFullLayer",[function(){return{restrict:"E",replace:!0,templateUrl:"/html/ngapp/layer/FullLayer.html",controller:"fullLayerCtrl",controllerAs:"fullLayerCtrl",scope:{blogId:"@blogId",fromFeed:"\x3dfromFeed",showGuide:"\x3dshowGuide"}}}]);e.controller("fullLayerCtrl",["$scope",function(d){var a=!1,b=!1;d.$on("popupDA:personalNoticeLoaded",function(d,e){a=e;b=!0});this.isShowReservationGuide=
function(){return!a&&d.showGuide&&b}}])})();
(function(){var e=angular.module("bgNaverApp.service",["blogCommonHelper.services","bgLazyJSLoader.service","bgLocalStorage.service","bgUserAgent.service"]);e.service("naverAppAddButtonService",["$window","$filter","bgConst.urlMap","LazyJSLoader",function(d,a,b,e){var l=this;d=b.naver_openmain+"/js/openMain.js";a="?"+a("date")(new Date,"yyyyMMddHH");l.lazyLoader=new e(d+a);l.init=function(){return this.jsLoaderPromis?l.lazyLoader.reLoad():this.jsLoaderPromis=l.lazyLoader.load()}}]);e.constant("NAVER_APP",
{enableBlockList:["notice","postlist"],naverMySection:"mysection",bodyCss:"main_blog"});e.factory("NaverAppViewService",["NAVER_APP","$window","naverAppAdditionStoreService","bgUserAgent",function(d,a,b,e){return function(l){var g=this;g.fromNaverMain=function(){return l==d.naverMySection};g.isBlockLayoutHide=function(a){return g.fromNaverMain()&&-1===d.enableBlockList.indexOf(a)};g.isClosedNaverAppAdditionLayer=function(){return b.isClosed()};g.closeNaverAppAdditionLayer=function(){b.closeLayer()};
g.isNaverAppAddBtnHide=function(){return"safari"===e.browser.name&&!e.browser.webview};g.fromNaverMain()&&angular.element(a.document.body).addClass(d.bodyCss)}}]);e.directive("bgTargetSelfWhenNaverapp",["$window","$stateParams","NaverAppViewService",function(d,a,b){var e=new b(a.napp||"");return{restrict:"A",scope:{},link:{pre:function(a,b,d){e.fromNaverMain()&&b.attr("target","_self")}}}}]);e.directive("bgNaverappStopSwipe",["$window","$stateParams","NaverAppViewService",function(d,a,b){var e=new b(a.napp||
"");return{restrict:"A",scope:{},link:{pre:function(a,b,d){if(e.fromNaverMain()&&window.TEvent)angular.element(b).on("touchstart",function(a){TEvent.touchStartEvent()})}}}}])})();"undefined"==typeof window.defineNHNJS&&(window.defineNHNJS={});window.defineNHNJS["NgAppBundle2-1097566343_js"]=!0;