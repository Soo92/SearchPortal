/**
 * lcslog.js  v 0.4.16.m
 * Last Updated: 2014-09-15
 * Author : Chin Mi Ae
 * Copyright 2009 NAVER Corp. All rights Reserved.
 * NHN PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 *
 */


var lcs_add = {};
var lcs_bc = {};

var lcs_ver = "v0.4.16.m";
var lcs_cnt = 0;

function lcs_do( etc ) {
	// TODO : check lcs server name!! 
	if (!window.lcs_SerName) { window.lcs_SerName = "lcs.naver.com"; }

	var rs = "";
	var index;
	var doc = document;
	var wlt = window.location;

	try {
		var lcs_Addr = (wlt.protocol ? wlt.protocol : "http:")+"//" + window.lcs_SerName + "/m?";
	} catch(e){ return; }

	try {
		rs = lcs_Addr + "u=" + encodeURIComponent(wlt.href) 
			+ "&e=" + (doc.referrer ? encodeURIComponent(doc.referrer) : "");
	} catch(e) {
	}

	try {

	if (typeof lcs_add.i == 'undefined' )
		lcs_add.i = "";

	for( var index in lcs_add)
	{
		if( typeof lcs_add[index] != 'function' ) 
			rs += "&" + index + "=" + encodeURIComponent(lcs_add[index]);
	}

	for( var index in etc )
	{
		if ( (index.length >= 3 && (typeof etc[index] != 'function')) || index == 'qy')
		{
			rs += "&" + index + "=" + encodeURIComponent(etc[index]);
		}
	}

	if(lcs_cnt < 1)
	{
		lcs_getBrowserCapa();
	}

	for( var index in lcs_bc )
	{
		if( typeof lcs_bc[index] != 'function' ) 
			rs += "&" + index + "=" + encodeURIComponent(lcs_bc[index]);
	}

	
	if(lcs_cnt > 0 )
	{
		var timeStr = (new Date).getTime();
		rs += "&ts=" + timeStr;
	}
	rs += "&EOU";

	var obj = (new Image());
	obj.src = rs;
	obj.onload = function() { obj.onload = null; return; }

	lcs_cnt++;

	} catch(e) {
		return;
	}
}

function lcs_do_gdid( gdid , etc) {

	try {
		if (gdid) {
			lcs_add["i"] = gdid;

			if (etc){
				lcs_do(etc);
			} else {
				lcs_do();
			}
			
		}
	} catch (e) {
	}
}

function lcs_getBrowserCapa() {
	lcs_getlanguage();
	lcs_getScreen();
}	

function lcs_getlanguage() {
	var lcs_ln = "";
	try {
		(navigator.userLanguage? lcs_ln = navigator.userLanguage : (navigator.language)? lcs_ln = navigator.language : "");
	} catch (e) {
	}

	lcs_bc["ln"] = lcs_ln;
}

function lcs_getScreen() {
	var lcs_sr = "";
	try {
		if ( window.screen && screen.width && screen.height)
		{
			lcs_sr = screen.width + 'x'+ screen.height;
		}
		else if ( window.java || self.java ) 
		{
			var sr = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
			lcs_sr = sr.width + 'x' + sr.height;

		}
	} catch(e) {
		lcs_sr = "";
	}

	lcs_bc["sr"] = lcs_sr;
}




