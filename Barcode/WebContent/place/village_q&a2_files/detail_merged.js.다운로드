var Toast=$Class({_defaultClass:".tooltip.tooltip_flex.tooltip_3s",_oOption:null,_oElement:null,_wElement:null,
_timer:null,_fnTimer:null,$init:function(htOption){if(!htOption)return;this._oOption=htOption;this._oElement=
{};this._wElement={};$Fn(this.initialize,this).attach(window,"load")},
initialize:function(){var sDefaultClass=this._oOption.toastClassName||this._defaultClass;this._oElement["toastLayer"]=
$$.getSingle(sDefaultClass);this._wElement["toastLayer"]=$Element(this._oElement["toastLayer"]);this._wElement["toastLayer"].hide();
this._fnTimer=$Fn(function(){this._wElement["toastLayer"].hide();this._timer=null},this)},
show:function(sText){var wElToastLayer=this._wElement["toastLayer"];if(wElToastLayer&&this._timer===null){if(sText){var sHtml=
'\x3cp class\x3d"desc"\x3e'+sText+"\x3c/p\x3e";wElToastLayer.html(sHtml)}wElToastLayer.show();this._timer=
setTimeout(this._fnTimer.bind(),4E3)}}});
function getClientSize(){var oClientSize=$Document(document).clientSize();var nClientWidth=oClientSize.width;
var nClientHeight=oClientSize.height;var nTabletLandscapeWidth=nhn.Kin.MIN_WIDTH_OF_TABLET_LANDSCAPE_MODE;
if(nClientWidth>=nTabletLandscapeWidth)nClientWidth=parseInt(nClientWidth*.7,10);if(nClientHeight>=nTabletLandscapeWidth)nClientHeight=
parseInt(nClientHeight*.7,10);return{"width":nClientWidth,"height":nClientHeight}}
var DetailQuestionList=$Class({_oHtDataHistory:null,_oOption:null,_oFlickingAjax:null,_oFlicking:null,
_oElement:null,_wElement:null,_wEvent:null,nDisplay:4,nPanelCountPerScreen:10,nListCountPerScreen:0,nShowContentIndex:0,
nTotalContents:0,nLastContentIndex:0,nDataType:0,bUseFlicking:false,bIsLandscape:false,bIsSearch:false,
bIsKinFriend:false,bIsLegendQna:false,bIsGuestQna:false,_URL:{"kinFriend":"/mobile/ajax/todayQuestion.nhn",
"legendQna":"/mobile/ajax/legendQnaListAjax.nhn","guestQna":"/mobile/ajax/guestQnaList.nhn","search":"/mobile/ajax/search.nhn",
"noanswerSearch":"/mobile/ajax/search.nhn","noanswer":"/mobile/ajax/noanswer.nhn","kinup":"/mobile/ajax/kinupQnaList.nhn"},
END_FLICK_HEIGHT:{isKinFriend:{1:"62px",2:"124px",3:"186px",4:"248px"},legendQna:{1:"99px",2:"198px",
3:"297px",4:"396px"},guestQna:{1:"62px",2:"124px",3:"186px",4:"248px"},defaultList:{1:"102px",2:"204px",
3:"306px",4:"408px"}},END_FLICK_HEIGHT_FOR_TABLET:{isKinFriend:{1:"75px",2:"150px",3:"225px",4:"300px"},
legendQna:{1:"138px",2:"276px",3:"414px",4:"552px"},guestQna:{1:"75px",2:"150px",3:"225px",4:"300px"},
defaultList:{1:"121px",2:"242px",3:"363px",4:"484px"}},$init:function(htOption){if(!htOption)return;this._oOption=
htOption;if(this._oOption.type==="search"){this.nDataType=this._oOption.sort||1;this._oOption.nSort=this.nDataType}else if(this._oOption.type===
"noanswerSearch"){this.nDataType=2;this._oOption.nSort=3}else this.nDataType=0;this.bIsSearch=this._oOption.type===
"search"||this._oOption.type==="noanswerSearch";this.bIsKinFriend=this._oOption.type==="kinFriend";this.bIsLegendQna=
this._oOption.type==="legendQna";this.bIsGuestQna=this._oOption.type==="guestQna";this.nListCountPerScreen=
this.nDisplay*this.nPanelCountPerScreen;this.bIsLandscape=this._oOption.isLandscape||false;this._oHtDataHistory=
[];this._oElement={};this._wElement={};this._wTemplate={};this._wEvent={};this.setElement();this.initSearchSortArea();
this.initFlickingAjaxData()},
setElement:function(){this._oElement["flickingContainer"]=$("mflick");this._wElement["endBottomList"]=
$Element("endBottomList");if(this._wElement["endBottomList"]){this._oElement["searchSortOptions"]=$$("div._sort input[name\x3dsortOption]",
$("ct"));this._oElement["flickingNavi"]=$("flick_pgn");this._oElement["flickingPage"]=$$.getSingle("div._pagingArea",
this._oElement["flickingNavi"]);this._wTemplate["flickingList"]=$Template("flickingListTpl");this._wTemplate["flickingPage"]=
$Template("flickingPageTpl");this._wEvent["flickingNavi"]=$Fn(this._clickFlickingNavi,this).attach(this._oElement["flickingNavi"],
"click");this._wEvent["searchSort"]=$Fn(this._clickSearchSort,this).attach(this._oElement["searchSortOptions"],
"click");this._wElement["listTitleArea"]=$Element($$.getSingle("div._endBottomListTitle",this._wElement["endBottomList"].$value()));
this._wElement["landscapeListArea"]=$Element($$.getSingle("div._landscapeListArea",$("section_group2")));
this._wElement["landscapeList"]=$Element("landscapeList");this._wElement["landscapeListContents"]=$Element($$.getSingle("div._listContentsArea",
this._wElement["landscapeList"].$value()))}},
initSearchSortArea:function(){for(var i=0,len=this._oElement["searchSortOptions"].length;i<len;i++)if(parseInt(this._oElement["searchSortOptions"][i].value,
10)===this._oOption.nSort)if(this._oElement["searchSortOptions"][i].getAttribute("data-list-title-type")===
"landscape")this._oElement["searchSortOptions"][i].checked=!!this.bIsLandscape;else this._oElement["searchSortOptions"][i].checked=
!this.bIsLandscape;else this._oElement["searchSortOptions"][i].checked=false},
initFlickingAjaxData:function(){var sAjaxUrl=this._URL[this._oOption.type];if(!sAjaxUrl){if(this.bIsLandscape&&
typeof this._oOption.fnHideScrollArea==="function")this._oOption.fnHideScrollArea();return}if(!this._oHtDataHistory[this.nDataType])this._oHtDataHistory[this.nDataType]=
[];else{if(this.bIsLandscape)this.initLandscapeView();else this.initFlickingView();return}this.nTotalContents=
0;this.nShowContentIndex=0;this._oFlickingAjax=new $Ajax(sAjaxUrl,{method:"get",onload:$Fn(function(res){var data=
res.json();if(!data.isSuccess){if(this.bIsLandscape&&typeof this._oOption.fnHideScrollArea==="function")this._oOption.fnHideScrollArea();
if(this._oOption.fnLoadDaSCript)this._oOption.fnLoadDaSCript();return}var resultList=null;if(this.bIsSearch)resultList=
data.result[0].resultList;else if(this.bIsLegendQna)resultList=data.list;else resultList=data.result;
if(resultList){var len=resultList.length,nPageIndex=0,nItemIndex=0;for(var i=0;i<len;i++){if(i%this.nDisplay===
0){nPageIndex=parseInt(i/this.nDisplay,10);nItemIndex=0}if(!this._oHtDataHistory[this.nDataType][nPageIndex])this._oHtDataHistory[this.nDataType][nPageIndex]=
[];if(this.bIsLegendQna)resultList[i].legendQnaIndex=nIndex++;this._oHtDataHistory[this.nDataType][nPageIndex][nItemIndex++]=
resultList[i]}}if(this.bIsLandscape)this.initLandscapeView();else this.initFlickingView();if(this._oOption.fnLoadDaSCript)this._oOption.fnLoadDaSCript()},
this).bind(),
timeout:5});var oParams=null;if(this.bIsSearch)oParams={listType:this._oOption.type||"search",startOffset:(this._oOption.rank||
1)-1,page:1,display:this.nListCountPerScreen,query:this._oOption.keyword,sort:this._oOption.nSort||1,
searchFlag:this._oOption.searchFlag||"",section:this._oOption.section||null};else if(this.bIsLegendQna){var nIndex=
this._oOption.legendQnaIndex-this.nDisplay;if(nIndex<0)nIndex=0;oParams={page:1,count:this.nListCountPerScreen,
start:nIndex};if(this._oOption.sortType)oParams.sortType=this._oOption.sortType}else if(this.bIsGuestQna)oParams=
{page:1,count:this.nListCountPerScreen,guestId:this._oOption.guestId};else{oParams={page:1,display:this.nListCountPerScreen,
dirId:this._oOption.dirId||0,titleLength:60};if(this._oOption.queryTime)oParams["queryTime"]=this._oOption.queryTime}this._oFlickingAjax.request(oParams)},
initLandscapeView:function(){this.bUseFlicking=false;this._wElement["endBottomList"].hide();this.nTotalContents=
this._oHtDataHistory[this.nDataType]?this._oHtDataHistory[this.nDataType].length:0;var aQuestionList=
[];if(this.nTotalContents>=1){var sHtml="";var index=0;for(var i=0;i<this.nTotalContents;i++){var oPanelData=
this._oHtDataHistory[this.nDataType][i];var nPanelLength=oPanelData?oPanelData.length:0;if(nPanelLength<
1)continue;this._checkIsProcessedPanel(oPanelData);for(var j=0;j<nPanelLength;j++)aQuestionList[index++]=
oPanelData[j]}}else{if(typeof this._oOption.fnHideScrollArea==="function")this._oOption.fnHideScrollArea();
return}if(this._wElement["landscapeListContents"])this._wElement["landscapeListContents"].html($Template("landscapeListTpl").process({"type":this._oOption.type||
null,"list":aQuestionList}));this._wElement["landscapeListArea"].show();if(this._oOption.fnSetScroll)this._oOption.fnSetScroll()},
initFlickingView:function(){this._wElement["landscapeListArea"].hide();this.nTotalContents=this._oHtDataHistory[this.nDataType].length;
if(this.nTotalContents>1){this.bUseFlicking=true;this.nLastContentIndex=0;this.paintPanel({nPanelIndex:0,
nPanelRightIndex:1,nPanelLeftIndex:2,nContentIndex:0,nContentRightIndex:Math.min(1,this.nTotalContents-
1),nContentLeftIndex:this.nTotalContents-1});this.initFlickingPage();this._changeFlickingHeight(this.nShowContentIndex);
this._wElement["endBottomList"].show();this.setFlicking()}else if(this.nTotalContents==1){this.bUseFlicking=
false;this.paintPanel({nPanelIndex:0,nPanelRightIndex:1,nPanelLeftIndex:2,nContentIndex:0,nContentRightIndex:0,
nContentLeftIndex:0});this.initFlickingPage();this._changeFlickingHeight(this.nShowContentIndex);this._wElement["endBottomList"].show()}else this.bUseFlicking=
false;if(this._oFlicking&&this.bIsLegendQna&&this._oOption.legendQnaIndex>=this.nDisplay)this._oFlicking.moveNext(10)},
initFlickingPage:function(){if(this.nTotalContents<=1){this._oElement["flickingNavi"].style.display="none";
return}var sHtml="";for(var i=0;i<this.nTotalContents;i++)sHtml+=this._wTemplate["flickingPage"].process({"isOn":i==
this.nShowContentIndex,"pageNo":i+1});$Element(this._oElement["flickingPage"]).html(sHtml);this._oElement["flickingPageItems"]=
$$("span.page",this._oElement["flickingPage"])},
setFlicking:function(){if(this.bUseFlicking===false)return;var that=this;this._oFlicking=new jindo.m.SlideFlicking(that._oElement["flickingContainer"],
{bHorizontal:true,bUseCircular:true,sClassPrefix:"flick-",sContentClass:"panel",nTotalContents:that.nTotalContents});
this._oFlicking.attach({"beforeFlicking":function(oCustomEvent){that._changeFlickingHeight(oCustomEvent.nContentsNextIndex);
that._changeFlickingPage(oCustomEvent.nContentsNextIndex)},
"flicking":function(oCustomEvent){if(oCustomEvent.bCorrupt){this.getElement().html(that.getFlickingHtml(this.getContentIndex()));
this.getNextElement().html(that.getFlickingHtml(this.getNextIndex()));this.getPrevElement().html(that.getFlickingHtml(this.getPrevIndex()))}else if(oCustomEvent.bNext)this.getNextElement().html(that.getFlickingHtml(this.getNextIndex()));
else this.getPrevElement().html(that.getFlickingHtml(this.getPrevIndex()))}})},
detachFlicking:function(){if(this._oFlicking){this._oFlicking.deactivate();this._oFlicking.destroy();
this._oFlicking=null}},
paintPanel:function(oCustomEvent){this._changeFlickingPage(oCustomEvent.nContentIndex+this.nShowContentIndex);
this.makeFlickingHtml(oCustomEvent.nPanelIndex,oCustomEvent.nContentIndex+this.nShowContentIndex);this._changeFlickingHeight(oCustomEvent.nContentIndex);
if(this.nTotalContents==1)return;if(this.nTotalContents<3){this.makeFlickingHtml(oCustomEvent.nPanelLeftIndex,
oCustomEvent.nContentRightIndex+this.nShowContentIndex);this.makeFlickingHtml(oCustomEvent.nPanelRightIndex,
oCustomEvent.nContentRightIndex+this.nShowContentIndex)}else{this.makeFlickingHtml(oCustomEvent.nPanelLeftIndex,
oCustomEvent.nContentLeftIndex+this.nShowContentIndex);this.makeFlickingHtml(oCustomEvent.nPanelRightIndex,
oCustomEvent.nContentRightIndex+this.nShowContentIndex)}},
makeFlickingHtml:function(nPanelIndex,nContentIndex){if(!this._oElement["flickingList"])this._oElement["flickingList"]=
$$(".flick-panel",this._oElement["flickingContainer"]);$Element(this._oElement["flickingList"][nPanelIndex]).html(this.getFlickingHtml(nContentIndex))},
_checkIsProcessedPanel:function(oPanelData){var item=null;if(!oPanelData.processed){for(var i=0,len=oPanelData.length;i<
len;i++){item=oPanelData[i];if(this.bIsSearch)oPanelData[i]={"sequence":item.rank,"isCurrentDetail":item.docId==
""+this._oOption.docId,"titleLink":this._getTitleLink(item.titleLink),"title":item.title,"contents":item.contents,
"tagList":item.tagList,"gdid":item.gdid,"betPoint":0,"answerCount":item.answerCount,"writeTime":item.formattedWriteTime,
"type":"search"};else if(this.bIsLegendQna){oPanelData[i]={"sequence":i,"isCurrentDetail":item.docId==
this._oOption.docId,"titleLink":"/mobile/qna/detail.nhn?d1Id\x3d"+nhn.Kin.getD1Id(item.dirId)+"\x26dirId\x3d"+
item.dirId+"\x26docId\x3d"+item.docId+"\x26legendQnaIndex\x3d"+item.legendQnaIndex+"\x26listType\x3dlegendQna",
"title":item.title,"description":item.description,"kinupPoint":nhn.Kin.getNumberWithComma(item.kinupPoint),
"kinupCnt":nhn.Kin.getNumberWithComma(item.kinupCnt),"commentCount":nhn.Kin.getNumberWithComma(item.commentCnt),
"type":"legendQna"};if(this._oOption.sortType)oPanelData[i].titleLink+="\x26legendQnaSortType\x3d"+this._oOption.sortType}else oPanelData[i]=
{"sequence":i,"isCurrentDetail":item.docId==this._oOption.docId,"titleLink":"/mobile/qna/detail.nhn?d1Id\x3d"+
nhn.Kin.getD1Id(item.dirId)+"\x26dirId\x3d"+item.dirId+"\x26docId\x3d"+item.docId+"\x26from\x3ddetailSearch\x26listType\x3d"+
(this._oOption.type||""),"title":item.title,"contents":item.previewContents,"tagList":item.tagList,"gdid":item.gdId,
"betPoint":item.betPoint,"answerCount":item.answerCnt,"writeTime":item.formattedWriteTime,"type":this._oOption.type||
null};if(this.bIsKinFriend)oPanelData[i]["type"]="kinFriend";else if(this.bIsGuestQna)oPanelData[i]["type"]=
"guestQna"}oPanelData.processed=true}},
getFlickingHtml:function(nContentIndex){var _nContentIndex=nContentIndex;if(_nContentIndex>=this._oHtDataHistory[this.nDataType].length)_nContentIndex-=
this._oHtDataHistory[this.nDataType].length;if(!this._oHtDataHistory[this.nDataType][_nContentIndex])if(this._oHtDataHistory[this.nDataType].length==
2)_nContentIndex=nContentIndex%2;this._checkIsProcessedPanel(this._oHtDataHistory[this.nDataType][_nContentIndex]);
return this._wTemplate["flickingList"].process({"bSearchList":this.bIsSearch,"list":this._oHtDataHistory[this.nDataType][_nContentIndex],
"highlightTag":this.bIsSearch?this._oOption.keyword.toLowerCase():""})},
_getTitleLink:function(sTitleLink){if(!sTitleLink)return sTitleLink;sTitleLink=sTitleLink.replace(/(?:http|https):\/\/kin.naver.com\/(qna|open100|knowhow|openkr)\/detail.nhn/g,
"/mobile/$1/detail.nhn");sTitleLink+="\x26from\x3ddetailSearch\x26listType\x3d"+(this._oOption.type||
"");if(this._oOption.type==="noanswerSearch"){sTitleLink+="\x26searchType\x3dnoanswer";if(this._oOption.searchFlag===
"ALL")sTitleLink+="\x26searchFlag\x3dALL";if(this._oOption.badgeEventNo||this._oOption.badgeEventNo===
0)sTitleLink+="\x26eventNo\x3d"+this._oOption.badgeEventNo}else if(this._oOption.viewQuery)sTitleLink+=
"\x26viewQuery\x3d"+encodeURIComponent(this._oOption.viewQuery);return sTitleLink},
_changeFlickingHeight:function(nContentIndex){if(!this._oHtDataHistory||this._oHtDataHistory.length<1||
!this._oHtDataHistory[this.nDataType]||this._oHtDataHistory[this.nDataType].length<1)return;if(!nContentIndex&&
nContentIndex!==0)nContentIndex=this.nShowContentIndex;var _nContentIndex=nContentIndex;if(_nContentIndex>=
this._oHtDataHistory[this.nDataType].length)_nContentIndex-=this._oHtDataHistory[this.nDataType].length;
var nCurCount=this._oHtDataHistory[this.nDataType][_nContentIndex].length;if(nCurCount<=this.nDisplay){var bIsTablet=
nhn.Kin.getScreenType()!=="NORMAL";var sHeightOption="defaultList";if(this.bIsKinFriend)sHeightOption=
"isKinFriend";else if(this.bIsLegendQna)sHeightOption="legendQna";else if(this.bIsGuestQna)sHeightOption=
"guestQna";$Element(this._oElement["flickingContainer"]).css({height:bIsTablet?this.END_FLICK_HEIGHT_FOR_TABLET[sHeightOption][nCurCount]:
this.END_FLICK_HEIGHT[sHeightOption][nCurCount]})}},
_changeFlickingPage:function(nContentIndex){if(!this._oElement["flickingPageItems"])return;var _nContentIndex=
nContentIndex;if(_nContentIndex>=this._oHtDataHistory[this.nDataType].length)_nContentIndex-=this._oHtDataHistory[this.nDataType].length;
if(!this._oHtDataHistory[this.nDataType][_nContentIndex])if(this._oHtDataHistory[this.nDataType].length==
2)_nContentIndex=nContentIndex%2;var bHasOnClass=false;for(var i=0,len=this._oElement["flickingPageItems"].length;i<
len;i++){bHasOnClass=this._oElement["flickingPageItems"][i].className.indexOf("on")>=0;if(i==_nContentIndex){if(!bHasOnClass)this._oElement["flickingPageItems"][i].className=
"page on"}else if(this._oElement["flickingPageItems"][i].className.indexOf("on")>=0)this._oElement["flickingPageItems"][i].className=
"page"}},
_clickSearchSort:function(oEvent){var elCurrent=oEvent.currentElement;for(var i=0,len=this._oElement["searchSortOptions"].length;i<
len;i++)if(elCurrent===this._oElement["searchSortOptions"][i])this._oElement["searchSortOptions"][i].checked=
true;else this._oElement["searchSortOptions"][i].checked=false;this._oOption.nSort=parseInt(elCurrent.value,
10)||0;if(this._oOption.rank>0){this._oOption.rank=0;this._oHtDataHistory=[]}this.detachFlicking();this.nDataType=
this._oOption.nSort;this.initFlickingAjaxData()},
_clickFlickingNavi:function(oEvent){if(!this._oFlicking)return;var wel=$Element(oEvent.element);if(!/button/i.test(wel.$value().tagName)){var aElParents=
wel.parent(function(v){return/button/i.test(v.$value().tagName)},2);
if(aElParents&&aElParents.length>0)wel=aElParents[0]}if(wel.hasClass("_prev"))this._oFlicking.movePrev(200);
else if(wel.hasClass("_next"))this._oFlicking.moveNext(200)},
_getContentIndex:function(nContentIndex,bNext){var _nContentIndex;if(!this._oHtDataHistory[this.nDataType][nContentIndex])if(this._oHtDataHistory[this.nDataType].length==
2)_nContentIndex=nContentIndex%2;_nContentIndex=bIsNext?nCurIndex+1:nCurIndex-1;if(_nContentIndex<0)_nContentIndex=
this.nTotalContents-1;else if(_nContentIndex>=this.nTotalContents)_nContentIndex=0;return _nContentIndex},
destroy:function(){if(this._wEvent["flickingNavi"])this._wEvent["flickingNavi"].detach(this._oElement["flickingNavi"],
"click");if(this._oFlicking)this._oFlicking.destroy();this._oElement=this._wElement=this._wTemplate=this._wEvent=
null;this._oOption=this._oFlicking=this._oFlickingAjax=this._oHtDataHistory=null}});
var Detail=$Class({_oOption:null,_oDetailQuestionList:null,_oTouch:null,_oElement:null,_wElement:null,
_wTemplate:null,_wEvent:null,_wAdditionalEvent:null,_wKinIHelpEvent:null,_oLoading:null,_bIsLandscapeMode:false,
_oNormalAnswerListAjax:null,_nPage:1,_nCountPerPage:5,_nCurrentCount:0,_nTotalCount:0,_bIsOnlyOpenAnswer:false,
_bIsOnlyBusinessAnswer:false,_nBestAnswerCount:0,_nBestOpenAnswerCount:0,_nBestBusinessAnswerCount:0,
_nExpertAnswerCount:0,_nBestAnswerAndExpertAnswerCountByFilteringOption:0,_RELATED_KEYWORD_COUNT:5,_MAX_LENGTH_OF_FOLDER_MODULE_SESSION_STORAGE:1500,
DETAIL_URL:"/mobile/qna/detail.nhn",MORE_AJAX_URL:"/mobile/ajax/detail.nhn",INTERESTDIR_AJAX_URL:"/mobile/ajax/interestDir.nhn",
SELECTANSWER_URL:"/mobile/qna/selectAnswer.nhn",DELETEANSWER_AJAX_URL:"/mobile/ajax/deleteAnswer.nhn",
DELETEQUESTION_AJAX_URL:"/mobile/ajax/deleteQuestion.nhn",CLOSEQUESTION_AJAX_URL:"/mobile/ajax/closeQuestion.nhn",
MESSAGE:{INTEREST_LOGIN:"\ub85c\uadf8\uc778 \ud6c4 \uad00\uc2ec\ubd84\uc57c\ub97c \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub85c\uadf8\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
INTEREST_CONFIRM:"\uad00\uc2ec\ubd84\uc57c\ub85c \ucd94\uac00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",INTEREST_SUCCESS:"\uad00\uc2ec\ubd84\uc57c\ub85c \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",
INTEREST_DEFAULT:"\uc2dc\uc2a4\ud15c \uc624\ub958\ub85c \uc778\ud574 \uad00\uc2ec\ubd84\uc57c\ub97c \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",
INTEREST_LOCAL_LOGIN:"\ub85c\uadf8\uc778 \ud6c4 \uad00\uc2ec\uc9c0\uc5ed\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\ub85c\uadf8\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
INTEREST_LOCAL_CONFIRM:"\uad00\uc2ec\uc9c0\uc5ed\uc73c\ub85c \ucd94\uac00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
INTEREST_LOCAL_SUCCESS:"\uad00\uc2ec\uc9c0\uc5ed\uc73c\ub85c \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",
INTEREST_LOCAL_DEFAULT:"\uc2dc\uc2a4\ud15c \uc624\ub958\ub85c \uc778\ud574 \uad00\uc2ec\uc9c0\uc5ed\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",
QUESTION_DELETE:"\uc9c8\ubb38\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uc0ad\uc81c \uc2dc \uc9c8\ubb38\ub4f1\ub85d\uc73c\ub85c \ud68d\ub4dd\ud588\ub358 \ub0b4\uacf5\uc774 \ud68c\uc218\ub429\ub2c8\ub2e4.",
ANSWER_DELETE_BY_ANSWERER:"\ub2f5\ubcc0\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uc0ad\uc81c \uc2dc \ub2f5\ubcc0\ub4f1\ub85d\uc73c\ub85c \ud68d\ub4dd\ud588\ub358 \ub0b4\uacf5\uc774 \ud68c\uc218\ub429\ub2c8\ub2e4.",
ANSWER_DELETE:"\ub2f5\ubcc0\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",MODIFY_ARTICLE_WRITE_APP:"\ubaa8\ubc14\uc77c\uc571\uc5d0\uc11c \uc791\uc131\ud55c \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.\n\ubaa8\ubc14\uc77c\uc6f9\uc5d0\uc11c \uc218\uc815 \uc2dc,\ucca8\ubd80\ud55c \uc9c0\uc2dd\ubc31\uacfc/\uc74c\uc545/\uc601\ud654 \uc815\ubcf4\uac00 \uc720\uc2e4 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uadf8\ub798\ub3c4 \uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
MODIFY_ARTICLE_WRITE_PC:"PC\uc5d0\uc11c \uc791\uc131\ud55c \uac8c\uc2dc\ubb3c \uc785\ub2c8\ub2e4.\n\ubaa8\ubc14\uc77c\uc5d0\uc11c \uc218\uc815 \uc2dc \ub4f1\ub85d\uc2dc\uc810\uc758 \ud3b8\uc9d1\uc0c1\ud0dc\uc640 \ucca8\ubd80\uc815\ubcf4\uac00\uc720\uc9c0\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uadf8\ub798\ub3c4 \uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",
CANNOT_MODIFY_ANSWER_EXCEPT_MOBILE_WEB:"PC \ub610\ub294 \ubaa8\ubc14\uc77c\uc571\uc5d0\uc11c \uc791\uc131\ud55c \ub2f5\ubcc0\uc740 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
DIVIDED_QUESTION_MODIFY_CONFIRM:"\ub098\ub208 \uc9c8\ubb38\uc744 \uc218\uc815\ud558\uba74 \ub098\ub208 \uc9c8\ubb38\uc5d0\uc11c \uc81c\uc678\ub429\ub2c8\ub2e4. \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"},
_GO_KINAPP_ENDPAGE_URL:"/app/bridge/kinAppLaunchBridge.nhn?type\x3dendPage\x26returnUrl\x3dhistoryBack",
$init:function(htOption){if(!htOption)return;this._oOption=htOption;this._bIsLandscapeMode=nhn.Kin.getScreenType()===
"TABLET_LANDSCAPE";this._oElement={};this._wElement={};this._wEvent={};this._wAdditionalEvent=[];this._wKinIHelpEvent=
[];this._wTemplate={};this.setElement();this.setEvent();this.setLoading();this._generateMaps();this._initToast();
this._initPagingInfo();this._generateKinIAnswerContents();$Fn(this.initializeOnLoad,this).attach(window,
"load")},
initializeOnLoad:function(){if(this._oOption.layerMode==="question"){this._oOption.scrollType="none";
this._loadDAScript()}else this._initDetailQuestionList();this.initializeForResponsiveWeb();nhn.Kin.checkAndShowBingoCompleteLayerFromCookie();
nhn.Kin.sendListInfo(this._oOption.dirId,this._oOption.docId);this._bIsOnlyOpenAnswer=this._oOption.isOnlyOpenAnswer;
this._bIsOnlyBusinessAnswer=this._oOption.isOnlyBusinessAnswer;this._setBestAnswerAndExpertAnswerByFilteringOption();
if(this._oElement["folderModuleToggleBtn"]&&this._oElement["folderModuleToggleBtn"].length>0)this._initializeFolderModule(this._oElement["folderModuleToggleBtn"])},
setElement:function(){this._oElement["topMenu"]=$("topMenu");this._oElement["endArea"]=$("endArea");this._oElement["questionArea"]=
$$.getSingle("div._questionArea",this._oElement["endArea"]);this._oElement["questionMenuArea"]=$("questionMenuArea");
if(this._oElement["questionMenuArea"])this._oElement["questionMenuButton"]=$$.getSingle("button._questionMenuButton",
this._oElement["questionMenuArea"]);this._oElement["qComment"]=$$.getSingle("div._questionBottomMenu button._comment",
this._oElement["questionArea"]);this._oElement["qReport"]=$$.getSingle("div._questionBottomMenu a._qreport",
this._oElement["questionArea"]);this._oElement["qDelete"]=$$.getSingle("div._questionBottomMenu button._qdelete",
this._oElement["questionArea"]);this._oElement["qModify"]=$$.getSingle("div._questionBottomMenu button._qmodify",
this._oElement["questionArea"]);this._oElement["showMoreAttentionButton"]=$$("div._expertAnswer button._showMoreAttention",
this._oElement["endArea"]);this._oElement["aMenus"]=$$("div._answer div._answerBottomMenu",this._oElement["endArea"]);
this._oElement["aSelect"]=$$("div._answer a._selectAnswer",this._oElement["endArea"]);this._oElement["folderModuleToggleBtn"]=
$$("div._answer div._folderModule a._folderModuleToggleBtn",this._oElement["endArea"]);this._oElement["qClose"]=
$$.getSingle("div.end_sel \x3e button",this._oElement["endArea"]);this._oElement["kinFriendAnswerBtn"]=
$("kinFriendAnswerBtn");this._oElement["qUserBlockBtn"]=$("_user_block_btn_at_question_bottom");if(this._oElement["qUserBlockBtn"])this._wElement["qUserBlockBtn"]=
$Element(this._oElement["qUserBlockBtn"]);this._wTemplate["moreList"]=$Template("moreListTpl");this._wTemplate["noMoreList"]=
$Template("noMoreListTpl");this._wTemplate["mapTpl"]=$Template("mapTpl");this._wTemplate["mapTextTpl"]=
$Template("mapTextTpl");this._wTemplate["kinIAnswerTpl"]=$Template("kinIAnswerTpl");this._wElement["endBottomList"]=
$Element("endBottomList");this._oElement["questionMapArea"]=$$("div.map_area",this._oElement["questionArea"]);
this._oElement["answerMapArea"]=$$("div._answer div.map_area",this._oElement["endArea"]);this._wElement["headerArea"]=
$Element("headerArea");this._wElement["contentsArea"]=$Element("ct");this._wElement["leftArea"]=$Element("section_group1");
this._wElement["rightArea"]=$Element("section_group2");this._wElement["endContentsArea"]=$Element($$.getSingle("div._contentsArea",
this._wElement["leftArea"].$value()));if(this._oElement["questionMenuArea"]){this._wElement["questionMenuLayer"]=
$Element($$.getSingle("ul._questionMenuLayer",this._oElement["questionMenuArea"]));this._wElement["questionMenuChangeFontBtn"]=
$ElementList($$("button._changeFont",this._oElement["questionMenuArea"]));this._wElement["questionMenuPreviewFont"]=
$Element($$.getSingle("span._previewFont",this._oElement["questionMenuArea"]))}this._wElement["moreContainer"]=
$Element("moreContainer");if(this._wElement["moreContainer"]){this._wElement["moreButton"]=$Element($$.getSingle("a._more_button",
this._wElement["moreContainer"].$value()));if(this._wElement["moreButton"]){this._wElement["nextCountOfMoreButton"]=
$Element($$.getSingle("em._more_moreCnt",this._wElement["moreButton"].$value()));this._wElement["currentCountOfMoreButton"]=
$Element($$.getSingle("span._more_current",this._wElement["moreButton"].$value()));this._wElement["totalCountOfMoreButton"]=
$Element($$.getSingle("span._more_total",this._wElement["moreButton"].$value()))}this._wElement["lastMoreButton"]=
$Element($$.getSingle("a._more_last_button",this._wElement["moreContainer"].$value()));if(this._wElement["lastMoreButton"]){this._wElement["currentCountOfLastMoreButton"]=
$Element($$.getSingle("span._more_current",this._wElement["lastMoreButton"].$value()));this._wElement["totalCountOfLastMoreButton"]=
$Element($$.getSingle("span._more_total",this._wElement["lastMoreButton"].$value()))}}this._oElement["directoryPath"]=
$$.getSingle("div._directoryPath");this._oElement["directoryLink"]=$$("a._directoryLink",this._oElement["directoryMenu"]);
this._oElement["addInterestDir"]=$$.getSingle("button._addInterestDir",this._oElement["directoryPath"]);
this._oElement["suicideCounselingToDoctor"]=$$.getSingle("._suicideCounselingToDoctor");this._oElement["answerListToggle"]=
$("answerListToggle");this._oElement["bestAnswer"]=$$("._answer._bestAnswer",this._oElement["endArea"]);
if(this._oElement["bestAnswer"]){this._nBestAnswerCount=this._oElement["bestAnswer"].length;this._oElement["bestOpenAnswer"]=
$$("._answer._bestAnswer._openAnswer",this._oElement["endArea"]);if(this._oElement["bestOpenAnswer"])this._nBestOpenAnswerCount=
this._oElement["bestOpenAnswer"].length;this._oElement["bestBusinessAnswer"]=$$("._answer._bestAnswer._businessAnswer",
this._oElement["endArea"]);if(this._oElement["bestBusinessAnswer"])this._nBestBusinessAnswerCount=this._oElement["bestBusinessAnswer"].length}this._oElement["expertAnswer"]=
$$("._answer._expertAnswer",this._oElement["endArea"]);if(this._oElement["expertAnswer"])this._nExpertAnswerCount=
this._oElement["expertAnswer"].length;this._wElement["normalAnswerAppendPosition"]=$Element($$.getSingle("div._normalAnswerAppendPosition",
this._oElement["endArea"]));this._oElement["answerOptionButton"]=$$.getSingle("a._answerOptionButton",
this._oElement["endArea"]);this._oElement["answerOptionArea"]=$$.getSingle("div._answerOptionArea",this._oElement["endArea"]);
if(this._oElement["answerOptionArea"])this._wElement["answerOptionArea"]=$Element(this._oElement["answerOptionArea"]);
this._oElement["answerSortingArea"]=$$.getSingle("div._answerSortingArea",this._oElement["endArea"]);
this._oElement["answerFilteringArea"]=$$.getSingle("div._answerFilteringArea",this._oElement["endArea"]);
if(this._oElement["answerFilteringArea"]){this._oElement["allAnswerFilter"]=$$.getSingle("a._allAnswer",
this._oElement["answerFilteringArea"]);this._oElement["onlyOpenAnswerFilter"]=$$.getSingle("a._isOnlyOpenAnswer",
this._oElement["answerFilteringArea"]);this._oElement["onlyBusinessAnswerFilter"]=$$.getSingle("a._isOnlyBusinessAnswer",
this._oElement["answerFilteringArea"]);if(this._oElement["allAnswerFilter"])this._wElement["allAnswerFilter"]=
$Element(this._oElement["allAnswerFilter"]);if(this._oElement["onlyOpenAnswerFilter"])this._wElement["onlyOpenAnswerFilter"]=
$Element(this._oElement["onlyOpenAnswerFilter"]);if(this._oElement["onlyBusinessAnswerFilter"])this._wElement["onlyBusinessAnswerFilter"]=
$Element(this._oElement["onlyBusinessAnswerFilter"])}this._oElement["sourceLink"]=$$("a._sourceLink",
this._oElement["endArea"])},
setEvent:function(){this._wEvent["topMenu"]=$Fn(this._onClickTopMenu,this).attach(this._oElement["topMenu"],
"click");this._wEvent["addInterestDir"]=$Fn(this._addInterestDir,this).attach(this._oElement["addInterestDir"],
"click");if(this._oElement["questionMenuButton"]){this._wEvent["questionMenuButton"]=$Fn(this._onClickQuestionMenuButton,
this).attach(this._oElement["questionMenuButton"],"click");this._wEvent["outerQuestionMenuButton"]=$Fn(this._onClickOuterQuestionMenuButton,
this).attach($("ct"),"click");this._wEvent["questionMenuLayer"]=$Fn(this._onClickQuestionMenuLayer,this).attach(this._wElement["questionMenuLayer"].$value(),
"click")}this._wEvent["qComment"]=$Fn(this._goComment,this).attach(this._oElement["qComment"],"click");
if(this._oElement["qReport"])this._wEvent["qReport"]=$Fn(this._reportQuestion,this).attach(this._oElement["qReport"],
"click");if(this._oElement["qDelete"])this._wEvent["qDelete"]=$Fn(this._deleteQuestion,this).attach(this._oElement["qDelete"],
"click");if(this._oElement["qModify"])this._wEvent["qModify"]=$Fn(this._modifyQuestion,this).attach(this._oElement["qModify"],
"click");if(this._oElement["showMoreAttentionButton"])this._wEvent["showMoreAttentionButton"]=$Fn(this._onClickShowMoreAttentionButton,
this).attach(this._oElement["showMoreAttentionButton"],"click");if(this._oElement["aMenus"]&&this._oElement["aMenus"].length>
0)this._wEvent["aMenus"]=$Fn(this._onClickAnswerMenu,this).attach(this._oElement["aMenus"],"click");if(this._oElement["aSelect"]&&
this._oElement["aSelect"].length>0)this._wEvent["aSelect"]=$Fn(this._onClickAnswerSelectButton,this).attach(this._oElement["aSelect"],
"click");if(this._oElement["folderModuleToggleBtn"]&&this._oElement["folderModuleToggleBtn"].length>0)this._wEvent["folderModuleToggleBtn"]=
$Fn(this._onClickFolderModuleToggleBtn,this).attach(this._oElement["folderModuleToggleBtn"],"click");
if(this._oElement["qClose"])this._wEvent["qClose"]=$Fn(this._onClickSelectMenu,this).attach(this._oElement["qClose"],
"click");if(this._oElement["kinFriendAnswerBtn"])this._wEvent["kinFriendAnswerBtn"]=$Fn(this._onClickKinFriendAnswerBtn,
this).attach(this._oElement["kinFriendAnswerBtn"],"click");if(this._oElement["suicideCounselingToDoctor"])this._wEvent["suicideCounselingToDoctor"]=
$Fn(this._suicideCounselingToDoctor,this).attach(this._oElement["suicideCounselingToDoctor"],"click");
if(this._oElement["answerListToggle"])this._wEvent["answerListToggle"]=$Fn(this._onClickAnswerListToggle,
this).attach(this._oElement["answerListToggle"],"click");if(this._oElement["answerOptionButton"])this._wEvent["answerOptionButton"]=
$Fn(this._onClickAnswerOptionButton,this).attach(this._oElement["answerOptionButton"],"click");if(this._oElement["answerSortingArea"])this._wEvent["answerSortingArea"]=
$Fn(this._onClickAnswerSortingArea,this).attach(this._oElement["answerSortingArea"],"click");if(this._oElement["answerFilteringArea"])this._wEvent["answerFilteringArea"]=
$Fn(this._onClickAnswerFilteringArea,this).attach(this._oElement["answerFilteringArea"],"click");if(this._wElement["moreButton"])this._wEvent["moreButton"]=
$Fn(this._onClickMoreButton,this).attach(this._wElement["moreButton"].$value(),"click");if(this._oElement["sourceLink"])this._wEvent["sourceLink"]=
$Fn(this._onClickSourceLink,this).attach(this._oElement["sourceLink"],"click")},
_onClickMoreButton:function(we){this._getNormalAnswerListAjax();we.stop()},
_onClickSourceLink:function(we){nclk(we.element,"eda.origin","","")},
_getNormalAnswerListAjax:function(){if(this._oNormalAnswerListAjax&&!this._oNormalAnswerListAjax.isIdle())return;
var oParam={m:"answerList",dirId:this._oOption.dirId,docId:this._oOption.docId,isOnlyOpenAnswer:this._bIsOnlyOpenAnswer,
isOnlyBusinessAnswer:this._bIsOnlyBusinessAnswer,start:(this._nPage-1)*this._nCountPerPage,display:this._nCountPerPage,
sort:this._oOption.sort};var oOption={method:"get",timeout:5,onload:$Fn(this._onGetNormalAnswerListAjax,
this).bind(),ontimeout:$Fn(function(){if(this._oNormalAnswerListAjax&&!this._oNormalAnswerListAjax.isIdle())this._oNormalAnswerListAjax.abort();
alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){if(this._oNormalAnswerListAjax&&!this._oNormalAnswerListAjax.isIdle())this._oNormalAnswerListAjax.abort();
alert(nhn.Kin.oMessage.ERROR)},this).bind()};
this._oNormalAnswerListAjax=new $Ajax(this.MORE_AJAX_URL,oOption);this._oNormalAnswerListAjax.request(oParam)},
_onClickAnswerOptionButton:function(we){if(this.bIsLegendQna){we.stop();return}var el=we.element;if(el.tagName.toLowerCase()===
"i")el=el.parentNode;var wEl=$Element(el);we.stopDefault();nclk(el,"eda.option","","");var bIsOpenOptionLayer=
wEl.attr("aria-expanded")==="true";if(bIsOpenOptionLayer){wEl.removeClass("is_active");wEl.attr("aria-expanded",
false);this._wElement["answerOptionArea"].css("display","none")}else{wEl.addClass("is_active");wEl.attr("aria-expanded",
true);this._wElement["answerOptionArea"].css("display","block")}},
_onClickAnswerSortingArea:function(we){if(this.bIsLegendQna){we.stop();return}var el=we.element;if(el.tagName.toLowerCase()!==
"a"){we.stop();return}we.stopDefault();var wEl=$Element(el);var sort="default";if(wEl.hasClass("_kinupSorting")){nclk(el,
"eda.optiongood","","");sort="kinup"}else if(wEl.hasClass("_rtimeSorting")){nclk(el,"eda.optiondate",
"","");sort="rtime"}else nclk(el,"eda.optionbas","","");location.href=this.DETAIL_URL+"?dirId\x3d"+this._oOption.dirId+
"\x26docId\x3d"+this._oOption.docId+"\x26sort\x3d"+sort+"\x26isOnlyOpenAnswer\x3d"+this._bIsOnlyOpenAnswer+
"\x26isOnlyBusinessAnswer\x3d"+this._bIsOnlyBusinessAnswer},
_onClickAnswerFilteringArea:function(we){if(this.bIsLegendQna){we.stop();return}var el=we.element;if(el.tagName.toLowerCase()!==
"a"){we.stop();return}we.stopDefault();var wEl=$Element(el);if(wEl.hasClass("_isOnlyOpenAnswer")){nclk(el,
"eda.optionopen","","");this._bIsOnlyOpenAnswer=wEl.attr("aria-selected")==="false";this._setAnswerOptionActive(wEl,
this._bIsOnlyOpenAnswer);if(this._bIsOnlyOpenAnswer){this._setAnswerOptionActive(this._wElement["allAnswerFilter"],
false);if(this._bIsOnlyBusinessAnswer){this._setAnswerOptionActive(this._wElement["onlyBusinessAnswerFilter"],
false);this._bIsOnlyBusinessAnswer=false}}}else if(wEl.hasClass("_isOnlyBusinessAnswer")){nclk(el,"eda.optionbiz",
"","");this._bIsOnlyBusinessAnswer=wEl.attr("aria-selected")==="false";this._setAnswerOptionActive(wEl,
this._bIsOnlyBusinessAnswer);if(this._bIsOnlyBusinessAnswer){this._setAnswerOptionActive(this._wElement["allAnswerFilter"],
false);if(this._bIsOnlyOpenAnswer){this._setAnswerOptionActive(this._wElement["onlyOpenAnswerFilter"],
false);this._bIsOnlyOpenAnswer=false}}}else if(wEl.hasClass("_allAnswer")){nclk(el,"eda.optionall","",
"");this._setAnswerOptionActive(wEl,true);if(this._bIsOnlyOpenAnswer)this._setAnswerOptionActive(this._wElement["onlyOpenAnswerFilter"],
false);if(this._bIsOnlyBusinessAnswer)this._setAnswerOptionActive(this._wElement["onlyBusinessAnswerFilter"],
false);this._bIsOnlyOpenAnswer=this._bIsOnlyBusinessAnswer=false}if(!this._bIsOnlyOpenAnswer&&!this._bIsOnlyBusinessAnswer)this._setAnswerOptionActive(this._wElement["allAnswerFilter"],
true);this._doAnswerFilter()},
_setAnswerOptionActive:function(wEl,bChangeState){if(!wEl||typeof bChangeState==="undefined")return;if(bChangeState){wEl.addClass("is_active");
wEl.attr("aria-selected",true)}else if(!bChangeState){wEl.removeClass("is_active");wEl.attr("aria-selected",
false)}},
_doAnswerFilter:function(){this._setBestAnswerAndExpertAnswerByFilteringOption();this._removeNormalAnswerList();
this._removeNoAnswerText();if(this._wElement["moreContainer"])this._wElement["moreContainer"].hide();
this._nPage=1;this._nCurrentCount=this._nBestAnswerAndExpertAnswerCountByFilteringOption;this._nTotalCount=
this._nBestAnswerAndExpertAnswerCountByFilteringOption;this._getNormalAnswerListAjax()},
_setBestAnswerAndExpertAnswerByFilteringOption:function(){if(!this._bIsOnlyOpenAnswer&&!this._bIsOnlyBusinessAnswer){if(this._oElement["bestAnswer"])$ElementList(this._oElement["bestAnswer"]).show();
if(this._oElement["expertAnswer"])$ElementList(this._oElement["expertAnswer"]).show();this._nBestAnswerAndExpertAnswerCountByFilteringOption=
this._nBestAnswerCount+this._nExpertAnswerCount}else if(this._bIsOnlyBusinessAnswer){if(this._oElement["bestAnswer"]){$ElementList(this._oElement["bestAnswer"]).hide();
if(this._oElement["bestBusinessAnswer"])$ElementList(this._oElement["bestBusinessAnswer"]).show()}if(this._oElement["expertAnswer"])$ElementList(this._oElement["expertAnswer"]).hide();
this._nBestAnswerAndExpertAnswerCountByFilteringOption=this._nBestBusinessAnswerCount}else{if(this._oElement["bestAnswer"]){$ElementList(this._oElement["bestAnswer"]).hide();
if(this._oElement["bestOpenAnswer"])$ElementList(this._oElement["bestOpenAnswer"]).show()}if(this._oElement["expertAnswer"])$ElementList(this._oElement["expertAnswer"]).show();
this._nBestAnswerAndExpertAnswerCountByFilteringOption=this._nBestOpenAnswerCount+this._nExpertAnswerCount}},
_initializeFolderModule:function(oElFolderModuleBtn){oElFolderModuleBtn=oElFolderModuleBtn||$$("div._answer div._folderModule a._folderModuleToggleBtn",
this._oElement["endArea"]);if(!oElFolderModuleBtn)return;var sAnswerFolderModuleExpandedList=nhn.Kin.SessionStorage.getItem(nhn.Kin.SessionStorage.KEY.MOBILEWEB_ANSWER_FOLDER_MODULE_EXPANDED_LIST);
if(!sAnswerFolderModuleExpandedList)return;if(oElFolderModuleBtn instanceof Array)for(var i=0,len=oElFolderModuleBtn.length;i<
len;i++)this._checkAndExpandFolderModule(oElFolderModuleBtn[i],sAnswerFolderModuleExpandedList);else if(oElFolderModuleBtn instanceof
Object&&oElFolderModuleBtn.nodeType===Node.ELEMENT_NODE)this._checkAndExpandFolderModule(oElFolderModuleBtn,
sAnswerFolderModuleExpandedList)},
_checkAndExpandFolderModule:function(oElFolderModuleBtn,sAnswerFolderModuleExpandedList){if(!oElFolderModuleBtn||
!sAnswerFolderModuleExpandedList)return;var wElFolderModuleBtn=$Element(oElFolderModuleBtn);var aElParents=
wElFolderModuleBtn.parent(function(wElCurrent){return wElCurrent.hasClass("_folderModule")},2);
if(!aElParents||aElParents.length<1)return;var wElFolderModule=aElParents[0];var sOnClassName=wElFolderModule.attr("data-on-class")||
"";var nAnswerNo=wElFolderModule.attr("data-answer-no")||0;var sCurrentAnswerKey=";"+(this._oOption.docId||
0)+"_"+nAnswerNo+";";if(sAnswerFolderModuleExpandedList.indexOf(sCurrentAnswerKey)>=0){wElFolderModule.addClass(sOnClassName);
wElFolderModuleBtn.text(wElFolderModuleBtn.attr("data-on-text"));wElFolderModuleBtn.attr("aria-expanded",
"true")}},
setLoading:function(){this._oLoading=new jindo.m.Loading(null,{nWidth:30,nHeight:30,sDefaultForeground:"#999",
bUseFoggy:false,sLoadingText:""})},
initializeForResponsiveWeb:function(){this._setEventForResponsiveWeb()},
_setDirectoryPath:function(){if(!this._oElement["directoryLink"])return;var nLength=this._oElement["directoryLink"].length;
if(nLength<2)return;var aWElList=[];for(var i=0;i<nLength;i++)aWElList[i]=$Element(this._oElement["directoryLink"][i]);
var wElParentDirectoryPath=aWElList[0];var wElCurrentDirectoryPath=aWElList[1];var nDirectoryPathAreaWidth=
wElParentDirectoryPath.parent().width();if(nDirectoryPathAreaWidth>wElParentDirectoryPath.width()+wElCurrentDirectoryPath.width())for(var i=
0;i<nLength;i++)aWElList[i].css("max-width","");else{var sParentDirectoryPathMinWidth=wElParentDirectoryPath.css("min-width");
if(!sParentDirectoryPathMinWidth)return;var nParentDirectoryPathMinWidth=parseInt(sParentDirectoryPathMinWidth.replace("px",
""),10);if(nDirectoryPathAreaWidth-nParentDirectoryPathMinWidth<wElCurrentDirectoryPath.width()){wElParentDirectoryPath.css("max-width",
nParentDirectoryPathMinWidth-2+"px");wElCurrentDirectoryPath.css("max-width",nDirectoryPathAreaWidth-
nParentDirectoryPathMinWidth+"px")}else{wElParentDirectoryPath.css("max-width",nDirectoryPathAreaWidth-
wElCurrentDirectoryPath.width()-2+"px");wElCurrentDirectoryPath.css("max-width",wElCurrentDirectoryPath.width()+
"px")}}},
_setEventForResponsiveWeb:function(){if(nhn.Kin.OS.ios||nhn.Kin.OS.android){var sResizeEventType="onorientationchange"in
window?"orientationchange":"resize";this._wEvent[sResizeEventType]=$Fn(this._onResizeWindow,this).attach(window,
sResizeEventType)}else this._wEvent["resize"]=$Fn(this._onResizeWindow,this).attach(window,"resize");
this._wEvent["pageshow"]=$Fn(this._onResizeWindow,this).attach(window,"pageshow")},
_onClickAnswerListToggle:function(we){var oToggleBtn=we.currentElement;var wToggleBtn=$Element(oToggleBtn);
var wOpenBtn=$Element($$.getSingle("._open",oToggleBtn));var wCloseBtn=$Element($$.getSingle("._close",
oToggleBtn));var wAnswerList=$ElementList($$("._answer._normal",this._oElement["endArea"]));var wMoreBtn=
$Element("moreContainer");if(wToggleBtn)if(wToggleBtn.hasClass("_closed")){wToggleBtn.removeClass("_closed");
nclk(oToggleBtn,"eda.unfold","","")}else{wToggleBtn.addClass("_closed");nclk(oToggleBtn,"eda.fold","",
"")}if(wOpenBtn)wOpenBtn.toggle();if(wCloseBtn)wCloseBtn.toggle();if(wMoreBtn)wMoreBtn.toggle();if(wAnswerList)wAnswerList.toggle()},
_onResizeWindow:function(we){var bIsBlurred=false;var oFocussedInput=$$.getSingle("input:focus");if(oFocussedInput){oFocussedInput.blur();
bIsBlurred=true}var oFocussedTextArea=$$.getSingle("textarea:focus");if(oFocussedTextArea){oFocussedTextArea.blur();
bIsBlurred=true}if(bIsBlurred){if(this._oResizeTimeout)clearTimeout(this._oResizeTimeout);this._oResizeTimeout=
setTimeout($Fn(function(){this._changeLandcapeMode()},this).bind(),300)}else this._changeLandcapeMode();
setTimeout($Fn(function(){this._setDirectoryPath()},this).bind(),0)},
_changeLandcapeMode:function(){var bIsLandscapeMode=nhn.Kin.getScreenType()==="TABLET_LANDSCAPE";if(this._oOption.layerMode===
"question"&&bIsLandscapeMode){this.hideRightScrollArea();return}if(this._bIsLandscapeMode===bIsLandscapeMode){this.refreshScrollArea();
if(this._oDetailQuestionList)this._oDetailQuestionList._changeFlickingHeight();return}nhn.Kin.scrollToPosition(0,
0);this._bIsLandscapeMode=bIsLandscapeMode;if(!this._bIsLandscapeMode){this._detachScrollEvent();this._reloadDAScript(true)}else if(this._oDetailQuestionList){this._oDetailQuestionList.detachFlicking();
this._reloadDAScript(false)}if(this._oDetailQuestionList){this._oDetailQuestionList.bIsLandscape=bIsLandscapeMode;
this._oDetailQuestionList.initSearchSortArea();this._oDetailQuestionList.initFlickingAjaxData()}},
_loadDAScript:function(){if(typeof loadDaScript!=="function")return;if(this._oOption.scrollType==="overflow"&&
this._bIsLandscapeMode){var oContentDiv=this._wElement["endContentsArea"].$value();window.contentDiv=
oContentDiv;window.da_scroll_target={"targetEl":oContentDiv}}else{window.contentDiv=null;if(typeof window.da_scroll_target!==
"undefined")window.da_scroll_target=undefined}loadDaScript()},
_reloadDAScript:function(bIsBlockWhenDaNotLoaded){if(typeof reloadDaScript!=="function")return;var wDaElement=
$Element("da_kin");if(!wDaElement)return;if(!window.wElDaScript&&bIsBlockWhenDaNotLoaded)return;if(this._oOption.scrollType===
"overflow"&&this._bIsLandscapeMode){var oContentDiv=this._wElement["endContentsArea"].$value();window.contentDiv=
oContentDiv;window.da_scroll_target={"targetEl":oContentDiv}}else{window.contentDiv=null;if(typeof window.da_scroll_target!==
"undefined")window.da_scroll_target=undefined}reloadDaScript()},
showRightScrollArea:function(){this._wElement["leftArea"].css("width","70%");this._wElement["rightArea"].css("width",
"30%");this._wElement["rightArea"].show()},
hideRightScrollArea:function(){this._wElement["rightArea"].hide();this._wElement["rightArea"].css("width",
"0%");this._wElement["leftArea"].css("width","100%")},
resetScrollEvent:function(){if(this._oOption.scrollType==="overflow"){var nContentsScrollHeight=$Document(document).clientSize().height-
this._wElement["headerArea"].height();var wBodyElement=$Element($$.getSingle("body"));if(jindo.m.getBrowserInfo().safari)wBodyElement.css("-webkit-font-smoothing",
"antialiased");this._wElement["endContentsArea"].height(nContentsScrollHeight);this._wElement["endContentsArea"].css({"overflow-y":"auto",
"-webkit-overflow-scrolling":"touch"});var aChildOfEndContentsArea=this._wElement["endContentsArea"].child();
if(aChildOfEndContentsArea)for(var i=0,len=aChildOfEndContentsArea.length;i<len;i++)aChildOfEndContentsArea[i].css("-webkit-transform",
"translateZ(0)");this._wElement["endContentsArea"].addClass("_contentsScrollArea");var wElLandscapeList=
$Element("landscapeList");wElLandscapeList.height(nContentsScrollHeight-$Element("landscapeListTitle").height());
wElLandscapeList.css({"overflow-y":"auto","-webkit-overflow-scrolling":"touch"});var aChildOfLandscapeList=
wElLandscapeList.child();if(aChildOfLandscapeList)for(var i=0,len=aChildOfLandscapeList.length;i<len;i++)aChildOfLandscapeList[i].css("-webkit-transform",
"translateZ(0)")}},
refreshScrollArea:function(){if(this._oOption.scrollType==="overflow"&&this._bIsLandscapeMode){var bIsAndroid=
nhn.Kin.OS.android;var nListScrollHeight=$Document(document).clientSize().height-this._wElement["headerArea"].height()-
$Element("landscapeListTitle").height();if(this._wElement["endContentsArea"]){if(bIsAndroid)this._wElement["endContentsArea"].css({"overflow":"hidden"});
this._wElement["endContentsArea"].height(nListScrollHeight+$Element("landscapeListTitle").height());if(bIsAndroid)this._wElement["endContentsArea"].css({"overflow":"auto"})}var wElLandscapeList=
$Element("landscapeList");if(wElLandscapeList){if(bIsAndroid)wElLandscapeList.css({"overflow":"hidden"});
wElLandscapeList.height(nListScrollHeight);if(bIsAndroid)wElLandscapeList.css({"overflow":"auto"})}}},
_detachScrollEvent:function(){if(this._oOption.scrollType==="overflow"){this._wElement["endContentsArea"].css({"height":"auto",
"-webkit-overflow-scrolling":"auto"});this._wElement["endContentsArea"].attr("style","");this._wElement["endContentsArea"].removeClass("_contentsScrollArea");
var wElLandscapeList=$Element("landscapeList");wElLandscapeList.css({"height":"auto","-webkit-overflow-scrolling":"auto"});
wElLandscapeList.attr("style","")}},
_setMapEvent:function(){this._oElement["endMapButtons"]=$$("a._mapAppLinkButton",this._oElement["endArea"]);
if(this._oElement["endMapButtons"])this._wEvent["endMapButtons"]=$Fn(this._onClickMapButton,this).attach(this._oElement["endMapButtons"],
"click")},
_onClickMapButton:function(we){var thisElement=we.element;if(/^span$/i.test(thisElement.tagName))thisElement=
thisElement.parentNode;var aParams=nhn.Kin.extractParams(thisElement);if(!aParams||aParams.length<4){we.stop();
return}var sTitle=aParams[3];if(sTitle){sTitle=decodeURIComponent(sTitle.split("+").join(" "));if(sTitle.length>
30)sTitle=sTitle.slice(0,30)}var nLatitude=aParams[0];var nLongitude=aParams[1];nhn.Kin.linkToNaverMap(sTitle,
nLatitude,nLongitude);we.stop()},
_generateMaps:function(){if(this._oElement["questionMapArea"]){var questionMapCount=this._oElement["questionMapArea"].length;
for(var i=0;i<questionMapCount;i++)this._generateMapDivision(this._oElement["questionMapArea"][i],"question")}if(this._oElement["answerMapArea"]){var answerMapCount=
this._oElement["answerMapArea"].length;for(var i=0;i<answerMapCount;i++)this._generateMapDivision(this._oElement["answerMapArea"][i],
"answer")}this._setMapEvent()},
_generateMapDivision:function(el,mapType){var wel=$Element(el);var aParams=nhn.Kin.extractParams(el);
if(!aParams||aParams.length<7||!wel)return;var sMapId=aParams[0];var nLatitude=aParams[1];var nLongitude=
aParams[2];var nPoiId=aParams[3];var sEncodedTitle=aParams[4];var sTitle=decodeURIComponent(sEncodedTitle.split("+").join(" "));
var sEncodedAddress=aParams[5];var sAddress=decodeURIComponent(sEncodedAddress.split("+").join(" "));
var sEncodeCenter=encodeURIComponent(nLongitude+","+nLatitude);var sStaticMapUrl="http://"+aParams[6]+
"/image?version\x3d1.1\x26crs\x3dEPSG:4326\x26center\x3d"+sEncodeCenter+"\x26level\x3d10\x26w\x3d400\x26h\x3d200\x26baselayer\x3ddefault\x26markers\x3d"+
sEncodeCenter;var bIsTextType=aParams[7]==="Y";var sNclicksMap=mapType==="question"?"edq.map":"eda.map";
var template=bIsTextType?this._wTemplate["mapTextTpl"]:this._wTemplate["mapTpl"];if(mapType==="question")sTitle=
sTitle||"\uad81\uae08\ud55c \uc704\uce58";if(template){wel.appendHTML(template.process({mapId:sMapId,
latitude:nLatitude,longitude:nLongitude,poiId:nPoiId,title:sTitle,address:sAddress,encodedTitle:sEncodedTitle,
encodedAddress:sEncodedAddress,staticMapUrl:sStaticMapUrl,nclicksMap:sNclicksMap}));wel.removeClass("map_area")}},
_generateKinIAnswerContents:function(){if(!this._wTemplate["kinIAnswerTpl"])return;var aElKinIAnswer=
$$("div._kinIAnswer",this._oElement["endArea"]);if(!aElKinIAnswer)return;var nLength=aElKinIAnswer.length;
var bIsNeedToLazyLoadImage=false;for(var i=0;i<nLength;i++){$Element(aElKinIAnswer[i]).removeClass("_kinIAnswer");
var elEndContentsText=$$.getSingle("div._kinIContents",aElKinIAnswer[i]);if(!elEndContentsText)continue;
var welEndContentsText=$Element(elEndContentsText);var elSourceLink=$$.getSingle("a._sourceLink",aElKinIAnswer[i]);
var sKinIAnswerType=welEndContentsText.attr("data-kini-answer-type")||"KIN";var oParam={"kinIAnswerType":sKinIAnswerType,
"linkUrl":elSourceLink?elSourceLink.text||"":""};var aWelChild=welEndContentsText.child();if(!aWelChild)continue;
var nChildLength=aWelChild.length;for(var j=0;j<nChildLength;j++){var sType=aWelChild[j].attr("data-type");
if(!sType)continue;if(aWelChild[j].attr("data-value"))oParam[sType]=decodeURIComponent(aWelChild[j].attr("data-value"));
else oParam[sType]=aWelChild[j].html()}if(sKinIAnswerType==="DELIVERY"&&oParam["moreUrl"])oParam["moreUrl"]=
$S(oParam["moreUrl"]).stripTags().toString();else if(sKinIAnswerType==="SBI"){if(oParam["imageUrl"])oParam["imageUrl"]=
$S(oParam["imageUrl"]).stripTags().toString();if(oParam["link"])oParam["link"]=$S(oParam["link"]).stripTags().toString();
if(oParam["fields"])oParam["fields"]=nhn.Kin.getObjectFromJSONString(oParam["fields"])}else if(sKinIAnswerType===
"SHOPPING"){if(oParam["moreUrl"])oParam["moreUrl"]=$S(oParam["moreUrl"]).stripTags().toString();if(oParam["recommendShoppingProductVOList"]){oParam["recommendShoppingProductVOList"]=
JSON.parse($S(oParam["recommendShoppingProductVOList"]).stripTags().toString());if(oParam["recommendShoppingProductVOList"])for(var j=
0;j<oParam["recommendShoppingProductVOList"].length;j++)oParam["recommendShoppingProductVOList"][j].mobilePrice=
nhn.Kin.getNumberWithComma(oParam["recommendShoppingProductVOList"][j].mobilePrice)}}welEndContentsText.html(this._wTemplate["kinIAnswerTpl"].process(oParam));
if(!bIsNeedToLazyLoadImage&&oParam["image"]&&oParam["image"].indexOf("invisibleImg")>=0)bIsNeedToLazyLoadImage=
true;var elKinIHelpOpenBtn=$$.getSingle("a._kinIHelpOpenBtn",aElKinIAnswer[i]);var elKinIHelpCloseBtn=
$$.getSingle("button._kinIHelpCloseBtn",aElKinIAnswer[i]);var elKinIHelpLayer=$$.getSingle("div._kinIHelpLayer",
aElKinIAnswer[i]);if(elKinIHelpOpenBtn&&elKinIHelpLayer){this._wKinIHelpEvent[this._wKinIHelpEvent.length]=
{"element":elKinIHelpOpenBtn,"action":"click","event":$Fn(this._onClickKinIHelpOpenBtn,this).attach(elKinIHelpOpenBtn,
"click")};this._wKinIHelpEvent[this._wKinIHelpEvent.length]={"element":elKinIHelpCloseBtn,"action":"click",
"event":$Fn(this._onClickKinIHelpCloseBtn,this).attach(elKinIHelpCloseBtn,"click")}}}if(bIsNeedToLazyLoadImage)this._fireLazyLoadAllImagesEvent()},
_onGetNormalAnswerListAjax:function(oResponse){if(!oResponse)return;var oResult=oResponse.json();if(!oResult)return;
var nAnswerCount=oResult.lists?oResult.lists.length:0;this._nCurrentCount+=nAnswerCount;if(this._nPage===
1){this._nTotalCount+=oResult.totalCount||0;this._setTotalAnswerCount();if(this._nTotalCount<1)this._appendNoAnswerText();
else{this._appendNormalAnswerList(oResult);this._setMoreButton(nAnswerCount);this._nPage++}}else{var bIsLastPage=
this._nPage===Math.ceil(this._nTotalCount/this._nCountPerPage);if(bIsLastPage&&this._nTotalCount!==this._nCurrentCount){this._nTotalCount=
this._nCurrentCount;this._setTotalAnswerCount()}this._appendNormalAnswerList(oResult);this._setMoreButton(nAnswerCount);
this._nPage++}},
_setTotalAnswerCount:function(){if(this._oElement["answerCnt"])$Element(this._oElement["answerCnt"]).html(this._nTotalCount)},
_appendNoAnswerText:function(){if(!this._wElement["normalAnswerAppendPosition"]||!this._wTemplate["noMoreList"])return;
this._wElement["normalAnswerAppendPosition"].beforeHTML(this._wTemplate["noMoreList"].process({isOnlyBusinessAnswer:this._bIsOnlyBusinessAnswer,
isOnlyOpenAnswer:this._bIsOnlyOpenAnswer}))},
_removeNoAnswerText:function(){var wElNoMoreList=$Element("noMoreList");if(wElNoMoreList)wElNoMoreList.leave()},
_setMoreButton:function(nAnswerCount){if(!this._wElement["moreContainer"])return;if(nAnswerCount<this._nCountPerPage)this._showLastMoreBtn(this._nCurrentCount);
else if(this._nTotalCount<=this._nCurrentCount)this._showLastMoreBtn(this._nTotalCount);else this._showMoreBtn()},
_showMoreBtn:function(){var nNextCount=this._nTotalCount-this._nCurrentCount>this._nCountPerPage?this._nCountPerPage:
this._nTotalCount-this._nCurrentCount;if(this._wElement["moreButton"]){if(this._wElement["nextCountOfMoreButton"])this._wElement["nextCountOfMoreButton"].html(nNextCount);
if(this._wElement["currentCountOfMoreButton"])this._wElement["currentCountOfMoreButton"].html(this._nCurrentCount);
if(this._wElement["totalCountOfMoreButton"])this._wElement["totalCountOfMoreButton"].html(this._nTotalCount);
this._wElement["moreButton"].css("display","block")}if(this._wElement["lastMoreButton"])this._wElement["lastMoreButton"].css("display",
"none");if(this._wElement["moreContainer"])this._wElement["moreContainer"].show()},
_showLastMoreBtn:function(nTotalCount){if(this._nPage===1)return;if(this._wElement["moreButton"])this._wElement["moreButton"].css("display",
"none");if(this._wElement["lastMoreButton"]){if(this._wElement["currentCountOfLastMoreButton"])this._wElement["currentCountOfLastMoreButton"].html(nTotalCount);
if(this._wElement["totalCountOfLastMoreButton"])this._wElement["totalCountOfLastMoreButton"].html(nTotalCount);
this._wElement["lastMoreButton"].css("display","block")}if(this._wElement["moreContainer"])this._wElement["moreContainer"].show()},
_appendNormalAnswerList:function(oResult){if(!oResult||!oResult.lists||!this._wElement["normalAnswerAppendPosition"])return;
var aElementIds=[];var sHtml="";var list=oResult.lists;var bIsContainsMovie=false;var i,len=list.length;
for(i=0;i<len;i++){var answer=list[i];var bIsMyAnswer=oResult.isLogin&&answer.equalLoginUser||false;aElementIds[i]=
"answer_"+answer.answerNo;var sState=answer.state;if(sState==="BLIND"||sState==="DELETE"||sState==="WAIT"){var sAnswerTitle=
"";var sAnswerSubTitle=null;if(sState==="BLIND"){sAnswerTitle="\ubd88\ub7c9 \ub610\ub294 \uc2a4\ud338 \uc758\uc2ec \uac8c\uc2dc\ubb3c\ub85c \uac80\ucd9c\ub418\uc5b4 \uc5f4\ub78c\uc774 \uc81c\ud55c\ub41c \ub2f5\ubcc0\uc785\ub2c8\ub2e4.";
sAnswerSubTitle="\uc62c\ubc14\ub978 \uc815\ubcf4\uacf5\uc720\ub97c \uc704\ud55c \uc870\uce58\uc774\ubbc0\ub85c \uc591\ud574 \ubd80\ud0c1\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4."}else if(sState===
"DELETE")sAnswerTitle=answer.deletedByWriter?"\uc791\uc131\uc790\uac00 \uc9c1\uc811 \uc0ad\uc81c\ud55c \ub2f5\ubcc0\uc785\ub2c8\ub2e4.":
"\uc0ac\uc6a9\uc790 \uc2e0\uace0\ub97c \ubc1b\uace0, \uc6b4\uc601\uc6d0\uce59\uc5d0 \ub530\ub77c \uc0ad\uc81c\ub41c \ub2f5\ubcc0\uc785\ub2c8\ub2e4.";
else if(sState==="WAIT"){sAnswerTitle="\uc2e0\ub8b0\uc788\ub294 \uc804\ubb38\uac00 \ub2f5\ubcc0\uc774 \uc791\uc131\uc911\uc785\ub2c8\ub2e4.";
sAnswerSubTitle="\uc2b9\uc778\ub41c \uc774\ud6c4 \ud655\uc778\ud560 \uc218 \uc788\uc73c\uba70, \ub2f5\ubcc0\ub0b4\uc6a9\uc5d0 \ub530\ub77c \uc2dc\uac04\uc774 \uac78\ub9b4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}sHtml+=
$Template("moreListTplBlindDeleteWait").process({modifyTime:answer.formattedModifyTime,answerNo:answer.answerNo,
title:sAnswerTitle,subTitle:sAnswerSubTitle})}else if(sState==="INOTISTOP")sHtml+=$Template("moreListTplInotiStop").process({modifyTime:answer.formattedModifyTime,
answerNo:answer.answerNo,isWriter:bIsMyAnswer,title:answer.title,inotiType:answer.inotiType,inotiReasonDesc:answer.inotiReasonDesc,
inotiRequester:answer.inotiRequester,inotiRequestTime:answer.inotiRequestTime});else{var bHasAttachedFile=
answer.attachedFileInfos||false;var aFileList=bHasAttachedFile?answer.attachedFileInfos.split("|"):null;
if(aFileList){var nLengthOfFileList=aFileList.length;for(var j=0;j<nLengthOfFileList;j++){var sFileInfo=
aFileList[j];aFileList[j]=sFileInfo.split(":")}}var aEncodedTagList=[];var aTagList=answer.tagList||null;
if(aTagList){var nLengthOfTagList=aTagList.length;for(var j=0;j<nLengthOfTagList;j++){var sTag=aTagList[j];
if(!sTag)continue;aEncodedTagList.push(encodeURIComponent(sTag))}}var oNamecard=answer.namecard;if(oNamecard&&
oNamecard.userActiveDirs){oNamecard.userActiveDirsStr=this._makeUserActiveDirString(oNamecard.userActiveDirs);
var sAnswererLicenseName="";if(oNamecard.answererLicenseNameDisplayYn==="Y")sAnswererLicenseName=" "+
oNamecard.licenseName;oNamecard.answererLicenseName=sAnswererLicenseName}if(answer.movieInfos)bIsContainsMovie=
true;var bIsQuestionOwner=this._oOption.isQuestionOwner||false;var bIsShowUserBlockBtn=bIsQuestionOwner&&
answer.viewState==="NORMAL"&&answer.blockableUserId;var bIsOpen=answer.openFlag==="Y";sHtml+=this._wTemplate["moreList"].process({dirId:answer.dirId,
docId:answer.docId,gdId:this._oOption.gdId,contents:answer.contents,modifyTime:answer.formattedModifyTime,
answerNo:answer.answerNo,commentCnt:answer.commentCnt,kinupPoint:answer.kinupPoint,reportAvailable:answer.reportAvailable,
deleteAvailable:answer.deleteAvailable,selectable:answer.selectable,modifiable:answer.modifiable,thankable:answer.thankable||
false,isOpen:bIsOpen,isQuestionOwner:bIsQuestionOwner,isMyAnswer:bIsMyAnswer,isSpecialDirectory:oResult.isSpecialDirectory,
isNotAllowDirectory:oResult.isNotAllowDirectory,isDaesunArticle:oResult.isDaesunArticle,isLocal:nhn.Kin.getD1Id(answer.dirId)==
12,isFromKinApp:answer.inputDevice=="KIN_APP",isFromKinApp2:answer.inputDevice=="KIN_APP2",inputDevice:answer.inputDevice,
hasAttachedFile:bHasAttachedFile,fileList:aFileList,allAttachedFileCopyrightOrMalicios:answer.allAttachedFileCopyrightOrMalicios,
isCompletedQuestion:this._oOption.isCompletedQuestion||"N",namecard:oNamecard||{namecardType:"NONE"},
tagList:aTagList,encodedTagListStr:aEncodedTagList.toString(),isBusinessPartner:answer.businessPartner,
asMessage:answer.asMessage,asUpdateTime:answer.formattedAsUpdateTime,thanksMessage:answer.thanksMessage,
isExpertDirectory:oResult.isExpertDirectory,volunteerAnswer:answer.volunteerAnswer,isArticleOpen:this._oOption.isArticleOpen||
false,source:answer.source,isLowQualityAnswerByToobad:answer.lowQualityAnswerByToobad||false,isLowQualityAnswerByLikead:answer.lowQualityAnswerByLikead||
false,kinIOriginAnswer:answer.kinIOriginAnswer||false,kinIAnswer:answer.kinIAnswer||false,kinIAnswerType:answer.kinIAnswerType||
"KIN",viewState:answer.viewState,isMyFriend:answer.myFriend,isShowUserBlockBtn:bIsShowUserBlockBtn,isContainsAdditionalQna:answer.containsAdditionalQna,
questionHasUserBestAnswer:this._oOption.hasUserBestAnswer===true,additionalAnswererUserText:!oNamecard||
!oNamecard.namecardType||oNamecard.namecardType==="NONE"?"\ub2f5\ubcc0\uc790":oNamecard.userText})}}this._wElement["normalAnswerAppendPosition"].beforeHTML(sHtml);
this._generateKinIAnswerContents();if(oResult&&oResult.hasMyAnswerOnThisPage)this._wElement["qUserBlockBtn"].visible(true,
"inline-block");this._oElement["answerMapArea"]=$$("div.map_area",this._oElement["endArea"]);this._generateMaps();
this._fireLazyLoadAllImagesEvent();this.refreshScrollArea();if(bIsContainsMovie)this._fireLoadAdditionalVideoEvent();
var aElAddedHashtagHighlightingContentsList=[];var aElAddedShowProfileList=[];var aElAddedTableAreaList=
[];var aElAddedCodeHighlightingBlockList=[];for(var i=0,len=aElementIds.length;i<len;i++){var oAnswerElement=
$(aElementIds[i]);var oAnswerMenuElement=$$.getSingle("div._answerBottomMenu",oAnswerElement);if(oAnswerMenuElement)this._wAdditionalEvent[this._wAdditionalEvent.length]=
{"element":oAnswerMenuElement,"action":"click","event":$Fn(this._onClickAnswerMenu,this).attach(oAnswerMenuElement,
"click")};var oAnswerSelectButtonElement=$$.getSingle("a._selectAnswer",oAnswerElement);if(oAnswerSelectButtonElement)this._wAdditionalEvent[this._wAdditionalEvent.length]=
{"element":oAnswerSelectButtonElement,"action":"click","event":$Fn(this._onClickAnswerSelectButton,this).attach(oAnswerSelectButtonElement,
"click")};var oFolderModuleToggleBtn=$$.getSingle("div._folderModule a._folderModuleToggleBtn",oAnswerElement);
if(oFolderModuleToggleBtn){this._wAdditionalEvent[this._wAdditionalEvent.length]={"element":oFolderModuleToggleBtn,
"action":"click","event":$Fn(this._onClickFolderModuleToggleBtn,this).attach(oFolderModuleToggleBtn,"click")};
this._initializeFolderModule(oFolderModuleToggleBtn)}var oSourceLink=$$.getSingle("a._sourceLink",oAnswerElement);
if(oSourceLink)this._wAdditionalEvent[this._wAdditionalEvent.length]={"element":oSourceLink,"action":"click",
"event":$Fn(this._onClickSourceLink,this).attach(oSourceLink,"click")};var aElShowProfileList=$$("a._showProfile",
oAnswerElement);if(aElShowProfileList&&aElShowProfileList.length>0)aElAddedShowProfileList=aElAddedShowProfileList.concat(aElShowProfileList);
var elHashtagHighlightingContents=$$.getSingle("div._hashtagHighlightingContents",oAnswerElement);if(elHashtagHighlightingContents)aElAddedHashtagHighlightingContentsList.push(elHashtagHighlightingContents);
var aElTableAreaList=$$("div._tableAreaForMobile",oAnswerElement);if(aElTableAreaList&&aElTableAreaList.length>
0)aElAddedTableAreaList=aElAddedTableAreaList.concat(aElTableAreaList);var aElCodeHighlightingBlockList=
$$("div.src_hglt",oAnswerElement);if(aElCodeHighlightingBlockList&&aElCodeHighlightingBlockList.length>
0)aElAddedCodeHighlightingBlockList=aElAddedCodeHighlightingBlockList.concat(aElCodeHighlightingBlockList)}this._fireRefreshAdditionalQnaListEvent();
if(aElAddedShowProfileList&&aElAddedShowProfileList.length>0)this._fireAddShowProfileElementEvent(aElAddedShowProfileList);
if(aElAddedHashtagHighlightingContentsList&&aElAddedHashtagHighlightingContentsList.length>0)this._fireAddHashtagHighlightingContentsEvent(aElAddedHashtagHighlightingContentsList);
if(aElAddedTableAreaList&&aElAddedTableAreaList.length>0)this._fireAddTableAreaEvent(aElAddedTableAreaList);
if(aElAddedCodeHighlightingBlockList&&aElAddedCodeHighlightingBlockList.length>0)this._fireAddCodeHighlightingBlockEvent(aElAddedCodeHighlightingBlockList);
this._fireInitializeBusinessPartnerAreaEvent();this._fireInitializeProfileAnimationAreaEvent();this._fireInitializeFriendAndBlockBtnEvent();
this._fireRefreshSocialPluginEvent();this._fireRefreshKinILinkedAnswerListAreaEvent();lcs_do()},
_removeNormalAnswerList:function(){var wNormalAnswerAnchorList=$ElementList($$("._normalAnswerAnchor",
this._oElement["endArea"]));if(wNormalAnswerAnchorList)wNormalAnswerAnchorList.leave();var wNormalAnswerList=
$ElementList($$("._answer._normal",this._oElement["endArea"]));if(wNormalAnswerList)wNormalAnswerList.leave()},
_makeUserActiveDirString:function(aUserActiveDirs){if(!aUserActiveDirs)return"";var sUserActiveDirs="";
var nUserActiveDirCount=aUserActiveDirs.length;for(var i=0;i<nUserActiveDirCount;i++)sUserActiveDirs+=
(aUserActiveDirs[i].dirName||"").split(", ").join(",");return sUserActiveDirs},
_fireLazyLoadAllImagesEvent:function(){var oLazyLoadAllImagesEvent=document.createEvent("Event");oLazyLoadAllImagesEvent.initEvent("lazyLoadAllImages",
true,true);document.dispatchEvent(oLazyLoadAllImagesEvent)},
_fireInitializeFriendAndBlockBtnEvent:function(){var oFriendAndBlockBtnEvent=document.createEvent("Event");
oFriendAndBlockBtnEvent.initEvent("initializeFriendAndBlockBtn",true,true);document.dispatchEvent(oFriendAndBlockBtnEvent)},
_fireRefreshSocialPluginEvent:function(){var eRefreshSocialPluginEvent=document.createEvent("Event");
eRefreshSocialPluginEvent.initEvent("refreshSocialPlugIn",true,true);document.dispatchEvent(eRefreshSocialPluginEvent)},
_fireLoadAdditionalVideoEvent:function(){var eLoadAdditionalVideoEvent=document.createEvent("Event");
eLoadAdditionalVideoEvent.initEvent("loadAdditionalVideo",false,true);document.dispatchEvent(eLoadAdditionalVideoEvent)},
_fireAddShowProfileElementEvent:function(aElAddedShowProfileList){var eAddShowProfileElementEvent=document.createEvent("Event");
eAddShowProfileElementEvent.initEvent("addShowProfileElement",true,true);eAddShowProfileElementEvent["addedShowProfileElementList"]=
aElAddedShowProfileList;document.dispatchEvent(eAddShowProfileElementEvent)},
_fireAddHashtagHighlightingContentsEvent:function(aElAddedHashtagHighlightingContentsList){var eAddHashtagHighlightingContentsEvent=
document.createEvent("Event");eAddHashtagHighlightingContentsEvent.initEvent("addHashtagHighlightingContents",
true,true);eAddHashtagHighlightingContentsEvent["addedHashtagHighlightingContentsList"]=aElAddedHashtagHighlightingContentsList;
document.dispatchEvent(eAddHashtagHighlightingContentsEvent)},
_fireAddTableAreaEvent:function(aElAddedTableAreaList){var eAddTableAreaEvent=document.createEvent("Event");
eAddTableAreaEvent.initEvent("addTableArea",true,true);eAddTableAreaEvent["addedTableAreaList"]=aElAddedTableAreaList;
document.dispatchEvent(eAddTableAreaEvent)},
_fireAddCodeHighlightingBlockEvent:function(aElAddedCodeHighlightingBlockList){var eAddCodeHighlightingBlockEvent=
document.createEvent("Event");eAddCodeHighlightingBlockEvent.initEvent("addCodeHighlightingBlock",true,
true);eAddCodeHighlightingBlockEvent["addedCodeHighlightingBlockList"]=aElAddedCodeHighlightingBlockList;
document.dispatchEvent(eAddCodeHighlightingBlockEvent)},
_fireInitializeBusinessPartnerAreaEvent:function(){var eInitializeBusinessPartnerAreaEvent=document.createEvent("Event");
eInitializeBusinessPartnerAreaEvent.initEvent("initializeBusinessPartnerArea",true,true);document.dispatchEvent(eInitializeBusinessPartnerAreaEvent)},
_fireRefreshKinILinkedAnswerListAreaEvent:function(){var eRefreshKinILinkedAnswerListAreaEvent=document.createEvent("Event");
eRefreshKinILinkedAnswerListAreaEvent.initEvent("refreshKinILinkedAnswerListArea",true,true);document.dispatchEvent(eRefreshKinILinkedAnswerListAreaEvent)},
_fireInitializeProfileAnimationAreaEvent:function(){var eInitializeProfileAnimationAreaEvent=document.createEvent("Event");
eInitializeProfileAnimationAreaEvent.initEvent("initializeProfileAnimationArea",true,true);document.dispatchEvent(eInitializeProfileAnimationAreaEvent)},
_fireRefreshAdditionalQnaListEvent:function(){var eRefreshAdditionalQnaListEvent=document.createEvent("Event");
eRefreshAdditionalQnaListEvent.initEvent("refreshAdditionalQnaList",true,true);document.dispatchEvent(eRefreshAdditionalQnaListEvent)},
cutString:function(sStr,nLimit){nLimit=nLimit||10;return sStr.length>nLimit?sStr.substring(0,nLimit-1)+
"..":sStr},
_initDetailQuestionList:function(){if(!this._oOption.flicking){this._loadDAScript();return}this._oDetailQuestionList=
new DetailQuestionList({type:this._oOption.flicking.type,searchFlag:this._oOption.flicking.searchFlag||
"NONE",dirId:this._oOption.dirId,docId:this._oOption.docId,keyword:this._oOption.flicking.keyword,queryTime:this._oOption.flicking.queryTime,
sort:this._oOption.flicking.sort==3?3:1,rank:this._oOption.flicking.rank||0,viewQuery:this._oOption.flicking.viewQuery||
null,section:this._oOption.flicking.section||null,badgeEventNo:this._oOption.flicking.badgeEventNo,isLandscape:this._bIsLandscapeMode,
fnSetScroll:$Fn(this.resetScrollEvent,this).bind(),fnHideScrollArea:$Fn(this.hideRightScrollArea,this).bind(),
fnLoadDaSCript:$Fn(this._loadDAScript,this).bind(),guestId:this._oOption.flicking.guestId||null,legendQnaIndex:this._oOption.legendQnaIndex||
-1,sortType:this._oOption.sortType})},
_onClickKinIHelpOpenBtn:function(oEvent){var wEl=$Element(oEvent.element);var wElParent=wEl.parent(function(v){return v.hasClass("_answer")});
if(!wElParent||wElParent.length!==1)return;var elKinIHelpOpenBtn=$$.getSingle("a._kinIHelpOpenBtn",wElParent[0].$value());
var elKinIHelpLayer=$$.getSingle("div._kinIHelpLayer",wElParent[0].$value());if(elKinIHelpOpenBtn&&elKinIHelpLayer){$Element(elKinIHelpOpenBtn).toggleClass("pressed");
$Element(elKinIHelpLayer).toggleClass("is-show")}},
_onClickKinIHelpCloseBtn:function(oEvent){var wEl=$Element(oEvent.element);var wElParent=wEl.parent(function(v){return v.hasClass("_answer")});
if(!wElParent||wElParent.length!==1)return;var elKinIHelpOpenBtn=$$.getSingle("a._kinIHelpOpenBtn",wElParent[0].$value());
var elKinIHelpLayer=$$.getSingle("div._kinIHelpLayer",wElParent[0].$value());if(elKinIHelpOpenBtn&&elKinIHelpLayer){$Element(elKinIHelpOpenBtn).removeClass("pressed");
$Element(elKinIHelpLayer).removeClass("is-show")}},
_onClickQuestionMenuButton:function(oEvent){if(!this._wElement["questionMenuLayer"])return;this._wElement["questionMenuLayer"].toggle();
oEvent.stop()},
_onClickOuterQuestionMenuButton:function(oEvent){if(!this._wElement["questionMenuLayer"]||this._wElement["questionMenuLayer"].visible()===
false)return;var wEl=$Element(oEvent.element);var wElQuestionMenuArea=wEl.parent(function(wElCurrent){return wElCurrent.$value().id===
"questionMenuArea"},5);
if(wElQuestionMenuArea&&wElQuestionMenuArea.length>0)return;this._wElement["questionMenuLayer"].hide()},
_onClickQuestionMenuLayer:function(oEvent){var wEl=$Element(oEvent.element);if(/^(?:i|span)$/i.test(wEl.$value().tagName))wEl=
wEl.parent();if(!/^(?:button|a)$/i.test(wEl.$value().tagName)){oEvent.stop();return}if(wEl.hasClass("_changeFont")){if(wEl.hasClass("is_disabled")===
false){this._wElement["questionMenuChangeFontBtn"].removeClass("is_disabled");wEl.addClass("is_disabled");
if(wEl.hasClass("_bigFont")){this._wElement["questionMenuPreviewFont"].addClass("is_zoomed");$Element(this._oElement["endArea"]).addClass("end_lgf")}else{this._wElement["questionMenuPreviewFont"].removeClass("is_zoomed");
$Element(this._oElement["endArea"]).removeClass("end_lgf")}}oEvent.stop()}else if(wEl.hasClass("_writeQuestion"))this._goQuestionWrite(oEvent)},
_onClickTopMenu:function(oEvent){var el=oEvent.element;if(el.tagName.toLowerCase()!=="a")return;var wel=
$Element(el);if(wel.hasClass("_prev"))this._goPrev(oEvent);else if(wel.hasClass("_writeQuestion"))this._goQuestionWrite(oEvent)},
_onClickAnswerMenu:function(oEvent){var el=oEvent.element;var wel=$Element(el);var wReactionModuleEl=
wel.parent(function(v){return v.hasClass("_reactionModule")},5);
if(wReactionModuleEl&&wReactionModuleEl.length>0)return;if(/^(?:em|i|strong|span)$/i.test(el.tagName)){el=
el.parentNode;wel=$Element(el)}if(!/^(?:button|a)$/i.test(el.tagName)){oEvent.stop();return}if(wel.hasClass("_comment"))this._goComment(oEvent,
el);else if(wel.hasClass("_adelete"))this._deleteAnswer(oEvent,el);else if(wel.hasClass("_amodify"))this._modifyAnswer(oEvent,
el);else if(wel.hasClass("_report"))this._report(oEvent,el);else if(wel.hasClass("_thanksMessage"))this._thanksMessage(oEvent,
el)},
_onClickAnswerSelectButton:function(oEvent){if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin(true,
this.MESSAGE["LOGIN"])){oEvent.stop();return}var oEl=oEvent.element;if(/^i$/i.test(oEl.tagName))oEl=oEl.parentNode;
var aParams=nhn.Kin.extractParams(oEl);if(!aParams||aParams.length<1){oEvent.stop();return}var sRedirectUrl=
this.SELECTANSWER_URL+"?dirId\x3d"+this._oOption.dirId+"\x26docId\x3d"+this._oOption.docId+"\x26answerNo\x3d"+
aParams[0];var nClicksParams=nhn.Kin.extractNclicksParams(oEl);if(nClicksParams&&nClicksParams[0])nclkF(nClicksParams[0],
"","",function(){location.href=sRedirectUrl});
else location.href=sRedirectUrl;oEvent.stop()},
_onClickFolderModuleToggleBtn:function(oEvent){var wEl=$Element(oEvent.element);var aElParents=wEl.parent(function(wElCurrent){return wElCurrent.hasClass("_folderModule")},
2);
if(!aElParents||aElParents.length<1){oEvent.stop($Event.CANCEL_DEFAULT);return}var wElFolderModule=aElParents[0];
var sOnClassName=wElFolderModule.attr("data-on-class")||"";var nAnswerNo=wElFolderModule.attr("data-answer-no")||
0;var sNClicksCode=null;if(wElFolderModule.hasClass(sOnClassName)){sNClicksCode=wEl.attr("data-on-nclicks-code");
wElFolderModule.removeClass(sOnClassName);wEl.text(wEl.attr("data-off-text"));wEl.attr("aria-expanded",
"false");this._saveFolderModuleStatusToSessionStorage(this._oOption.docId,nAnswerNo,false)}else{sNClicksCode=
wEl.attr("data-off-nclicks-code");wElFolderModule.addClass(sOnClassName);wEl.text(wEl.attr("data-on-text"));
wEl.attr("aria-expanded","true");this._saveFolderModuleStatusToSessionStorage(this._oOption.docId,nAnswerNo,
true)}if(sNClicksCode)nclk(wEl.$value(),sNClicksCode,"","");oEvent.stop($Event.CANCEL_DEFAULT)},
_saveFolderModuleStatusToSessionStorage:function(nDocId,nAnswerNo,bIsExpanded){var sCurrentAnswerKey=
";"+nDocId+"_"+nAnswerNo+";";var sAnswerFolderModuleExpandedList=nhn.Kin.SessionStorage.getItem(nhn.Kin.SessionStorage.KEY.MOBILEWEB_ANSWER_FOLDER_MODULE_EXPANDED_LIST)||
";";sAnswerFolderModuleExpandedList=sAnswerFolderModuleExpandedList.split(sCurrentAnswerKey).join(";");
if(bIsExpanded){sAnswerFolderModuleExpandedList=sCurrentAnswerKey+sAnswerFolderModuleExpandedList.substring(1);
if(sAnswerFolderModuleExpandedList.length>this._MAX_LENGTH_OF_FOLDER_MODULE_SESSION_STORAGE){var nIndexForCutting=
sAnswerFolderModuleExpandedList.indexOf(";",this._MAX_LENGTH_OF_FOLDER_MODULE_SESSION_STORAGE-100);if(nIndexForCutting>=
0)sAnswerFolderModuleExpandedList=sAnswerFolderModuleExpandedList.substring(0,nIndexForCutting+1)}}setTimeout($Fn(function(sAnswerFolderModuleExpandedList){nhn.Kin.SessionStorage.setItem(nhn.Kin.SessionStorage.KEY.MOBILEWEB_ANSWER_FOLDER_MODULE_EXPANDED_LIST,
sAnswerFolderModuleExpandedList)},this).bind(sAnswerFolderModuleExpandedList),0)},
_onClickShowMoreAttentionButton:function(oEvent){var wEl=$Element(oEvent.element);if(/^i$/i.test(wEl.$value().tagName))wEl=
wEl.parent();var wHiddenText=$Element($$.getSingle("i._hiddenText",wEl.$value()));if(wEl.hasClass("on")){wEl.removeClass("on");
wHiddenText.html("\ub0b4\uc6a9 \ub354\ubcf4\uae30 \uc5f4\uae30")}else{wEl.addClass("on");wHiddenText.html("\ub0b4\uc6a9 \ub354\ubcf4\uae30 \ub2eb\uae30")}oEvent.stop()},
_onClickSelectMenu:function(oEvent){var el=oEvent.currentElement;var wel=$Element(el);if(wel.hasClass("_closeQuestion"))this._closeQuestion(oEvent,
el)},
_reportQuestion:function(oEvent){if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin(true)){oEvent.stop();
return}var sRedirectUrl=mobileKinServiceProtocol+"://"+location.host+"/mobile/qna/report.nhn?dirId\x3d"+
this._oOption.dirId+"\x26docId\x3d"+this._oOption.docId;if(this._oOption.mdu)sRedirectUrl+="\x26mdu\x3d"+
this._oOption.mdu;var nClicksParams=nhn.Kin.extractNclicksParams(oEvent.element);if(nClicksParams&&nClicksParams[0])nclkR(nClicksParams[0],
"","",sRedirectUrl);else location.href=sRedirectUrl;oEvent.stop()},
_deleteQuestion:function(oEvent){if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin(true)){oEvent.stop();
return}if(confirm(this.MESSAGE["QUESTION_DELETE"])){var oParam={m:"deleteQuestion",dirId:this._oOption.dirId,
docId:this._oOption.docId,ts:(new Date).getTime()};var oOption={method:"post",timeout:5,onload:function(response){var result=
response.json();if(result.isSuccess)location.replace("/mobile/mykin/myQnaList.nhn");else alert(result.errorMsg||
"\uc9c8\ubb38\uc744 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub098\uc911\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")},
ontimeout:$Fn(function(){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oAjax=new $Ajax(this.DELETEQUESTION_AJAX_URL,oOption);oAjax.request(oParam)}oEvent.stop()},
_modifyQuestion:function(oEvent){nclk(oEvent.element,"edq.modify","","");if(nhn.Kin.checkRos()){oEvent.stop();
return false}if(!nhn.Kin.checkLogin(true)){oEvent.stop();return false}if(this._oOption.dividedQuestion&&
!confirm(this.MESSAGE.DIVIDED_QUESTION_MODIFY_CONFIRM)){oEvent.stop();return}var wEl=$Element(oEvent.element);
var bModifyQuestion=true;if(wEl.hasClass("_write_pc"))bModifyQuestion=confirm(this.MESSAGE["MODIFY_ARTICLE_WRITE_PC"]);
if(bModifyQuestion){var dirId=this._oOption.dirId;var docId=this._oOption.docId;var sMdu=this._oOption.mdu||
"";setTimeout(function(){window.location.href="/mobile/qna/questionModify.nhn?dirId\x3d"+dirId+"\x26docId\x3d"+
docId+"\x26mdu\x3d"+sMdu},30)}oEvent.stop()},
_deleteAnswer:function(oEvent,el){el=el||oEvent.element;if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin(true)){oEvent.stop();
return}var aParams=nhn.Kin.extractParams(el);if(!aParams||aParams.length<1){alert(nhn.Kin.oMessage.ERROR);
oEvent.stop();return}var bIsMyAnswer=aParams.length>1?aParams[1]==="Y":false;if(confirm(this.MESSAGE[bIsMyAnswer?
"ANSWER_DELETE_BY_ANSWERER":"ANSWER_DELETE"])){var oParam={m:"deleteAnswer",dirId:this._oOption.dirId,
docId:this._oOption.docId,answerNo:aParams[0],lUrl:document.referrer||location.href,ts:(new Date).getTime()};
var oOption={method:"post",timeout:5,onload:function(response){var result=response.json();if(result.isSuccess)location.reload()},
ontimeout:$Fn(function(){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oAjax=new $Ajax(this.DELETEANSWER_AJAX_URL,oOption);oAjax.request(oParam)}oEvent.stop()},
_modifyAnswer:function(we){var wEl=$Element(we.element);var bModifyAnswer=true;if(wEl.hasClass("_write_app")){var aParams=
nhn.Kin.extractParams(we.element);var wAnswerDiv=$Element("answer_"+aParams[0]);var isOutSvc=wAnswerDiv.queryAll("[name\x3dinfopopup]").length>
0;if(isOutSvc)bModifyAnswer=confirm(this.MESSAGE["MODIFY_ARTICLE_WRITE_APP"])}else if(wEl.hasClass("_write_pc"))bModifyAnswer=
confirm(this.MESSAGE["MODIFY_ARTICLE_WRITE_PC"]);if(bModifyAnswer){var aParams=nhn.Kin.extractParams(we.element);
if(aParams){var url="/mobile/qna/answerModify.nhn?dirId\x3d"+this._oOption.dirId+"\x26docId\x3d"+this._oOption.docId+
"\x26answerNo\x3d"+aParams[0];if(this._oOption.mdu)url+="\x26mdu\x3d"+this._oOption.mdu;setTimeout(function(){location.href=
url},100)}}we.stop()},
_report:function(oEvent,el){if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin(true)){oEvent.stop();
return}var aParams=nhn.Kin.extractParams(el);if(aParams){var url="/mobile/qna/report.nhn?dirId\x3d"+this._oOption.dirId+
"\x26docId\x3d"+this._oOption.docId+"\x26answerNo\x3d"+aParams[0];if(this._oOption.mdu)url+="\x26mdu\x3d"+
this._oOption.mdu;setTimeout(function(){location.href=url},30)}oEvent.stop()},
_thanksMessage:function(oEvent,el){if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin(true)){oEvent.stop();
return}var nAnswerNo=$Element(el).attr("data-answer-no");if(nAnswerNo){var nDocId=this._oOption.docId;
var sThanksMessageClick=nhn.Kin.LocalStorage.getItem(nhn.Kin.LocalStorage.KEY.MOBILEWEB_END_THANKS_MESSAGE_CLICKED);
if(!sThanksMessageClick)nhn.Kin.LocalStorage.setItem(nhn.Kin.LocalStorage.KEY.MOBILEWEB_END_THANKS_MESSAGE_CLICKED,
nDocId);else{var aThanksMessage=sThanksMessageClick.split(";");if(aThanksMessage&&aThanksMessage.length==
1&&nDocId!=aThanksMessage[0]){sThanksMessageClick=sThanksMessageClick+";"+nDocId;nhn.Kin.LocalStorage.setItem(nhn.Kin.LocalStorage.KEY.MOBILEWEB_END_THANKS_MESSAGE_CLICKED,
sThanksMessageClick)}}var url="/mobile/qna/thanksMessage.nhn?dirId\x3d"+this._oOption.dirId+"\x26docId\x3d"+
nDocId+"\x26answerNo\x3d"+nAnswerNo;setTimeout(function(){location.href=url},30)}oEvent.stop()},
_goComment:function(oEvent,el){el=el||oEvent.element;var nAnswerNo=0,nCommentCnt=0;var aParams=nhn.Kin.extractParams(el);
if(aParams){nAnswerNo=aParams[0];nCommentCnt=aParams[1]}if(nCommentCnt>0){var url="/mobile/comment/list.nhn"+
"?svc\x3d"+this._oOption.svc+"\x26dirId\x3d"+this._oOption.dirId+"\x26docId\x3d"+this._oOption.docId+
"\x26answerNo\x3d"+nAnswerNo+"\x26returnURL\x3d"+encodeURIComponent(location.href);if(this._oOption.mdu)url+=
"\x26mdu\x3d"+this._oOption.mdu;setTimeout(function(){location.href=url},30)}else{if(nhn.Kin.checkRos()){oEvent.stop();
return}if(!nhn.Kin.checkLogin(true)){oEvent.stop();return}var url="/mobile/comment/commentForm.nhn"+"?svc\x3d"+
this._oOption.svc+"\x26dirId\x3d"+this._oOption.dirId+"\x26docId\x3d"+this._oOption.docId+"\x26answerNo\x3d"+
nAnswerNo+"\x26returnURL\x3d"+encodeURIComponent(location.href);if(this._oOption.mdu)url+="\x26mdu\x3d"+
this._oOption.mdu;setTimeout(function(){location.href=url},30)}oEvent.stop()},
_goQuestionWrite:function(oEvent){if(nhn.Kin.checkRos()){oEvent.stop();return false}},
_goPrev:function(oEvent){setTimeout(function(){history.back()},100);
oEvent.stop()},
_addInterestDir:function(oEvent){if(nhn.Kin.checkRos()){oEvent.stop();return}var bIsLocalDir=nhn.Kin.getD1Id(this._oOption.dirId)===
12;if(!nhn.Kin.checkLogin(true,bIsLocalDir?this.MESSAGE["INTEREST_LOCAL_LOGIN"]:this.MESSAGE["INTEREST_LOGIN"])){oEvent.stop();
return}var el=oEvent.element;var oParam={m:"check",resultMode:"json",dirId:this._oOption.dirId,ts:(new Date).getTime()};
var oOption={method:"post",timeout:5,onload:$Fn(function(el,response){var result=response.json();if(!result)alert(bIsLocalDir?
this.MESSAGE["INTEREST_LOCAL_DEFAULT"]:this.MESSAGE["INTEREST_DEFAULT"]);else if(result.errorMsg)alert(result.errorMsg);
else if(confirm(bIsLocalDir?this.MESSAGE["INTEREST_LOCAL_CONFIRM"]:this.MESSAGE["INTEREST_CONFIRM"])){var oParam=
{m:"add",resultMode:"json",dirId:this._oOption.dirId,ts:(new Date).getTime()};var oOption={method:"post",
timeout:5,onload:$Fn(this._afterCallAddInterestDir,this).bind(el),ontimeout:$Fn(function(){alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oAjax=new $Ajax(this.INTERESTDIR_AJAX_URL,oOption);oAjax.request(oParam)}},this).bind(el),
ontimeout:$Fn(function(){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oAjax=new $Ajax(this.INTERESTDIR_AJAX_URL,oOption);oAjax.request(oParam);oEvent.stop()},
_afterCallAddInterestDir:function(el,response){var bIsLocalDir=nhn.Kin.getD1Id(this._oOption.dirId)===
12;var result=response.json();if(result.isSuccess){alert(bIsLocalDir?this.MESSAGE["INTEREST_LOCAL_SUCCESS"]:
this.MESSAGE["INTEREST_SUCCESS"]);$Element(this._oElement["addInterestDir"]).hide()}else if(result.errorMsg)alert(result.errorMsg);
else alert(bIsLocalDir?this.MESSAGE["INTEREST_LOCAL_DEFAULT"]:this.MESSAGE["INTEREST_DEFAULT"])},
_closeQuestion:function(oEvent,el){if(nhn.Kin.checkRos()){oEvent.stop();return}if(!nhn.Kin.checkLogin()){oEvent.stop();
return}el=el||oEvent.currentElement;if(confirm("\ub2f5\ubcc0\ucc44\ud0dd\ud558\uc9c0 \uc54a\uace0 \uc9c8\ubb38\uc744 \ub9c8\uac10\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\n\ub9c8\uac10\ub418\uba74 \ub354 \uc774\uc0c1 \ub2f5\ubcc0\uc744 \ubc1b\uc9c0 \ubabb\ud569\ub2c8\ub2e4.")){var oParam=
{resultMode:"json",dirId:this._oOption.dirId,docId:this._oOption.docId,ts:(new Date).getTime()};var oOption=
{method:"post",timeout:5,onload:$Fn(function(response){var result=response.json();nhn.Kin.setBingoCompleteLayerToCookie(result);
if(result.isSuccess)location.reload();else if(result.errorMsg)alert(result.errorMsg)},this).bind(),
ontimeout:$Fn(function(){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oAjax=new $Ajax(this.CLOSEQUESTION_AJAX_URL,oOption);oAjax.request(oParam)}oEvent.stop()},
_suicideCounselingToDoctor:function(we){if(nhn.Kin.checkRos())return false;var oParam={type:"expert",
expertType:"doctor",ts:(new Date).getTime()};var oOption={method:"post",timeout:5,onload:$Fn(function(oResponse){var oJson=
oResponse.json();if(oJson&&(oJson.isSuccess||oJson.errorMsg=="NOT_LOGIN"))location.href="/mobile/qna/question.nhn?expertType\x3ddoctor\x26dirId\x3d70109\x26isIgnoreMsgForExpert\x3dtrue";
else alert(oJson.errorMsg)},this).bind(),
ontimeout:$Fn(function(){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oAjax=new $Ajax("/mobile/ajax/isQuestionWritable.nhn",oOption);oAjax.request(oParam);we.stop()},
_onClickKinFriendAnswerBtn:function(oEvent){oEvent.stop();if(window.oAnswerRegister)window.oAnswerRegister.initAnswer(true)},
_initToast:function(){if(typeof Toast==="undefined")return;this._oToast=new Toast({toastClassName:"._toast"});
if(this._oToast)this._oToast.initialize()},
_toast:function(sMsg){if(this._oToast)this._oToast.show(sMsg);else alert(sMsg)},
_initPagingInfo:function(){if(this._oOption.pagingInfo){this._nPage=this._oOption.pagingInfo.page;this._nCountPerPage=
this._oOption.pagingInfo.countPerPage;this._nCurrentCount=this._oOption.pagingInfo.currentCount;this._nTotalCount=
this._oOption.pagingInfo.totalCount}},
destroy:function(){if(this._oDetailQuestionList)this._oDetailQuestionList.destroy();if(this._wEvent){this._wEvent["topMenu"].detach(this._oElement["topMenu"],
"click");if(this._wEvent["suicideCounselingToDoctor"])this._wEvent["suicideCounselingToDoctor"].detach(this._oElement["suicideCounselingToDoctor"],
"click");if(this._wEvent["showMoreAttentionButton"])this._wEvent["showMoreAttentionButton"].detach(this._oElement["showMoreAttentionButton"],
"click");if(this._wEvent["orientationchange"])this._wEvent["orientationchange"].detach(window,"orientationchange");
if(this._wEvent["resize"])this._wEvent["resize"].detach(window,"resize");if(this._wEvent["pageshow"])this._wEvent["pageshow"].detach(window,
"pageshow");if(this._wEvent["aMenus"])this._wEvent["aMenus"].detach(this._oElement["aMenus"],"click");
if(this._wEvent["folderModuleToggleBtn"])this._wEvent["folderModuleToggleBtn"].detach(this._oElement["folderModuleToggleBtn"],
"click");if(this._wEvent["answerFilteringArea"])this._wEvent["answerFilteringArea"].detach(this._oElement["answerFilteringArea"],
"click");if(this._wEvent["moreButton"])this._wEvent["moreButton"].detach(this._wElement["moreButton"].$value(),
"click");if(this._wAdditionalEvent)for(var i=0,len=this._wAdditionalEvent.length;i<len;i++){var wEvent=
this._wAdditionalEvent[i];if(wEvent)wEvent.event.detach(wEvent.element,wEvent.action)}if(this._wKinIHelpEvent)for(var i=
0,len=this._wKinIHelpEvent.length;i<len;i++){var wEvent=this._wKinIHelpEvent[i];if(wEvent)wEvent.event.detach(wEvent.element,
wEvent.action)}}this._oElement=this._wElement=this._wEvent=this._wTemplate=null;this._oOption=this._oDetailQuestionList=
this._oNormalAnswerListAjax=null;this._oTouch=this._MSG=this._MAX_LENGTH_OF_FOLDER_MODULE_SESSION_STORAGE=
null}});
var DetailAdContext=$Class({AD_CONTEXT_URL:"/mobile/ajax/getAdContext.nhn",_wElement:null,_wTemplate:null,
_oOption:null,_oAjax:null,_qb:null,$init:function(htOption){this._oOption=htOption;this._wElement={};
this._wTemplate={};this._setElement();$Fn(this._getAdContext,this).attach(window,"load")},
_setElement:function(){this._wElement["adContextArea"]=$Element("adContextMobile");if(this._wElement["adContextArea"]){this._wElement["title"]=
$Element($$.getSingle("h4._adContextTitle",this._wElement["adContextArea"].$value()));this._wElement["list"]=
$Element($$.getSingle("div._adContextList",this._wElement["adContextArea"].$value()))}this._wTemplate["adcontextList"]=
$Template("adcontext_tpl")},
_getAdContext:function(){if(!this._wElement["list"])return;var oParam={"dirId":this._oOption.dirId,"docId":this._oOption.docId,
"qb":this._oOption.qb,"ts":(new Date).getTime(),"updateTime":this._oOption.updateTime};var oOption={onload:$Fn(this._onResponse,
this).bind(),method:"get",timeout:8,ontimeout:function(){},
onerror:function(){},
async:true};this._oAjax=new $Ajax(this.AD_CONTEXT_URL,oOption);this._oAjax.request(oParam)},
_onResponse:function(response){var oResponse=response.json();if(!oResponse.isSuccess){this._wElement["adContextArea"].leave();
return}this._wElement["adContextArea"].show();var result={};for(var i=0;i<oResponse.totalCount;i++){result[i]=
oResponse.result[i];result[i].phone=result[i].phone=="null"?"":result[i].phone;result[i].telLink=result[i].telLink==
"null"?"":result[i].telLink;result[i].telUrl=result[i].telUrl=="null"?"":result[i].telUrl}var template=
this._wTemplate["adcontextList"].process({"adContextResult":oResponse.result});this._wElement["list"].empty();
this._wElement["list"].appendHTML(template)},
cutString:function(sStr,nLimit){nLimit=nLimit||10;return sStr.length>nLimit?sStr.substring(0,nLimit-1)+
"..":sStr},
destroy:function(){this._oOption=this._wTemplate=this._oAjax=this._qb=this._wElement=null}});
var DetailAdditionalQna=$Class({_oElement:null,_wElement:null,_wEvent:null,_wAdditionalEvent:null,_wTemplate:null,
_oOption:null,_oScrollEvent:null,_oLoading:null,_bIsLandscapeMode:false,_wElLastClickedQuestionBtn:null,
_bIsProcessing:false,_oPwFilter:null,_oInputEventTimeout:null,_oAjax:null,_oAdditionalQnaListAjax:null,
_MINIMUM_LENGTH_OF_CONTENTS:5,_MAXIMUM_LENGTH_OF_CONTENTS:1E3,_MAX_COUNT_OF_ADDITIONAL_QUESTION:2,_PWFILTER_SCRIPT:"m.PwFilter.js",
_MESSAGE:{SHORT_CONTENTS:"\ubcf8\ubb38\uc744 5\uc790 \uc774\uc0c1 \uc785\ub825\ud574\uc8fc\uc138\uc694.",
WAIT_FOR_PROCESSING:"\uc9c4\ud589\uc911\uc778 \uc791\uc5c5\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",
WAIT_FOR_LOADING:"\ud398\uc774\uc9c0\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",
FAIL_BY_UNKNOWN_REASON:"\uc608\uae30\uce58 \uc54a\uc740 \uc624\ub958\ub85c \uc791\uc5c5\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",
QUESTION_DELETE:"\uc9c8\ubb38\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uc0ad\uc81c \uc2dc \uc9c8\ubb38\ub4f1\ub85d\uc73c\ub85c \ud68d\ub4dd\ud588\ub358 \ub0b4\uacf5\uc774 \ud68c\uc218\ub429\ub2c8\ub2e4.",
ANSWER_DELETE:"\ub2f5\ubcc0\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uc0ad\uc81c \uc2dc \ub2f5\ubcc0\ub4f1\ub85d\uc73c\ub85c \ud68d\ub4dd\ud588\ub358 \ub0b4\uacf5\uc774 \ud68c\uc218\ub429\ub2c8\ub2e4.",
INVALID_PARAMETER:"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud30c\ub77c\ubbf8\ud130\uc785\ub2c8\ub2e4.",
EXCEED_CONTENTS_LENGTH:"\ubcf8\ubb38\uc740 \ucd5c\ub300 1000\uc790\uae4c\uc9c0\ub9cc \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."},
_URL:{INIT_ADDITIONAL_QUESTION:"/mobile/ajax/initAdditionalQuestionAjax.nhn",REGISTER_ADDITIONAL_QUESTION:"/mobile/qna/registerAdditionalQuestionAjax.nhn",
INIT_MODIFY_ADDITIONAL_QUESTION:"/mobile/ajax/initAdditionalQuestionModifyAjax.nhn",MODIFY_ADDITIONAL_QUESTION:"/mobile/qna/modifyAdditionalQuestionAjax.nhn",
INIT_ADDITIONAL_ANSWER:"/mobile/ajax/initAdditionalAnswerAjax.nhn",REGISTER_ADDITIONAL_ANSWER:"/mobile/qna/registerAdditionalAnswerAjax.nhn",
INIT_MODIFY_ADDITIONAL_ANSWER:"/mobile/ajax/initAdditionalAnswerModifyAjax.nhn",MODIFY_ADDITIONAL_ANSWER:"/mobile/qna/modifyAdditionalAnswerAjax.nhn",
ADDITIONAL_QNA_LIST:"/mobile/ajax/getAdditionalQnaListAjax.nhn",DELETE_QUESTION:"/mobile/ajax/deleteQuestion.nhn",
DELETE_ANSWER:"/mobile/ajax/deleteAnswer.nhn",SELECT_ANSWER:"/mobile/ajax/selectAnswerAjax.nhn"},$init:function(htOption){this._oOption=
htOption||{};this._oAjax={};this._oAdditionalQnaListAjax={};this._bIsLandscapeMode=nhn.Kin.getScreenType()===
"TABLET_LANDSCAPE";this._setElement();this._setEvent();this._setLoading();$Fn(this.destroy,this).attach(window,
"unload")},
_setElement:function(){this._oElement={};this._oElement["endArea"]=$("endArea");this._oElement["additionalQnaList"]=
$$("div._additionalQnaList",this._oElement["endArea"]);this._refreshAnswerListWaitingForLoadAdditonalQna();
this._wElement={};this._wElement["additionalQnaGuideLayer"]=$Element("additionalQnaGuideLayer");this._wElement["additionalQnaGuideLayerUserText"]=
$Element($$.getSingle("em._userText",this._wElement["additionalQnaGuideLayer"].$value()));this._wElement["additionalQnaGuideLayerInnerBox"]=
$Element($$.getSingle("div._layer",this._wElement["additionalQnaGuideLayer"].$value()));this._wElement["PWLayerArea"]=
$Element("prohibited_words_layer_area");this._wTemplate={};this._wTemplate["additionalQuestionWriteFormTpl"]=
$Template("additionalQuestionWriteFormTpl");this._wTemplate["additionalQuestionModifyFormTpl"]=$Template("additionalQuestionModifyFormTpl");
this._wTemplate["additionalAnswerWriteFormTpl"]=$Template("additionalAnswerWriteFormTpl");this._wTemplate["additionalAnswerModifyFormTpl"]=
$Template("additionalAnswerModifyFormTpl");this._wTemplate["additionalQnaListTpl"]=$Template("additionalQnaListTpl");
this._wTemplate["PWLayer"]=$Template("prohibited_words_layer_tpl");this._oScrollTarget={"portrait":window,
"landscape":$$.getSingle("#ct div._contentsArea")}},
_refreshAnswerListWaitingForLoadAdditonalQna:function(){this._oElement["loadAdditionalQnaList"]=$$("div._loadAdditionalQnaList",
this._oElement["endArea"]);if(!this._oElement["loadAdditionalQnaList"]){this._oElement["answerListWaitingForLoad"]=
null;return}var aAnswerListWaitingForLoad=[];for(var i=0,len=this._oElement["loadAdditionalQnaList"].length;i<
len;i++){var aElParents=$Element(this._oElement["loadAdditionalQnaList"][i]).parent(function(wElCurrent){return wElCurrent.hasClass("_answer")},
3);
if(!aElParents||aElParents.length<1)continue;aAnswerListWaitingForLoad.push(aElParents[0].$value())}this._oElement["answerListWaitingForLoad"]=
aAnswerListWaitingForLoad},
_setEvent:function(){this._wEvent={};this._wAdditionalEvent=[];if(this._oElement["additionalQnaList"])this._wEvent["additionalQnaList"]=
$Fn(this._onClickAdditionalQnaList,this).attach(this._oElement["additionalQnaList"],"click");this._wEvent["additionalQnaGuideLayer"]=
$Fn(this._onClickAdditionalQnaGuideLayer,this).attach(this._wElement["additionalQnaGuideLayer"].$value(),
"click");if(this._wElement["PWLayerArea"])this._wEvent["PWLayerArea"]=$Fn(this._onClickPWLayer,this).attach(this._wElement["PWLayerArea"].$value(),
"click");if(nhn.Kin.OS.ios||nhn.Kin.OS.android){var sResizeEventType="onorientationchange"in window?"orientationchange":
"resize";this._wEvent[sResizeEventType]=$Fn(this._onResizeWindow,this).attach(window,sResizeEventType)}else this._wEvent["resize"]=
$Fn(this._onResizeWindow,this).attach(window,"resize");if(!this._wEvent["pageshow"])this._wEvent["pageshow"]=
$Fn(this._onResizeWindow,this).attach(window,"pageshow");document.addEventListener("refreshAdditionalQnaList",
$Fn(this.refreshAdditionalQnaList,this).bind(),false);this._watchScrollEvent()},
_setLoading:function(){this._oLoading=new jindo.m.Loading(null,{nWidth:30,nHeight:30,sDefaultForeground:"#999",
bUseFoggy:false,sLoadingText:""})},
refreshAdditionalQnaList:function(){if(this._oElement["additionalQnaList"]&&this._wEvent["additionalQnaList"])this._wEvent["additionalQnaList"].detach(this._oElement["additionalQnaList"],
"click");this._oElement["additionalQnaList"]=$$("div._additionalQnaList",this._oElement["endArea"]);if(this._oElement["additionalQnaList"])this._wEvent["additionalQnaList"]=
$Fn(this._onClickAdditionalQnaList,this).attach(this._oElement["additionalQnaList"],"click");this._refreshAnswerListWaitingForLoadAdditonalQna();
this._watchScrollEvent()},
_onClickAdditionalQnaList:function(oEvent){var wElClicked=$Element(oEvent.element);if(/^a$/i.test(wElClicked.$value().tagName)===
false){var aElParents=wElClicked.parent(function(wElCurrent){return/^a$/i.test(wElCurrent.$value().tagName)},
3);
if(!aElParents||aElParents.length<1){oEvent.stop();return}wElClicked=aElParents[0]}if(wElClicked.hasClass("_writeAdditionalQuestion"))this._writeAdditionalQuestion(wElClicked);
else if(wElClicked.hasClass("_writeAdditionalAnswer"))this._writeAdditionalAnswer(wElClicked);else if(wElClicked.hasClass("_registerAdditionalQuestion"))this._registerAdditionalQuestion(wElClicked);
else if(wElClicked.hasClass("_modifyAdditionalQuestion"))this._modifyAdditionalQuestion(wElClicked);else if(wElClicked.hasClass("_registerAdditionalAnswer"))this._registerAdditionalAnswer(wElClicked);
else if(wElClicked.hasClass("_modifyAdditionalAnswer"))this._modifyAdditionalAnswer(wElClicked);else if(wElClicked.hasClass("_reportBtn"))this._onClickReportBtn(wElClicked);
else if(wElClicked.hasClass("_modifyBtn"))this._onClickModifyBtn(wElClicked);else if(wElClicked.hasClass("_deleteBtn"))this._onClickDeleteBtn(wElClicked);
else if(wElClicked.hasClass("_selectBtn"))this._onClickSelectBtn(wElClicked);oEvent.stop()},
_writeAdditionalQuestion:function(wElClicked){if(!wElClicked)return;if(nhn.Kin.checkRos())return;if(this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION]&&
!this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);return}this._oLoading.show();
this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION]=new $Ajax(this._URL.INIT_ADDITIONAL_QUESTION,{method:"post",
timeout:5,onload:$Fn(this._onSucceedInInitQuestionRegister,this).bind(wElClicked),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var nParentAnswerNo=wElClicked.attr("data-parent-answer-no")||0;var oAjaxParam=this._getAdditionalQuestionParam(null,
nParentAnswerNo);this._oAjax[this._URL.INIT_ADDITIONAL_QUESTION].request(oAjaxParam);this._loadPWFilter()},
_onSucceedInInitQuestionRegister:function(wElClicked,oResponse){this._oLoading.hide();if(!wElClicked){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);
return}var oResponseJson=oResponse&&oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oResult=
oResponseJson.result&&oResponseJson.result[0]||{};var wElReplaced=wElClicked.replace(this._wTemplate["additionalQuestionWriteFormTpl"].process({parentAnswerNo:wElClicked.attr("data-parent-answer-no")||
0,isNeedsToAutoSelection:oResult.isNeedsToAutoSelection||false}));this._attachInputEvent(wElReplaced)}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_attachInputEvent:function(wElWriteForm){if(!wElWriteForm)return;var oTextArea=$$.getSingle("textarea",
wElWriteForm.$value());if(!oTextArea)return;this._wAdditionalEvent[this._wAdditionalEvent.length]={"element":oTextArea,
"action":"input","event":$Fn(this._onInputFromTextArea,this).attach(oTextArea,"input")}},
_onInputFromTextArea:function(oEvent){if(this._oInputEventTimeout)clearTimeout(this._oInputEventTimeout);
var oElTextArea=oEvent.element;this._oInputEventTimeout=setTimeout($Fn(this._refreshCurrentCharCount,
this).bind(oElTextArea),50)},
_refreshCurrentCharCount:function(oElTextArea){if(!oElTextArea||/textarea/i.test(oElTextArea.tagName)===
false)return;var wElCurrentCharCount=$Element($$.getSingle("span._currentCharCount",oElTextArea.parentNode.parentNode));
if(!wElCurrentCharCount)return;var nTextLength=(oElTextArea.value||"").length;if(nTextLength>this._MAXIMUM_LENGTH_OF_CONTENTS){nTextLength=
this._MAXIMUM_LENGTH_OF_CONTENTS;oElTextArea.value=oElTextArea.value.substr(0,nTextLength);alert(this._MESSAGE.EXCEED_CONTENTS_LENGTH)}wElCurrentCharCount.text(nTextLength+
"");this._oInputEventTimeout=null},
_loadPWFilter:function(){if(!nhn.jsDir||typeof PwFilter!=="undefined")return;jindo.LazyLoading.load(nhn.jsDir+
"/"+this._PWFILTER_SCRIPT)},
_registerAdditionalQuestion:function(wElClicked){if(!wElClicked)return;var sContents=this._getQuestionContents(wElClicked);
if(!sContents||sContents.length<this._MINIMUM_LENGTH_OF_CONTENTS){alert(this._MESSAGE.SHORT_CONTENTS);
return}if(wElClicked.attr("data-needs-to-selection")==="Y")setTimeout($Fn(this._showAdditionalQnaGuideLayer,
this).bind(wElClicked),30);else{var nParentAnswerNo=parseInt(wElClicked.attr("data-parent-answer-no"),
10)||0;this._requestPwFilterForQuestion(sContents,nParentAnswerNo)}},
_getQuestionContents:function(wElAdditionalQuestionForm){if(!wElAdditionalQuestionForm)return null;if(wElAdditionalQuestionForm.hasClass("_additionalQuestionForm")===
false){var aElParents=wElAdditionalQuestionForm.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQuestionForm")},
3);
if(!aElParents||aElParents.length<1)return null;wElAdditionalQuestionForm=aElParents[0]}var oQuestionTextArea=
$$.getSingle("textarea",wElAdditionalQuestionForm.$value());return $S(oQuestionTextArea&&oQuestionTextArea.value||
"").trim().toString()},
_showAdditionalQnaGuideLayer:function(wElClicked){if(!wElClicked)return;this._wElLastClickedQuestionBtn=
wElClicked;if(wElClicked.hasClass("_additionalQnaList")===false){var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaList")},
3);
if(!aElParents||aElParents.length<1)return;var wElAdditionalQnaList=aElParents[0];this._wElement["additionalQnaGuideLayerUserText"].text(wElAdditionalQnaList.attr("data-answerer"))}this._wElement["additionalQnaGuideLayer"].show();
var nLayerTop=($Document(document).clientSize().height-this._wElement["additionalQnaGuideLayerInnerBox"].height())/
2;this._wElement["additionalQnaGuideLayerInnerBox"].css({"top":nLayerTop,"position":"fixed"})},
_onClickAdditionalQnaGuideLayer:function(oEvent){var wElClicked=$Element(oEvent.element);if(wElClicked.hasClass("_writeAdditionalQuestion")){this._wElement["additionalQnaGuideLayer"].hide();
oEvent.stop();if(this._wElLastClickedQuestionBtn){var sContents=this._getQuestionContents(this._wElLastClickedQuestionBtn);
if(!sContents||sContents.length<this._MINIMUM_LENGTH_OF_CONTENTS){alert(this._MESSAGE.SHORT_CONTENTS);
return}var nParentAnswerNo=parseInt(this._wElLastClickedQuestionBtn.attr("data-parent-answer-no"),10)||
0;this._requestPwFilterForQuestion(sContents,nParentAnswerNo)}}else if(wElClicked.hasClass("_closeBtn")||
wElClicked.hasClass("_dimmed")){this._wElement["additionalQnaGuideLayer"].hide();oEvent.stop()}},
_startRegisterProcessing:function(){this._bIsProcessing=true;this._oLoading.show()},
_finishRegisterProcessing:function(){this._bIsProcessing=false;this._oLoading.hide();if(this._oPwFilter){this._oPwFilter.destroy();
this._oPwFilter=null}},
_requestPwFilterForQuestion:function(sContents,nParentAnswerNo){if(typeof PwFilter==="undefined"){alert(this._MESSAGE.WAIT_FOR_LOADING);
return}if(this._bIsProcessing===true){alert(this._MESSAGE.WAIT_FOR_PROCESSING);return}this._startRegisterProcessing();
this._oPwFilter=new PwFilter({"contents":sContents,"elementId":"contents","submitFunc":$Fn(this._registerAdditionalQuestionAjax,
this).bind(sContents,nParentAnswerNo),"containPwCallbackFunc":$Fn(this._onContainsPwCallback,this).bind(),
"errorCallbackFunc":$Fn(this._onErrorPwCallback,this).bind()});this._oPwFilter.process()},
_onErrorPwCallback:function(){this._finishRegisterProcessing();alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON)},
_onContainsPwCallback:function(aProhibitedWords){this._finishRegisterProcessing();if(!aProhibitedWords||
aProhibitedWords.length<1)return;setTimeout($Fn(function(){this._showPWLayer(aProhibitedWords)},this).bind(),
300)},
_showPWLayer:function(aProhibitedWords){if(!aProhibitedWords||aProhibitedWords.length<1||!this._wTemplate["PWLayer"]||
!this._wElement["PWLayerArea"])return;var sProhibitedWords=aProhibitedWords.join(", ");this._wElement["PWLayerArea"].html(this._wTemplate["PWLayer"].process({"prohibitedWords":sProhibitedWords}));
this._wElement["PWLayerBox"]=$Element("prohibited_words_layer");if(!this._wElement["PWLayerArea"].visible())this._wElement["PWLayerArea"].show();
this._adjustPositionOfPWLayer()},
_adjustPositionOfPWLayer:function(){if(this._wElement["PWLayerBox"]){var nLayerTop=($Document(document).clientSize().height-
this._wElement["PWLayerBox"].height())/2;this._wElement["PWLayerBox"].css({"top":nLayerTop,"position":"fixed"})}},
_onClickPWLayer:function(we){var el=we.element;if(!el||!/(?:a|button)/i.test(el.tagName.toLowerCase())||
!$Element(el).hasClass("_close")){we.stop();return}this._hidePWLayer();we.stop()},
_hidePWLayer:function(){if(!this._wElement["PWLayerArea"])return;this._wElement["PWLayerArea"].html("");
if(this._wElement["PWLayerArea"].visible())this._wElement["PWLayerArea"].hide()},
_registerAdditionalQuestionAjax:function(sContents,nParentAnswerNo){if(!sContents||nhn.Kin.isNumber(nParentAnswerNo)===
false||nParentAnswerNo<1){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);this._finishRegisterProcessing();
return}if(this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION]&&!this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION]=new $Ajax(this._URL.REGISTER_ADDITIONAL_QUESTION,
{method:"post",timeout:7,onload:$Fn(this._onSucceedInQuestionRegister,this).bind(nParentAnswerNo),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var oAjaxParam=this._getAdditionalQuestionParam(sContents,nParentAnswerNo);this._oAjax[this._URL.REGISTER_ADDITIONAL_QUESTION].request(oAjaxParam)},
_getAdditionalQuestionParam:function(sContents,nParentAnswerNo){return{"parentDirId":this._oOption.dirId||
0,"parentDocId":this._oOption.docId||0,"parentAnswerNo":nParentAnswerNo||0,"contents":sContents,"tempField":this._oOption.tempField||
null,"mdu":this._oOption.mdu||null,"ts":(new Date).getTime()}},
_onSucceedInQuestionRegister:function(nParentAnswerNo,oResponse){this._finishRegisterProcessing();var oResponseJson=
oResponse&&oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oElParentAnswer=$$.getSingle("#answer_"+
nParentAnswerNo);if(!oElParentAnswer){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);return}var oElAdditionalQnaList=
$$.getSingle("div._additionalQnaList",oElParentAnswer);if(oElAdditionalQnaList.getAttribute("data-reload-yn")===
"Y"){location.reload();return}this._loadAdditionalQnaList(oElAdditionalQnaList);var wElSelectAnswerArea=
$Element($$.getSingle("div._selectAnswerArea",oElParentAnswer));if(wElSelectAnswerArea)wElSelectAnswerArea.hide()}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_writeAdditionalAnswer:function(wElClicked){this._loadPWFilter();if(!wElClicked)return;if(nhn.Kin.checkRos())return;
if(this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER]&&!this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oLoading.show();this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER]=new $Ajax(this._URL.INIT_ADDITIONAL_ANSWER,
{method:"post",timeout:5,onload:$Fn(this._onSucceedInInitAnswerRegister,this).bind(wElClicked),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var nDirId=wElClicked.attr("data-dir-id")||0;var nDocId=wElClicked.attr("data-doc-id")||0;var oAjaxParam=
this._getAdditionalAnswerParam(null,nDirId,nDocId);this._oAjax[this._URL.INIT_ADDITIONAL_ANSWER].request(oAjaxParam);
this._loadPWFilter()},
_getAdditionalAnswerParam:function(sContents,nDirId,nDocId){return{"dirId":nDirId,"docId":nDocId,"contents":sContents,
"tempField":this._oOption.tempField||null,"mdu":this._oOption.mdu||null,"ts":(new Date).getTime()}},
_onSucceedInInitAnswerRegister:function(wElClicked,oResponse){this._oLoading.hide();if(!wElClicked){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);
return}var oResponseJson=oResponse&&oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oResult=
oResponseJson.result&&oResponseJson.result[0]||{};var wElReplaced=wElClicked.replace(this._wTemplate["additionalAnswerWriteFormTpl"].process({parentAnswerNo:wElClicked.attr("data-parent-answer-no")||
0,dirId:wElClicked.attr("data-dir-id")||0,docId:wElClicked.attr("data-doc-id")||0}));this._attachInputEvent(wElReplaced)}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_registerAdditionalAnswer:function(wElClicked){if(!wElClicked)return;var sContents=this._getAnswerContents(wElClicked);
if(!sContents||sContents.length<this._MINIMUM_LENGTH_OF_CONTENTS){alert(this._MESSAGE.SHORT_CONTENTS);
return}var nParentAnswerNo=parseInt(wElClicked.attr("data-parent-answer-no"),10)||0;var nDirId=parseInt(wElClicked.attr("data-dir-id"),
10)||0;var nDocId=parseFloat(wElClicked.attr("data-doc-id"))||0;this._requestPwFilterForAnswer(sContents,
nParentAnswerNo,nDirId,nDocId)},
_getAnswerContents:function(wElAdditionalAnswerForm){if(!wElAdditionalAnswerForm)return null;if(wElAdditionalAnswerForm.hasClass("_additionalAnswerForm")===
false){var aElParents=wElAdditionalAnswerForm.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalAnswerForm")},
3);
if(!aElParents||aElParents.length<1)return null;wElAdditionalAnswerForm=aElParents[0]}var oAnswerTextArea=
$$.getSingle("textarea",wElAdditionalAnswerForm.$value());return $S(oAnswerTextArea&&oAnswerTextArea.value||
"").trim().toString()},
_requestPwFilterForAnswer:function(sContents,nParentAnswerNo,nDirId,nDocId){if(typeof PwFilter==="undefined"){alert(this._MESSAGE.WAIT_FOR_LOADING);
return}if(this._bIsProcessing===true){alert(this._MESSAGE.WAIT_FOR_PROCESSING);return}this._startRegisterProcessing();
this._oPwFilter=new PwFilter({"contents":sContents,"elementId":"contents","submitFunc":$Fn(this._registerAdditionalAnswerAjax,
this).bind(sContents,nParentAnswerNo,nDirId,nDocId),"containPwCallbackFunc":$Fn(this._onContainsPwCallback,
this).bind(),"errorCallbackFunc":$Fn(this._onErrorPwCallback,this).bind()});this._oPwFilter.process()},
_registerAdditionalAnswerAjax:function(sContents,nParentAnswerNo,nDirId,nDocId){if(!sContents||nhn.Kin.isNumber(nParentAnswerNo)===
false||nhn.Kin.isNumber(nDirId)===false||nhn.Kin.isNumber(nDocId)===false){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);
this._finishRegisterProcessing();return}if(this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER]&&!this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER]=new $Ajax(this._URL.REGISTER_ADDITIONAL_ANSWER,
{method:"post",timeout:7,onload:$Fn(this._onSucceedInAnswerRegister,this).bind(nParentAnswerNo),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var oAjaxParam=this._getAdditionalAnswerParam(sContents,nDirId,nDocId);this._oAjax[this._URL.REGISTER_ADDITIONAL_ANSWER].request(oAjaxParam)},
_onSucceedInAnswerRegister:function(nParentAnswerNo,oResponse){this._finishRegisterProcessing();var oResponseJson=
oResponse&&oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oAdditionalQnaList=$$.getSingle("#answer_"+
nParentAnswerNo+" div._additionalQnaList");this._loadAdditionalQnaList(oAdditionalQnaList)}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_onClickReportBtn:function(wElClicked){if(nhn.Kin.checkRos())return;var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaItem")},
3);
if(!aElParents||aElParents.length<1)return;var wElAdditionalQnaItem=aElParents[0];var nDirId=parseInt(wElAdditionalQnaItem.attr("data-dir-id")||
0,10);var nDocId=parseFloat(wElAdditionalQnaItem.attr("data-doc-id")||0);var nAnswerNo=parseInt(wElAdditionalQnaItem.attr("data-answer-no")||
-1,10);var sRedirectUrl=location.protocol+"//"+location.host+"/mobile/qna/report.nhn?dirId\x3d"+nDirId+
"\x26docId\x3d"+nDocId+"\x26answerNo\x3d"+nAnswerNo;if(this._oOption.mdu)sRedirectUrl+="\x26mdu\x3d"+
this._oOption.mdu;location.href=sRedirectUrl},
_onClickModifyBtn:function(wElClicked){if(nhn.Kin.checkRos())return;var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaItem")},
3);
if(!aElParents||aElParents.length<1)return;var wElAdditionalQnaItem=aElParents[0];var nDirId=parseInt(wElAdditionalQnaItem.attr("data-dir-id")||
0,10);var nDocId=parseFloat(wElAdditionalQnaItem.attr("data-doc-id")||0);var nAnswerNo=parseInt(wElAdditionalQnaItem.attr("data-answer-no")||
-1,10);if(nAnswerNo===0)this._initQuestionModifyAjax(wElAdditionalQnaItem,nDirId,nDocId);else this._initAnswerModifyAjax(wElAdditionalQnaItem,
nDirId,nDocId,nAnswerNo);this._loadPWFilter()},
_initQuestionModifyAjax:function(wElAdditionalQnaItem,nDirId,nDocId){if(this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION]&&
!this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oLoading.show();this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION]=new $Ajax(this._URL.INIT_MODIFY_ADDITIONAL_QUESTION,
{method:"post",timeout:5,onload:$Fn(this._onSucceedInInitQuestionModify,this).bind(wElAdditionalQnaItem,
nDirId,nDocId),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var oAjaxParam=this._getAdditionalQuestionModifyParam(null,nDirId,nDocId);this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_QUESTION].request(oAjaxParam)},
_getAdditionalQuestionModifyParam:function(sContents,nDirId,nDocId){return{"dirId":nDirId||0,"docId":nDocId||
0,"contents":sContents,"tempField":this._oOption.tempField||null,"mdu":this._oOption.mdu||null,"ts":(new Date).getTime()}},
_onSucceedInInitQuestionModify:function(wElAdditionalQnaItem,nDirId,nDocId,oResponse){this._oLoading.hide();
if(!wElAdditionalQnaItem){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);return}var oResponseJson=oResponse&&
oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oResult=oResponseJson.result&&oResponseJson.result[0]||
{};var sContents=$S(oResult.contents||"").trim().toString();var wElReplaced=wElAdditionalQnaItem.replace(this._wTemplate["additionalQuestionModifyFormTpl"].process({dirId:nDirId||
0,docId:nDocId||0,parentAnswerNo:this._getParentAnswerNo(wElAdditionalQnaItem),contents:sContents,contentsLength:sContents.length}));
this._attachInputEvent(wElReplaced)}else{var sErrorMsg=oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;
alert(sErrorMsg)}},
_getParentAnswerNo:function(wElAdditionalQnaItem){if(!wElAdditionalQnaItem||wElAdditionalQnaItem.hasClass("_additionalQnaItem")===
false)return 0;var aElParents=wElAdditionalQnaItem.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaList")},
3);
if(!aElParents||aElParents.length<1)return;return aElParents[0].attr("data-parent-answer-no")||0},
_modifyAdditionalQuestion:function(wElClicked){if(!wElClicked)return;var sContents=this._getQuestionContents(wElClicked);
if(!sContents||sContents.length<this._MINIMUM_LENGTH_OF_CONTENTS){alert(this._MESSAGE.SHORT_CONTENTS);
return}var nParentAnswerNo=parseInt(wElClicked.attr("data-parent-answer-no"),10)||0;var nDirId=parseInt(wElClicked.attr("data-dir-id"),
10)||0;var nDocId=parseFloat(wElClicked.attr("data-doc-id"))||0;this._requestPwFilterForQuestionModify(sContents,
nParentAnswerNo,nDirId,nDocId)},
_requestPwFilterForQuestionModify:function(sContents,nParentAnswerNo,nDirId,nDocId){if(typeof PwFilter===
"undefined"){alert(this._MESSAGE.WAIT_FOR_LOADING);return}if(this._bIsProcessing===true){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._startRegisterProcessing();this._oPwFilter=new PwFilter({"contents":sContents,"elementId":"contents",
"submitFunc":$Fn(this._modifyAdditionalQuestionAjax,this).bind(sContents,nParentAnswerNo,nDirId,nDocId),
"containPwCallbackFunc":$Fn(this._onContainsPwCallback,this).bind(),"errorCallbackFunc":$Fn(this._onErrorPwCallback,
this).bind()});this._oPwFilter.process()},
_modifyAdditionalQuestionAjax:function(sContents,nParentAnswerNo,nDirId,nDocId){if(!sContents||nhn.Kin.isNumber(nParentAnswerNo)===
false||nParentAnswerNo<1||!nDirId||!nDocId){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);this._finishRegisterProcessing();
return}if(this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION]&&!this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION]=new $Ajax(this._URL.MODIFY_ADDITIONAL_QUESTION,
{method:"post",timeout:7,onload:$Fn(this._onSucceedInQuestionModify,this).bind(nParentAnswerNo),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION].isIdle()){this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION].abort();
this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var oAjaxParam=this._getAdditionalQuestionModifyParam(sContents,nDirId,nDocId);this._oAjax[this._URL.MODIFY_ADDITIONAL_QUESTION].request(oAjaxParam)},
_onSucceedInQuestionModify:function(nParentAnswerNo,oResponse){this._finishRegisterProcessing();var oResponseJson=
oResponse&&oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oAdditionalQnaList=$$.getSingle("#answer_"+
nParentAnswerNo+" div._additionalQnaList");this._loadAdditionalQnaList(oAdditionalQnaList)}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_initAnswerModifyAjax:function(wElAdditionalQnaItem,nDirId,nDocId,nAnswerNo){if(this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER]&&
!this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oLoading.show();this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER]=new $Ajax(this._URL.INIT_MODIFY_ADDITIONAL_ANSWER,
{method:"post",timeout:5,onload:$Fn(this._onSucceedInInitAnswerModify,this).bind(wElAdditionalQnaItem,
nDirId,nDocId,nAnswerNo),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var oAjaxParam=this._getAdditionalAnswerModifyParam(null,nDirId,nDocId,nAnswerNo);this._oAjax[this._URL.INIT_MODIFY_ADDITIONAL_ANSWER].request(oAjaxParam)},
_getAdditionalAnswerModifyParam:function(sContents,nDirId,nDocId,nAnswerNo){return{"dirId":nDirId||0,
"docId":nDocId||0,"answerNo":nAnswerNo||0,"contents":sContents,"tempField":this._oOption.tempField||null,
"mdu":this._oOption.mdu||null,"ts":(new Date).getTime()}},
_onSucceedInInitAnswerModify:function(wElAdditionalQnaItem,nDirId,nDocId,nAnswerNo,oResponse){this._oLoading.hide();
if(!wElAdditionalQnaItem){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);return}var oResponseJson=oResponse&&
oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oResult=oResponseJson.result&&oResponseJson.result[0]||
{};var sContents=$S(oResult.contents||"").trim().toString();var wElReplaced=wElAdditionalQnaItem.replace(this._wTemplate["additionalAnswerModifyFormTpl"].process({dirId:nDirId||
0,docId:nDocId||0,answerNo:nAnswerNo||0,parentAnswerNo:this._getParentAnswerNo(wElAdditionalQnaItem),
contents:sContents,contentsLength:sContents.length}));this._attachInputEvent(wElReplaced)}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_modifyAdditionalAnswer:function(wElClicked){if(!wElClicked)return;var sContents=this._getAnswerContents(wElClicked);
if(!sContents||sContents.length<this._MINIMUM_LENGTH_OF_CONTENTS){alert(this._MESSAGE.SHORT_CONTENTS);
return}var nParentAnswerNo=parseInt(wElClicked.attr("data-parent-answer-no"),10)||0;var nDirId=parseInt(wElClicked.attr("data-dir-id"),
10)||0;var nDocId=parseFloat(wElClicked.attr("data-doc-id"))||0;var nAnswerNo=parseFloat(wElClicked.attr("data-answer-no"))||
0;this._requestPwFilterForAnswerModify(sContents,nParentAnswerNo,nDirId,nDocId,nAnswerNo)},
_requestPwFilterForAnswerModify:function(sContents,nParentAnswerNo,nDirId,nDocId,nAnswerNo){if(typeof PwFilter===
"undefined"){alert(this._MESSAGE.WAIT_FOR_LOADING);return}if(this._bIsProcessing===true){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._startRegisterProcessing();this._oPwFilter=new PwFilter({"contents":sContents,"elementId":"contents",
"submitFunc":$Fn(this._modifyAdditionalAnswerAjax,this).bind(sContents,nParentAnswerNo,nDirId,nDocId,
nAnswerNo),"containPwCallbackFunc":$Fn(this._onContainsPwCallback,this).bind(),"errorCallbackFunc":$Fn(this._onErrorPwCallback,
this).bind()});this._oPwFilter.process()},
_modifyAdditionalAnswerAjax:function(sContents,nParentAnswerNo,nDirId,nDocId,nAnswerNo){if(!sContents||
nhn.Kin.isNumber(nParentAnswerNo)===false||nParentAnswerNo<1||!nDirId||!nDocId||!nAnswerNo){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);
this._finishRegisterProcessing();return}if(this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER]&&!this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER]=new $Ajax(this._URL.MODIFY_ADDITIONAL_ANSWER,{method:"post",
timeout:7,onload:$Fn(this._onSucceedInAnswerModify,this).bind(nParentAnswerNo),ontimeout:$Fn(function(){if(!this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.TIMEOUT)},
this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER].isIdle()){this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER].abort();
this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER]=null}this._finishRegisterProcessing();alert(nhn.Kin.oMessage.ERROR)},
this).bind()});
var oAjaxParam=this._getAdditionalAnswerModifyParam(sContents,nDirId,nDocId,nAnswerNo);this._oAjax[this._URL.MODIFY_ADDITIONAL_ANSWER].request(oAjaxParam)},
_onSucceedInAnswerModify:function(nParentAnswerNo,oResponse){this._finishRegisterProcessing();var oResponseJson=
oResponse&&oResponse.json()||null;if(oResponseJson&&oResponseJson.isSuccess){var oAdditionalQnaList=$$.getSingle("#answer_"+
nParentAnswerNo+" div._additionalQnaList");this._loadAdditionalQnaList(oAdditionalQnaList)}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON;alert(sErrorMsg)}},
_onClickDeleteBtn:function(wElClicked){if(nhn.Kin.checkRos())return;var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaItem")},
3);
if(!aElParents||aElParents.length<1)return;var wElAdditionalQnaItem=aElParents[0];var nDirId=parseInt(wElAdditionalQnaItem.attr("data-dir-id")||
0,10);var nDocId=parseFloat(wElAdditionalQnaItem.attr("data-doc-id")||0);var nAnswerNo=parseInt(wElAdditionalQnaItem.attr("data-answer-no")||
-1,10);if(nAnswerNo===0)this._deleteQuestionAjax(wElClicked,nDirId,nDocId);else this._deleteAnswerAjax(wElClicked,
nDirId,nDocId,nAnswerNo)},
_deleteQuestionAjax:function(wElClicked,nDirId,nDocId){if(this._oAjax[this._URL.DELETE_QUESTION]&&!this._oAjax[this._URL.DELETE_QUESTION].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);
return}if(!confirm(this._MESSAGE.QUESTION_DELETE))return;var oAjaxParam={dirId:nDirId,docId:nDocId,ts:(new Date).getTime()};
this._oLoading.show();this._oAjax[this._URL.DELETE_QUESTION]=new $Ajax(this._URL.DELETE_QUESTION,{method:"post",
timeout:7,onload:$Fn(function(wElClicked,oResponse){this._oLoading.hide();var oResponseJson=oResponse&&
oResponse.json();if(oResponseJson&&oResponseJson.isSuccess){var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaList")},
5);
if(aElParents&&aElParents.length>0)this._loadAdditionalQnaList(aElParents[0].$value())}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg;alert(sErrorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON)}},this).bind(wElClicked),
ontimeout:$Fn(function(){if(!this._oAjax[this._URL.DELETE_QUESTION].isIdle()){this._oAjax[this._URL.DELETE_QUESTION].abort();
this._oAjax[this._URL.DELETE_QUESTION]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.DELETE_QUESTION].isIdle()){this._oAjax[this._URL.DELETE_QUESTION].abort();
this._oAjax[this._URL.DELETE_QUESTION]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},this).bind()});
this._oAjax[this._URL.DELETE_QUESTION].request(oAjaxParam)},
_deleteAnswerAjax:function(wElClicked,nDirId,nDocId,nAnswerNo){if(this._oAjax[this._URL.DELETE_ANSWER]&&
!this._oAjax[this._URL.DELETE_ANSWER].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);return}if(!confirm(this._MESSAGE.ANSWER_DELETE))return;
var oAjaxParam={dirId:nDirId,docId:nDocId,answerNo:nAnswerNo,ts:(new Date).getTime()};this._oLoading.show();
this._oAjax[this._URL.DELETE_ANSWER]=new $Ajax(this._URL.DELETE_ANSWER,{method:"post",timeout:7,onload:$Fn(function(wElClicked,
oResponse){this._oLoading.hide();var oResponseJson=oResponse&&oResponse.json();if(oResponseJson&&oResponseJson.isSuccess){var aElParents=
wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaList")},5);
if(aElParents&&aElParents.length>0)this._loadAdditionalQnaList(aElParents[0].$value())}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg;alert(sErrorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON)}},this).bind(wElClicked),
ontimeout:$Fn(function(){if(!this._oAjax[this._URL.DELETE_ANSWER].isIdle()){this._oAjax[this._URL.DELETE_ANSWER].abort();
this._oAjax[this._URL.DELETE_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(){if(!this._oAjax[this._URL.DELETE_ANSWER].isIdle()){this._oAjax[this._URL.DELETE_ANSWER].abort();
this._oAjax[this._URL.DELETE_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},this).bind()});
this._oAjax[this._URL.DELETE_ANSWER].request(oAjaxParam)},
_onClickSelectBtn:function(wElClicked){if(nhn.Kin.checkRos())return;var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaItem")},
3);
if(!aElParents||aElParents.length<1)return;var wElAdditionalQnaItem=aElParents[0];var nDirId=parseInt(wElAdditionalQnaItem.attr("data-dir-id")||
0,10);var nDocId=parseFloat(wElAdditionalQnaItem.attr("data-doc-id")||0);var nAnswerNo=parseInt(wElAdditionalQnaItem.attr("data-answer-no")||
-1,10);if(nAnswerNo===0)alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);else this._selectAnswerAjax(wElClicked,
nDirId,nDocId,nAnswerNo)},
_selectAnswerAjax:function(wElClicked,nDirId,nDocId,nAnswerNo){if(!nDirId||!nDocId||typeof nAnswerNo===
"undefined"){alert(this._MESSAGE.FAIL_BY_UNKNOWN_REASON);return}if(this._oAjax[this._URL.SELECT_ANSWER]&&
!this._oAjax[this._URL.SELECT_ANSWER].isIdle()){alert(this._MESSAGE.WAIT_FOR_PROCESSING);return}var oParam=
{dirId:nDirId,docId:nDocId,answerNo:nAnswerNo,correctValue:this._oOption.selectCorrectValue||"",ts:(new Date).getTime()};
this._oLoading.show();this._oAjax[this._URL.SELECT_ANSWER]=new $Ajax(this._URL.SELECT_ANSWER,{method:"post",
timeout:7,onload:$Fn(function(oResponse){this._oLoading.hide();var oResponseJson=oResponse&&oResponse.json();
if(oResponseJson&&oResponseJson.isSuccess){var aElParents=wElClicked.parent(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaList")},
5);
if(aElParents&&aElParents.length>0)this._loadAdditionalQnaList(aElParents[0].$value())}else{var sErrorMsg=
oResponseJson&&oResponseJson.errorMsg;alert(sErrorMsg||this._MESSAGE.FAIL_BY_UNKNOWN_REASON)}},this).bind(),
onerror:$Fn(function(oResponse){if(!this._oAjax[this._URL.SELECT_ANSWER].isIdle()){this._oAjax[this._URL.SELECT_ANSWER].abort();
this._oAjax[this._URL.SELECT_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
ontimeout:$Fn(function(oResponse){if(!this._oAjax[this._URL.SELECT_ANSWER].isIdle()){this._oAjax[this._URL.SELECT_ANSWER].abort();
this._oAjax[this._URL.SELECT_ANSWER]=null}this._oLoading.hide();alert(nhn.Kin.oMessage.ERROR)},this).bind()});
this._oAjax[this._URL.SELECT_ANSWER].request(oParam)},
_onResizeWindow:function(){var bIsLandscapeMode=nhn.Kin.getScreenType()==="TABLET_LANDSCAPE";if(this._bIsLandscapeMode===
bIsLandscapeMode)return;this._bIsLandscapeMode=bIsLandscapeMode;this._watchScrollEvent()},
_watchScrollEvent:function(){if(this._oScrollEvent){this._oScrollEvent.event.detach(this._oScrollEvent.element,
"scroll");this._oScrollEvent=null}if(!this._oElement["answerListWaitingForLoad"])return;var oElScrollTarget=
this._bIsLandscapeMode?this._oScrollTarget["landscape"]:this._oScrollTarget["portrait"];this._oScrollEvent=
{element:oElScrollTarget,event:$Fn(this._onScroll,this).attach(oElScrollTarget,"scroll")};this._onScroll()},
_onScroll:function(oEvent){if(!this._oElement["answerListWaitingForLoad"])return;var oElScrollTarget=
this._bIsLandscapeMode?this._oScrollTarget["landscape"]:this._oScrollTarget["portrait"];for(var i=0,len=
this._oElement["answerListWaitingForLoad"].length;i<len;i++){var oElCurrent=this._oElement["answerListWaitingForLoad"][i];
if(nhn.Kin.isIntoScreen(oElCurrent,oElScrollTarget))this._loadAdditionalQnaList(oElCurrent)}},
_loadAdditionalQnaList:function(oElAnswer){if(!oElAnswer)return;var wElAdditionalQnaList=$Element(oElAnswer);
if(wElAdditionalQnaList.hasClass("_additionalQnaList")===false&&wElAdditionalQnaList.hasClass("_loadAdditionalQnaList")===
false){var aElChilds=wElAdditionalQnaList.child(function(wElCurrent){return wElCurrent.hasClass("_additionalQnaList")||
wElCurrent.hasClass("_loadAdditionalQnaList")},3);
if(!aElChilds||aElChilds.length<1)return;wElAdditionalQnaList=aElChilds[0]}var nParentAnswerNo=wElAdditionalQnaList.attr("data-parent-answer-no")||
0;if(this._oAdditionalQnaListAjax[nParentAnswerNo]&&!this._oAdditionalQnaListAjax[nParentAnswerNo].isIdle())return;
var oAjaxParams={"parentDirId":this._oOption.dirId||0,"parentDocId":this._oOption.docId||0,"parentAnswerNo":nParentAnswerNo||
0,"ts":(new Date).getTime()};this._oAdditionalQnaListAjax[nParentAnswerNo]=new $Ajax(this._URL.ADDITIONAL_QNA_LIST,
{method:"post",timeout:5,onload:$Fn(this._onGetAdditionalQnaList,this).bind(wElAdditionalQnaList),ontimeout:$Fn(function(wElAdditionalQnaList){if(!this._oAdditionalQnaListAjax[nParentAnswerNo].isIdle()){this._oAdditionalQnaListAjax[nParentAnswerNo].abort();
this._oAdditionalQnaListAjax[nParentAnswerNo]=null}},this).bind(wElAdditionalQnaList),
onerror:$Fn(function(wElAdditionalQnaList){if(!this._oAdditionalQnaListAjax[nParentAnswerNo].isIdle()){this._oAdditionalQnaListAjax[nParentAnswerNo].abort();
this._oAdditionalQnaListAjax[nParentAnswerNo]=null}if(wElAdditionalQnaList.hasClass("_loadAdditionalQnaList")){wElAdditionalQnaList.leave();
this.refreshAdditionalQnaList()}},this).bind(wElAdditionalQnaList)});
this._oAdditionalQnaListAjax[nParentAnswerNo].request(oAjaxParams)},
_onGetAdditionalQnaList:function(wElAdditionalQnaList,oResponse){var nParentAnswerNo=wElAdditionalQnaList.attr("data-parent-answer-no")||
0;var sIsAnswererYn=wElAdditionalQnaList.attr("data-is-answerer")||null;var sAnswerer=wElAdditionalQnaList.attr("data-answerer")||
null;var oResponseJson=oResponse&&oResponse.json();if(oResponseJson&&oResponseJson.isSuccess){var aAdditionalQnaList=
oResponseJson.additionalQnaList;wElAdditionalQnaList.replace(this._wTemplate["additionalQnaListTpl"].process({"isArticleOpen":this._oOption.isArticleOpen!==
false,"parentAnswerNo":nParentAnswerNo,"isAnswererYn":sIsAnswererYn,"answerer":sAnswerer,"additionalQnaList":aAdditionalQnaList,
"additionalWriteForm":this._getAdditionalWriteForm(this._oOption.isQuestionOwner,sIsAnswererYn==="Y",
aAdditionalQnaList)}));this.refreshAdditionalQnaList()}else{wElAdditionalQnaList.replace(this._wTemplate["additionalQnaListTpl"].process({"isArticleOpen":this._oOption.isArticleOpen!==
false,"parentAnswerNo":nParentAnswerNo,"isAnswererYn":sIsAnswererYn,"answerer":sAnswerer,"additionalQnaList":null,
"additionalWriteForm":this._getAdditionalWriteForm(this._oOption.isQuestionOwner,sIsAnswererYn==="Y",
null)}));this.refreshAdditionalQnaList()}},
_getAdditionalWriteForm:function(bIsQuestioner,bIsAnswerer,aAdditionalQnaList){if(this._oOption.isArticleOpen===
false||!bIsQuestioner&&!bIsAnswerer)return{"type":"none"};if(!aAdditionalQnaList||aAdditionalQnaList.length<
1)return bIsQuestioner?{"type":"question"}:{"type":"none"};var oLastAdditionalQna=null;var nAdditionalQuestionCnt=
0;var nAdditionalAnswerCnt=0;for(var i=0,len=aAdditionalQnaList.length;i<len;i++){var oCurrentAdditionalQna=
aAdditionalQnaList[i];if(oCurrentAdditionalQna.deleted===true||oCurrentAdditionalQna.wait===true)continue;
oLastAdditionalQna=oCurrentAdditionalQna;if(aAdditionalQnaList[i].answerNo>0)nAdditionalAnswerCnt++;else nAdditionalQuestionCnt++}if(oLastAdditionalQna.inotiStop===
true||oLastAdditionalQna.blind===true)return{"type":"none"};if(!oLastAdditionalQna)return bIsQuestioner?
{"type":"question"}:{"type":"none"};if(oLastAdditionalQna.answerNo===0)return bIsAnswerer?{"type":"answer",
"dirId":oLastAdditionalQna.dirId||0,"docId":oLastAdditionalQna.docId||0}:{"type":"none"};if(oLastAdditionalQna.answerNo>
0)return bIsQuestioner&&nAdditionalQuestionCnt<this._MAX_COUNT_OF_ADDITIONAL_QUESTION?{"type":"question"}:
{"type":"none"};return{"type":"none"}},
_destroyForLoadAdditionalQnaList:function(){this._oElement["loadAdditionalQnaList"]=null;this._oElement["answerListWaitingForLoad"]=
null;if(this._oScrollEvent){this._oScrollEvent.event.detach(this._oScrollEvent.element,"scroll");this._oScrollEvent=
null}if(nhn.Kin.OS.ios||nhn.Kin.OS.android){var sResizeEventType="onorientationchange"in window?"orientationchange":
"resize";if(this._wEvent[sResizeEventType])this._wEvent[sResizeEventType].detach(window,sResizeEventType)}else if(this._wEvent["resize"])this._wEvent["resize"].detach(window,
"resize");if(this._wEvent["pageshow"])this._wEvent["pageshow"].detach(window,"pageshow");document.removeEventListener("refreshAdditionalQnaList",
$Fn(this.refreshAdditionalQnaList,this).bind(),false)},
destroy:function(){if(this._wEvent&&this._oElement){this._destroyForLoadAdditionalQnaList();if(this._wEvent["additionalQnaList"])this._wEvent["additionalQnaList"].detach(this._oElement["additionalQnaList"],
"click");if(this._wEvent["additionalQnaGuideLayer"])this._wEvent["additionalQnaGuideLayer"].detach(this._wElement["additionalQnaGuideLayer"].$value(),
"click");if(this._wEvent["PWLayerArea"])this._wEvent["PWLayerArea"].detach(this._wElement["PWLayerArea"].$value(),
"click")}if(this._wAdditionalEvent)for(var i=0,len=this._wAdditionalEvent.length;i<len;i++){var wEvent=
this._wAdditionalEvent[i];if(wEvent)wEvent.event.detach(wEvent.element,wEvent.action)}if(this._oPwFilter){this._oPwFilter.destroy();
this._oPwFilter=null}this._oElement=this._wElement=this._wEvent=this._wAdditionalEvent=this._wTemplate=
this._oOption=null;this._oScrollEvent=this._oLoading=this._bIsLandscapeMode=this._wElLastClickedQuestionBtn=
this._bIsProcessing=null;this._oAjax=this._oAdditionalQnaListAjax=null;this._MINIMUM_LENGTH_OF_CONTENTS=
this._MAX_COUNT_OF_ADDITIONAL_QUESTION=this._PWFILTER_SCRIPT=this._MESSAGE=null;this.SHORT_CONTENTS=this._URL=
null}});
var DetailImageLoader=$Class({_wElement:null,_wEvent:null,_bIsTablet:null,_PHOTOINFRA_DOMAIN_PATTERN:/^https?:\/\/(?:beta\.)?kinimage\.naver\.net\//,
$init:function(htOption){this._bIsTablet=nhn.Kin.getScreenType()!=="NORMAL";this._setElement();this._setEvent();
if(!this._wElement["detailImageWaitingLoad"]||this._wElement["detailImageWaitingLoad"].length()<1)return;
if(document.readyState===undefined||document.readyState==="complete")this._initializeOnLoad();else $Fn(this._initializeOnLoad,
this).attach(window,"load");$Fn(this.destroy,this).attach(window,"unload")},
_setElement:function(){if(!this._wElement)this._wElement={};this._wElement["detailImageWaitingLoad"]=
$ElementList($$("#ct img.invisibleImg[data-image-src]"))},
_setEvent:function(){this._wEvent={};this._wEvent["click"]={};this._wEvent["load"]={};document.addEventListener("lazyLoadAllImages",
$Fn(this.checkAndLazyLoadAllImages,this).bind(),false)},
_initializeOnLoad:function(){this._lazyLoadAllImages()},
checkAndLazyLoadAllImages:function(){this._setElement();if(!this._wElement["detailImageWaitingLoad"]||
this._wElement["detailImageWaitingLoad"].length()<1)return;this._lazyLoadAllImages()},
_lazyLoadAllImages:function(){for(var i=0,len=this._wElement["detailImageWaitingLoad"].length();i<len;i++){var wElCurrentImage=
this._wElement["detailImageWaitingLoad"].get(i);this._lazyLoadSingleImage(wElCurrentImage)}},
_lazyLoadSingleImage:function(wElImage){if(!wElImage||wElImage.hasClass("invisibleImg")===false)return;
var sImageSrc=wElImage.attr("data-image-src");if(!sImageSrc)return;if(!this._wEvent["load"][sImageSrc])this._wEvent["load"][sImageSrc]=
{"element":wElImage.$value(),"event":$Fn(this._onLoadImage,this).attach(wElImage.$value(),"load")};if(!this._wEvent["click"][sImageSrc])this._wEvent["click"][sImageSrc]=
{"element":wElImage.$value(),"event":$Fn(this._onClickImage,this).attach(wElImage.$value(),"click")};
if(this._bIsTablet&&this._PHOTOINFRA_DOMAIN_PATTERN.test(sImageSrc))sImageSrc=sImageSrc.split("w480").join("w620");
wElImage.attr("src",sImageSrc);wElImage.attr("data-image-src",null)},
_onLoadImage:function(oEvent){var wEl=$Element(oEvent.element);wEl.removeClass("invisibleImg");var oClientSize=
typeof getClientSize==="function"?getClientSize():$Document(document).clientSize();var nClientWidth=oClientSize.width||
0;var nClientHeight=oClientSize.height||0;var nMarginValue=30;if(nClientWidth>=nhn.Kin.MIN_WIDTH_OF_TABLET_PORTRAIT_MODE)nMarginValue=
130;var nImageWidth=wEl.width();if(nImageWidth>Math.min(nClientWidth,nClientHeight)-nMarginValue){var nImageHeight=
wEl.height()||0;if(nImageHeight>0){wEl.css({"width":"100%","height":"auto"});setTimeout($Fn(function(wElImage,
nOrgImageWidth,nOrgImageHeight){if(!wElImage)return;var nCurrentImageWidth=wElImage.width();var nCurrentImageHeight=
wElImage.height();if(nCurrentImageHeight/nCurrentImageWidth>nOrgImageHeight/nOrgImageWidth*1.5)wElImage.css("height",
nOrgImageHeight+"px")},this).bind(wEl,nImageWidth,nImageHeight),0)}}},
_onClickImage:function(oEvent){var wEl=$Element(oEvent.element);var sOriginImageSrcUrl=wEl.attr("data-origin-image-src");
if(!sOriginImageSrcUrl){oEvent.stop();return}var wElParent=wEl.parent();if(wElParent&&/^a$/i.test(wElParent.$value().tagName))return;
window.open(sOriginImageSrcUrl,"kinImg")},
destroy:function(){if(this._wEvent){var oImageLoadEvents=this._wEvent["load"];if(oImageLoadEvents)for(var sImageSrc in oImageLoadEvents)if(oImageLoadEvents.hasOwnProperty(sImageSrc)){var oCurrentEventInfo=
oImageLoadEvents[sImageSrc];oCurrentEventInfo.event.detach(oCurrentEventInfo.element,"load")}var oImageClickEvents=
this._wEvent["click"];if(oImageClickEvents)for(var sImageSrc in oImageClickEvents)if(oImageClickEvents.hasOwnProperty(sImageSrc)){var oCurrentEventInfo=
oImageClickEvents[sImageSrc];oCurrentEventInfo.event.detach(oCurrentEventInfo.element,"click")}}this._wElement=
this._wEvent=this._bIsTablet=this._PHOTOINFRA_DOMAIN_PATTERN=null}});
var ProfileAnimation=$Class({_oOption:null,_wEvent:null,_bIsLandscapeMode:null,_aElProfileAnimationArea:null,
_oScrollTarget:null,_oScrollEvent:null,$init:function(htOption){this._oOption=htOption||{};this._setScrollTarget();
this._initialize();if(document.readyState===undefined||document.readyState==="complete")this._initializeOnLoad();
else $Fn(this._initializeOnLoad,this).attach(window,"load");document.addEventListener("initializeProfileAnimationArea",
$Fn(this._initialize,this).bind(),false)},
_initialize:function(){this._bIsLandscapeMode=nhn.Kin.getScreenType()==="TABLET_LANDSCAPE";this._aElProfileAnimationArea=
$ElementList("div._profileAnimation");if(this._aElProfileAnimationArea.length()>0){this._watchScrollEvent();
if(this._oScrollTarget["portrait"]!==this._oScrollTarget["landscape"])this._attachResizeEvent();this._onScroll()}},
_setScrollTarget:function(){var oScrollTarget=this._oOption.scrollTarget||window;if(oScrollTarget.portrait||
oScrollTarget.landscape)this._oScrollTarget={"portrait":oScrollTarget.portrait||window,"landscape":oScrollTarget.landscape||
window};else this._oScrollTarget={"portrait":oScrollTarget,"landscape":oScrollTarget}},
_watchScrollEvent:function(){if(this._oScrollEvent){this._oScrollEvent.event.detach(this._oScrollEvent.element,
"scroll");this._oScrollEvent=null}var oElScrollTarget=this._bIsLandscapeMode?this._oScrollTarget["landscape"]:
this._oScrollTarget["portrait"];this._oScrollEvent={element:oElScrollTarget,event:$Fn(this._onScroll,
this).attach(oElScrollTarget,"scroll")}},
_onScroll:function(we){var oElScrollTarget=this._bIsLandscapeMode?this._oScrollTarget["landscape"]:this._oScrollTarget["portrait"];
for(var i=0,len=this._aElProfileAnimationArea.length();i<len;i++){var wElCurrentProfile=this._aElProfileAnimationArea.get(i);
var sAnimationActivateClass=wElCurrentProfile.attr("data-animation-class");if(!sAnimationActivateClass)continue;
var bIsGpuAccelerationOnManual=wElCurrentProfile.attr("data-gpu-acceleration-on-manual")==="true";if(nhn.Kin.isIntoScreen(wElCurrentProfile.$value(),
oElScrollTarget)){if(wElCurrentProfile.hasClass(sAnimationActivateClass)===false){wElCurrentProfile.addClass(sAnimationActivateClass);
if(bIsGpuAccelerationOnManual)wElCurrentProfile.parent().attr("style","-webkit-transform:translateZ(0);-moz-transform:translateZ(0);-o-transform:translateZ(0);-ms-transform:translateZ(0);transform:translateZ(0);")}}else if(wElCurrentProfile.hasClass(sAnimationActivateClass)===
true){wElCurrentProfile.removeClass(sAnimationActivateClass);if(bIsGpuAccelerationOnManual)wElCurrentProfile.parent().attr("style",
null)}}},
_attachResizeEvent:function(){if(!this._wEvent)this._wEvent={};if(nhn.Kin.OS.ios||nhn.Kin.OS.android){var sResizeEventType=
"onorientationchange"in window?"orientationchange":"resize";if(!this._wEvent[sResizeEventType])this._wEvent[sResizeEventType]=
$Fn(this._onResizeWindow,this).attach(window,sResizeEventType)}else if(!this._wEvent["resize"])this._wEvent["resize"]=
$Fn(this._onResizeWindow,this).attach(window,"resize");if(!this._wEvent["pageshow"])this._wEvent["pageshow"]=
$Fn(this._onResizeWindow,this).attach(window,"pageshow")},
_onResizeWindow:function(){var bIsLandscapeMode=nhn.Kin.getScreenType()==="TABLET_LANDSCAPE";if(this._bIsLandscapeMode===
bIsLandscapeMode)return;this._bIsLandscapeMode=bIsLandscapeMode;this._watchScrollEvent()},
_initializeOnLoad:function(){this._loadAllImages();this._onScroll()},
_loadAllImages:function(){var aElTargetImageList=$ElementList("#ct img._namecardProfile[data-image-src]");
for(var i=0,len=aElTargetImageList.length();i<len;i++){var wElTargetImage=aElTargetImageList.get(i);var sImageSrc=
wElTargetImage.attr("data-image-src");if(!sImageSrc)continue;wElTargetImage.attr("src",sImageSrc);wElTargetImage.attr("data-image-src",
null)}var aElTargetAreaList=$ElementList("#ct [data-bg-image-src]");for(var i=0,len=aElTargetAreaList.length();i<
len;i++){var wElTargetArea=aElTargetAreaList.get(i);var sBackgroundImageSrc=wElTargetArea.attr("data-bg-image-src");
if(!sBackgroundImageSrc)continue;wElTargetArea.css("background-image","url("+sBackgroundImageSrc+")");
wElTargetArea.attr("data-bg-image-src",null)}},
_detachScrollAndResizeEvent:function(){if(!this._wEvent)return;if(this._wEvent["onorientationchange"]){this._wEvent["onorientationchange"].detach(window,
"resize");this._wEvent["onorientationchange"]=null}if(this._wEvent["resize"]){this._wEvent["resize"].detach(window,
"resize");this._wEvent["resize"]=null}if(this._wEvent["pageshow"]){this._wEvent["pageshow"].detach(window,
"pageshow");this._wEvent["pageshow"]=null}if(this._oScrollEvent){this._oScrollEvent.event.detach(this._oScrollEvent.element,
"scroll");this._oScrollEvent=null}},
destroy:function(){this._detachScrollAndResizeEvent();document.removeEventListener("initializeProfileAnimationArea",
$Fn(this._initialize,this).bind(),false);this._oOption=this._wEvent=this._bIsLandscapeMode=this._aElProfileAnimationArea=
null;this._oScrollTarget=this._oScrollEvent=null}});
var FriendAndBlockMenu=$Class({_oOption:null,_oElement:null,_wElement:null,_wEvent:null,_aElFriendBtn:null,
_aElBlockBtn:null,_sFriendU:null,_wFriendBtn:null,_oBlockDocInfo:null,_wBlockBtn:null,_USER_BLOCK_STATUS_AJAX_URL:"/mobile/ajax/getBlockStatusAjax.nhn",
_FOLLOW_FRIEND_AJAX_URL:"/mobile/ajax/followFriendAjax.nhn",_FRIEND_STATUS_AJAX_URL:"/mobile/ajax/getFriendStatusAjax.nhn",
_USER_BLOCK_AJAX_URL:"/mobile/ajax/blockUserAjax.nhn",_MESSAGE:{_FOLLOW_FRIEND_NOT_ALLOWED:"\ub2d8\uc774 \uce5c\uad6c\ucd94\uac00\ub97c \ud5c8\uc6a9\ud558\uace0 \uc788\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.",
_FRIEND_ALREADY_FOLLOWED:"\uc774\ubbf8 \uce5c\uad6c\ucd94\uac00\ub41c \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4.",
_USER_ALREADY_BLOCKED:"\uc774\ubbf8 \ucc28\ub2e8\ub41c \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4.",_USER_BLOCK_SUCCESS:"\ucc28\ub2e8\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",
_USER_BLOCK_FAIL_ARTICLE_OPEN_YN:"\uac8c\uc2dc\ubb3c\uc774 \ube44\uacf5\uac1c \ucc98\ub9ac\ub418\uc5b4 \ucc28\ub2e8\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
_FOLLOW_EXPERT_FRIEND_NOT_ALLOWED:"\uce5c\uad6c\ucd94\uac00 \ubc0f 1:1\uc9c8\ubb38\uc744 \ud560 \uc218 \uc5c6\ub294 \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4. \ub2e4\ub978 \uc0ac\uc6a9\uc790\ub97c \uce5c\uad6c\ucd94\uac00 \ud574\ubcf4\uc138\uc694."},
$init:function(htOption){this._oOption=htOption||{};this._oElement=[];this._wElement=[];this._wEvent=
[];this._setElement();this._setEvent();this._initializeFriendAndBlockBtn();document.addEventListener("initializeFriendAndBlockBtn",
$Fn(this._initializeFriendAndBlockBtn,this).bind(),false)},
_setElement:function(){this._oElement["friendAndBlockDimmedLayer"]=$$("div._friendAndBlockDimmedLayer");
this._oElement["followFriendGuideLayer"]=$("follow_friend_guide_layer");if(this._oElement["followFriendGuideLayer"])this._wElement["followFriendGuideLayer"]=
$Element(this._oElement["followFriendGuideLayer"]);this._oElement["blockUserDesc"]=$$.getSingle("._block_user_desc",
this._oElement["followFriendGuideLayer"]);if(this._oElement["blockUserDesc"])this._wElement["blockUserDesc"]=
$Element(this._oElement["blockUserDesc"]);this._oElement["addFriendCompleteLayer"]=$("add_friend_complete_layer");
if(this._oElement["addFriendCompleteLayer"])this._wElement["addFriendCompleteLayer"]=$Element(this._oElement["addFriendCompleteLayer"]);
this._oElement["exceedNumberOfFriendLayer"]=$("exceed_number_of_friend_layer");if(this._oElement["exceedNumberOfFriendLayer"])this._wElement["exceedNumberOfFriendLayer"]=
$Element(this._oElement["exceedNumberOfFriendLayer"]);this._oElement["userBlockGuideLayer"]=$("user_block_guide_layer");
if(this._oElement["userBlockGuideLayer"])this._wElement["userBlockGuideLayer"]=$Element(this._oElement["userBlockGuideLayer"]);
this._oElement["friendDesc"]=$$.getSingle("._friend_desc",this._oElement["userBlockGuideLayer"]);if(this._oElement["friendDesc"])this._wElement["friendDesc"]=
$Element(this._oElement["friendDesc"])},
_setEvent:function(){if(this._oElement["friendAndBlockDimmedLayer"])this._wEvent["friendAndBlockDimmedLayerClick"]=
$Fn(this._onClickFriendAndBlockDimmedLayer,this).attach(this._oElement["friendAndBlockDimmedLayer"],"click");
if(nhn.Kin.OS.ios||nhn.Kin.OS.android){this._fnOnResizeWindow=$Fn(this._onResizeWindow,this).bind();jindo.m.bindRotate(this._fnOnResizeWindow)}else this._wEvent["resize"]=
$Fn(this._onResizeWindow,this).attach(window,"resize")},
_initializeFriendAndBlockBtn:function(){this._detachFriendAndBlockBtnEvent();this._attachFriendAndBlockBtnEvent()},
_attachFriendAndBlockBtnEvent:function(){this._aElFriendBtn=$$("a._friend_btn");this._aElBlockBtn=$$("a._user_block_btn");
if(this._aElFriendBtn&&this._aElFriendBtn.length>0)for(var i=0;i<this._aElFriendBtn.length;i++)this._wEvent["friendBtnClick"][i]=
$Fn(this._onClickFriendBtn,this).attach(this._aElFriendBtn[i],"click");if(this._aElBlockBtn&&this._aElBlockBtn.length>
0)for(var i=0;i<this._aElBlockBtn.length;i++)this._wEvent["userBlockBtnClick"][i]=$Fn(this._onClickUserBlockBtn,
this).attach(this._aElBlockBtn[i],"click")},
_detachFriendAndBlockBtnEvent:function(){if(this._aElFriendBtn&&this._aElFriendBtn.length>0)for(var i=
0;i<this._aElFriendBtn.length;i++)this._wEvent["friendBtnClick"][i].detach(this._aElFriendBtn[i],"click");
if(this._aElBlockBtn&&this._aElBlockBtn.length>0)for(var i=0;i<this._aElBlockBtn.length;i++)this._wEvent["userBlockBtnClick"][i].detach(this._aElBlockBtn[i],
"click");this._aElFriendBtn=[];this._aElBlockBtn=[];this._wEvent["friendBtnClick"]=[];this._wEvent["userBlockBtnClick"]=
[]},
_onResizeWindow:function(we){var wLayer=null;if(this._wElement["followFriendGuideLayer"].visible())wLayer=
this._wElement["followFriendGuideLayer"];else if(this._wElement["userBlockGuideLayer"].visible())wLayer=
this._wElement["userBlockGuideLayer"];else if(this._wElement["exceedNumberOfFriendLayer"].visible())wLayer=
this._wElement["exceedNumberOfFriendLayer"];else if(this._wElement["addFriendCompleteLayer"].visible())wLayer=
this._wElement["addFriendCompleteLayer"];if(wLayer){var wLayerBox=$Element($$.getSingle("div._layer",
wLayer.$value()));var nLayerTop=($Document(document).clientSize().height-wLayerBox.height())/2;wLayerBox.css({"top":nLayerTop,
"position":"fixed"})}},
_onClickFriendBtn:function(we){if(nhn.Kin.checkRos()){we.stop();return false}if(!nhn.isLogin){alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");
we.stop();return false}var wEl=$Element(we.currentElement);if(wEl.hasClass("_is_friend")){alert(this._MESSAGE._FRIEND_ALREADY_FOLLOWED);
we.stop();return false}this._wFriendBtn=wEl;var sUserKey=wEl.attr("data-u");var sFriendViewName=wEl.attr("data-friend-view-name");
var oParam={u:sUserKey};var oOption={method:"post",timeout:5,onload:$Fn(function(res){var oResponse=res.json();
if(oResponse&&oResponse.isSuccess){var oResult=null;try{oResult=JSON.parse(oResponse.result)}catch(e){}if(oResult===
null)return false;if(oResult.isExpertise){alert(this._MESSAGE._FOLLOW_EXPERT_FRIEND_NOT_ALLOWED);return false}if(oResult.isBlocked){alert(sFriendViewName+
this._MESSAGE._FOLLOW_FRIEND_NOT_ALLOWED);return false}if(this._wElement["blockUserDesc"].visible())this._wElement["blockUserDesc"].hide();
if(oResult.isOpenBlock)this._wElement["blockUserDesc"].show();this._sFriendU=sUserKey;this._openFriendAndBlockDimmedLayer(this._wElement["followFriendGuideLayer"])}else alert(oResponse.errorMsg||
nhn.Kin.oMessage.ERROR)},this).bind(),
ontimeout:function(res){alert(nhn.Kin.oMessage.TIMEOUT)},
onerror:function(res){alert(nhn.Kin.oMessage.ERROR)}};
var oUserBlockStatusAjax=new $Ajax(this._USER_BLOCK_STATUS_AJAX_URL,oOption);oUserBlockStatusAjax.request(oParam);
we.stop();return false},
_onClickUserBlockBtn:function(we){if(nhn.Kin.checkRos()){we.stop();return false}if(!nhn.isLogin){alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");
we.stop();return false}var wEl=$Element(we.currentElement);if(wEl.hasClass("_is_blocked")){alert(this._MESSAGE._USER_ALREADY_BLOCKED);
we.stop();return false}this._wBlockBtn=wEl;var sDirId=wEl.attr("data-dir-id");var sDocId=wEl.attr("data-doc-id");
var sAnswerNo=wEl.attr("data-answer-no");var sOpenFlag=wEl.attr("data-open-flag");var oParam={dirId:sDirId,
docId:sDocId,answerNo:sAnswerNo};if(sOpenFlag&&sOpenFlag=="Y"){var oOption={method:"post",timeout:5,onload:$Fn(function(res){var oResponse=
res.json();if(oResponse&&oResponse.isSuccess){var oResult=null;try{oResult=JSON.parse(oResponse.result)}catch(e){}if(oResult===
null)return false;if(this._wElement["friendDesc"].visible())this._wElement["friendDesc"].hide();var nAnswerNo=
parseInt(sAnswerNo,10);if(nAnswerNo===0&&oResult.isUseNickName&&oResult.isBlockedUser){alert(this._MESSAGE._USER_ALREADY_BLOCKED);
return false}if(oResult.isFriend)this._wElement["friendDesc"].show();this._oBlockDocInfo=oParam;this._openFriendAndBlockDimmedLayer(this._wElement["userBlockGuideLayer"])}else alert(oResponse.errorMsg||
nhn.Kin.oMessage.ERROR)},this).bind(),
ontimeout:function(res){alert(nhn.Kin.oMessage.TIMEOUT)},
onerror:function(res){alert(nhn.Kin.oMessage.ERROR)}};
var oFriendStatusAjax=new $Ajax(this._FRIEND_STATUS_AJAX_URL,oOption);oFriendStatusAjax.request(oParam)}else{this._oBlockDocInfo=
oParam;if(this._wElement["friendDesc"].visible())this._wElement["friendDesc"].hide();this._openFriendAndBlockDimmedLayer(this._wElement["userBlockGuideLayer"])}we.stop();
return false},
_openFriendAndBlockDimmedLayer:function(wLayer){if(wLayer){wLayer.show();var wLayerBox=$Element($$.getSingle("div._layer",
wLayer.$value()));var nLayerTop=($Document(document).clientSize().height-wLayerBox.height())/2;wLayerBox.css({"top":nLayerTop,
"position":"fixed"})}},
_onClickFriendAndBlockDimmedLayer:function(we){var wEl=$Element(we.element);if(wEl.hasClass("_layer_close")){if(wEl.hasClass("_user_block_layer_close"))if(this._wBlockBtn.hasClass("_user_block_btn_at_question_bottom"))nclk(this,
"edq.blayern","","");else nclk(this,"eda.blayern","","");this._closeFriendAndBlockDimmedLayer();we.stop()}else if(wEl.hasClass("_follow_friend")){this._followFriend(we);
we.stop()}else if(wEl.hasClass("_user_block")){if(this._wBlockBtn.hasClass("_user_block_btn_at_question_bottom"))nclk(this,
"edq.blayery","","");else nclk(this,"eda.blayery","","");this._blockUser(we);we.stop()}},
_closeFriendAndBlockDimmedLayer:function(){if(this._wElement["followFriendGuideLayer"].visible())this._wElement["followFriendGuideLayer"].hide();
if(this._wElement["userBlockGuideLayer"].visible())this._wElement["userBlockGuideLayer"].hide();if(this._wElement["exceedNumberOfFriendLayer"].visible())this._wElement["exceedNumberOfFriendLayer"].hide();
if(this._wElement["addFriendCompleteLayer"].visible())this._wElement["addFriendCompleteLayer"].hide()},
_followFriend:function(we){if(nhn.Kin.checkRos()){we.stop();return false}if(!nhn.isLogin){we.stop();alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");
return false}this._closeFriendAndBlockDimmedLayer();var sUserKey=this._sFriendU;var oParam={u:sUserKey};
var oOption={method:"post",timeout:5,onload:$Fn(function(res){var oResponse=res.json();if(oResponse&&
oResponse.isSuccess){this._openFriendAndBlockDimmedLayer(this._wElement["addFriendCompleteLayer"]);this._wFriendBtn.addClass("is_friend _is_friend");
if(this._oOption.isProfilePage){var oElFriendText=$$.getSingle("._text",this._wFriendBtn.$value());$Element(oElFriendText).text("\uce5c\uad6c")}if(this._wElement["blockUserDesc"].visible()){var wEndWrapBox=
this._wFriendBtn.parent(function(v){return v.hasClass("_answer")},3);
if(wEndWrapBox&&wEndWrapBox.length>0){var oBlockBtn=$$.getSingle("._user_block_btn",wEndWrapBox[0].$value());
if(oBlockBtn)$Element(oBlockBtn).removeClass("_is_blocked")}}}else if(oResponse&&oResponse.isSuccess===
false&&oResponse.isOverMaxFollowCount&&oResponse.isOverMaxFollowCount===true)this._openFriendAndBlockDimmedLayer(this._wElement["exceedNumberOfFriendLayer"]);
else alert(oResponse.errorMsg||nhn.Kin.oMessage.ERROR)},this).bind(),
ontimeout:$Fn(function(res){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(res){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oFollowFriendAjax=new $Ajax(this._FOLLOW_FRIEND_AJAX_URL,oOption);oFollowFriendAjax.request(oParam);
we.stop()},
_blockUser:function(we){if(nhn.Kin.checkRos()){we.stop();return false}if(!nhn.isLogin){we.stop();alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");
return false}this._closeFriendAndBlockDimmedLayer();var oParam=this._oBlockDocInfo;var oOption={method:"post",
timeout:5,onload:$Fn(function(res){var oResponse=res.json();if(oResponse&&oResponse.isSuccess){alert(this._MESSAGE._USER_BLOCK_SUCCESS);
this._wBlockBtn.addClass("_is_blocked");if(this._wElement["friendDesc"].visible()){var wEndWrapBox=this._wBlockBtn.parent(function(v){return v.hasClass("_answer")},
5);
if(wEndWrapBox&&wEndWrapBox.length>0){var oFriendBtn=$$.getSingle("._friend_btn",wEndWrapBox[0].$value());
if(oFriendBtn)$Element(oFriendBtn).removeClass("is_friend _is_friend")}}}else alert(oResponse.errorMsg||
nhn.Kin.oMessage.ERROR)},this).bind(),
ontimeout:$Fn(function(res){alert(nhn.Kin.oMessage.TIMEOUT)},this).bind(),
onerror:$Fn(function(res){alert(nhn.Kin.oMessage.ERROR)},this).bind()};
var oBlockUserAjax=new $Ajax(this._USER_BLOCK_AJAX_URL,oOption);oBlockUserAjax.request(oParam);we.stop()},
destroy:function(){if(this._wEvent!==null&&typeof this._wEvent!=="undefined"){if(this._wEvent["friendAndBlockDimmedLayerClick"])this._wEvent["friendAndBlockDimmedLayerClick"].detach(this._oElement["friendAndBlockDimmedLayer"],
"click");this._detachFriendAndBlockBtnEvent()}this._oElement=this._wElement=this._wEvent=this._aElFriendBtn=
this._aElBlockBtn=this._sFriendU=this._wFriendBtn=this._oBlockDocInfo=this._wBlockBtn=null}});
var KinIScrapAnswer=$Class({_oElement:null,_wElement:null,_wEvent:null,_bIsAjaxProcessing:false,_oLoading:null,
_SCRAP_ANSWER_AJAX_URL:{"KIN":"/mobile/kini/scrapAnswerAjax.nhn","DELIVERY":"/mobile/kini/scrapDeliveryAjax.nhn",
"SHOPPING":"/mobile/kini/scrapShoppingAjax.nhn","SBI":"/mobile/kini/scrapSBIAjax.nhn"},_MESSAGE:{PROCESSING:"\ub2f5\ubcc0\uc744 \uac00\uc838\uc624\ub294 \uc911\uc785\ub2c8\ub2e4.",
ERROR_PARAM:"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc694\uccad\uc785\ub2c8\ub2e4."},$init:function(htOption){this._oOption=
htOption||{};this._setElement();this._setEvent();this._setLoading();$Fn(this._destroy,this).attach(window,
"unload")},
_setElement:function(){this._oElement={};this._wElement={};this._wEvent={};this._oElement["contents"]=
$("ct");this._oElement["kinIScrapArea"]=$$.getSingle("._kinIScrapArea",this._oElement["contents"]);this._oElement["kinIScrapAnswer"]=
$$.getSingle("._kinIScrapAnswer",this._oElement["kinIScrapArea"]);this._oElement["kinIScrapAnswerClose"]=
$$.getSingle("._kinIScrapAnswerClose",this._oElement["kinIScrapArea"]);this._wElement["kinIScrapArea"]=
$Element(this._oElement["kinIScrapArea"])},
_setEvent:function(){if(this._oElement["kinIScrapAnswer"])this._wEvent["kinIScrapAnswer"]=$Fn(this._onClickScrapAnswer,
this).attach(this._oElement["kinIScrapAnswer"],"click");if(this._oElement["kinIScrapAnswerClose"])this._wEvent["kinIScrapAnswerClose"]=
$Fn(this._onClickScrapAnswerClose,this).attach(this._oElement["kinIScrapAnswerClose"],"click")},
_setLoading:function(){this._oLoading=new jindo.m.Loading(null,{nWidth:30,nHeight:30,sDefaultForeground:"#999",
bUseFoggy:false,sLoadingText:""})},
_onClickScrapAnswerClose:function(we){if(this._wElement["kinIScrapArea"])this._wElement["kinIScrapArea"].hide();
we.stop()},
_onClickScrapAnswer:function(we){we.stop();if(nhn.Kin.checkRos())return false;if(this._bIsAjaxProcessing===
true){alert(this._MESSAGE.PROCESSING);return}var wel=$Element(we.element);var sKinIAnswerType=wel.attr("data-kini-answer-type")||
"KIN";var oParam={mdu:this._oOption.mdu,answerToken:this._oOption.answerToken};if(!oParam.mdu||!oParam.answerToken){alert(this._MESSAGE.ERROR_PARAM);
return}this._showLoadingIndicator();var oOption={method:"post",data:oParam,timeout:5,onload:$Fn(this._onSuccessScrapAnswer,
this).bind(),ontimeout:$Fn(function(oResponse){alert(nhn.Kin.oMessage.TIMEOUT);this._hideLoadingIndicator()},
this).bind(),
onerror:$Fn(function(oResponse){alert(nhn.Kin.oMessage.ERROR);this._hideLoadingIndicator()},this).bind()};
var oAjax=new $Ajax(this._SCRAP_ANSWER_AJAX_URL[sKinIAnswerType],oOption);oAjax.request(oParam)},
_onSuccessScrapAnswer:function(oResponse){this._hideLoadingIndicator();if(!oResponse)alert(nhn.Kin.oMessage.ERROR);
var result=oResponse.json();if(!result){alert(nhn.Kin.oMessage.ERROR);return}if(result.isSuccess===false){alert(result.errorMsg||
nhn.Kin.oMessage.ERROR);return}if(result.detailUrl)location.href=result.detailUrl},
_showLoadingIndicator:function(){this._bIsAjaxProcessing=true;if(this._oLoading)this._oLoading.show()},
_hideLoadingIndicator:function(){if(this._oLoading)this._oLoading.hide();this._bIsAjaxProcessing=false},
_destroy:function(){if(this._wEvent["kinIScrapAnswer"]!==null)this._wEvent["kinIScrapAnswer"].detach(this._oElement["kinIScrapAnswer"],
"click");if(this._wEvent["kinIScrapAnswerClose"]!==null)this._wEvent["kinIScrapAnswerClose"].detach(this._oElement["kinIScrapAnswerClose"],
"click");this._oElement=this._wElement=this._oEvent=null}});
var KinILinkedAnswerList=$Class({_oElement:null,_wElement:null,_wEvent:null,_wTemplate:null,_bIsAjaxProcessing:false,
_oLoading:null,_oLinkedAnswerListAjax:null,_DEFAULT_COUNT_PER_PAGE:3,_DEFAULT_PAGE:1,_LINKED_ANSWER_LIST_AJAX_URL:"/mobile/kini/getLinkedAnswerListAjax.nhn",
$init:function(htOption){this._oOption=htOption||{};this._oLinkedAnswerListAjax={};this._setElement();
this._setEvent();$Fn(this._destroy,this).attach(window,"unload")},
_setElement:function(){this._oElement={};this._wElement={};this._wEvent={};this._wTemplate={};this._oElement["contents"]=
$("ct");this._oElement["endContentsArea"]=$$.getSingle("#section_group1 div._contentsArea");this._oElement["linkedAnswerListArea"]=
$$("._linkedAnswerListArea",this._oElement["contents"]);this._wTemplate["linkedAnswerListTpl"]=$Template("linkedAnswerListTpl")},
_setEvent:function(){if(!this._oElement["linkedAnswerListArea"])return;document.addEventListener("refreshKinILinkedAnswerListArea",
$Fn(this._refreshKinILinkedAnswerListArea,this).bind(),false);if(nhn.Kin.OS.ios||nhn.Kin.OS.android){this._fnOnResizeWindow=
$Fn(this._onResizeWindow,this).bind();jindo.m.bindRotate(this._fnOnResizeWindow)}else this._wEvent["resize"]=
$Fn(this._onResizeWindow,this).attach(window,"resize");this._wEvent["pageshow"]=$Fn(this._onResizeWindow,
this).attach(window,"pageshow");this._wEvent["helpAreaList"]=new Array},
_refreshKinILinkedAnswerListArea:function(){this._oElement["linkedAnswerListArea"]=$$("._linkedAnswerListArea",
this._oElement["contents"])},
_onResizeWindow:function(){var bIsLandscapeMode=nhn.Kin.getScreenType()==="TABLET_LANDSCAPE";if(this._bIsLandscapeMode===
bIsLandscapeMode)return;this._bIsLandscapeMode=bIsLandscapeMode;if(bIsLandscapeMode){if(this._wEvent["scroll"]){this._wEvent["scroll"].detach(window,
"scroll");this._wEvent["scroll"]=null}this._wEvent["contentsScroll"]=$Fn(this._onScroll,this).attach(this._oElement["endContentsArea"],
"scroll")}else{if(this._wEvent["contentsScroll"]){this._wEvent["contentsScroll"].detach(this._oElement["endContentsArea"],
"scroll");this._wEvent["contentsScroll"]=null}this._wEvent["scroll"]=$Fn(this._onScroll,this).attach(window,
"scroll")}},
_onScroll:function(we){if(!this._oElement["linkedAnswerListArea"])return;var bDeleteClass=false;var nLength=
this._oElement["linkedAnswerListArea"].length;for(var i=0;i<nLength;i++){var bIsIntoScreen=nhn.Kin.isIntoScreen(this._oElement["linkedAnswerListArea"][i],
this._bIsLandscapeMode?this._oElement["endContentsArea"]:null);if(!bIsIntoScreen)return;var nAnswerNo=
this._oElement["linkedAnswerListArea"][i].getAttribute("data-answer-no")||0;if(!nAnswerNo||this._oLinkedAnswerListAjax[nAnswerNo]&&
!this._oLinkedAnswerListAjax[nAnswerNo].isIdle())return;this._callLinkedAnswerListAjax(this._oElement["linkedAnswerListArea"][i])}},
_callLinkedAnswerListAjax:function(oTarget){if(!oTarget)return;var wel=$Element(oTarget);var nDocId=wel.attr("data-doc-id");
var nAnswerNo=wel.attr("data-answer-no");if(!nAnswerNo||!nDocId)return;var oAjaxParams={"countPerPage":this._DEFAULT_COUNT_PER_PAGE,
"page":this._DEFAULT_PAGE,"orgDocId":nDocId,"orgAnswerNo":nAnswerNo};var oAjaxOptions={method:"get",timeout:3,
onload:$Fn(this._onSuccessListAjax,this).bind(wel),ontimeout:$Fn(function(nAnswerNo){var oCurrentProcessingAjax=
this._oLinkedAnswerListAjax&&this._oLinkedAnswerListAjax[nAnswerNo];if(oCurrentProcessingAjax&&!oCurrentProcessingAjax.isIdle())oCurrentProcessingAjax.abort()},
this).bind(nAnswerNo),
onerror:$Fn(function(nAnswerNo){var oCurrentProcessingAjax=this._oLinkedAnswerListAjax&&this._oLinkedAnswerListAjax[nAnswerNo];
if(oCurrentProcessingAjax&&!oCurrentProcessingAjax.isIdle())oCurrentProcessingAjax.abort()},this).bind(nAnswerNo)};
this._oLinkedAnswerListAjax[nAnswerNo]=new $Ajax(this._LINKED_ANSWER_LIST_AJAX_URL,oAjaxOptions);this._oLinkedAnswerListAjax[nAnswerNo].request(oAjaxParams)},
_onSuccessListAjax:function(wel,oResponse){var oResponseJson=oResponse.json();if(oResponseJson&&oResponseJson.isSuccess&&
oResponseJson.list){var aList=oResponseJson.list;wel=wel.replace(this._wTemplate["linkedAnswerListTpl"].process({"list":this._getProcessedList(aList)}))}this._setHelpAreaEvent(wel);
this._refreshKinILinkedAnswerListArea()},
_setHelpAreaEvent:function(wel){var elLinkedAnswerHelpAreaOpenBtn=$$.getSingle("._linkedAnswerHelpAreaOpenBtn",
wel.$value());var elLinkedAnswerHelpAreaCloseBtn=$$.getSingle("._linkedAnswerHelpAreaCloseBtn",wel.$value());
if(elLinkedAnswerHelpAreaOpenBtn&&elLinkedAnswerHelpAreaCloseBtn){this._wEvent["helpAreaList"][this._wEvent["helpAreaList"].length]=
{"action":"click","target":elLinkedAnswerHelpAreaOpenBtn,"event":$Fn(this._onClickLinkedAnswerHelpAreaOpenBtn,
this).attach(elLinkedAnswerHelpAreaOpenBtn,"click")};this._wEvent["helpAreaList"][this._wEvent["helpAreaList"].length]=
{"action":"click","target":elLinkedAnswerHelpAreaCloseBtn,"event":$Fn(this._onClickLinkedAnswerHelpAreaCloseBtn,
this).attach(elLinkedAnswerHelpAreaCloseBtn,"click")}}},
_onClickLinkedAnswerHelpAreaOpenBtn:function(we){we.stop();var wEl=$Element(we.currentElement);var aElLinkedAnswerArea=
wEl.parent(function(wElCurrent){return wElCurrent.hasClass("_linkedAnswerArea")},5);
if(!aElLinkedAnswerArea||aElLinkedAnswerArea.length<1)return;var wElLinkedAnswerArea=aElLinkedAnswerArea[0];
var wElLinkedAnswerHelpArea=$Element($$.getSingle("._linkedAnswerHelpArea",wElLinkedAnswerArea.$value()));
if(wElLinkedAnswerHelpArea){wElLinkedAnswerHelpArea.toggleClass("is-show");wEl.toggleClass("pressed")}},
_onClickLinkedAnswerHelpAreaCloseBtn:function(we){we.stop();var wEl=$Element(we.currentElement);var aElLinkedAnswerArea=
wEl.parent(function(wElCurrent){return wElCurrent.hasClass("_linkedAnswerArea")},5);
if(!aElLinkedAnswerArea||aElLinkedAnswerArea.length<1)return;var wElLinkedAnswerArea=aElLinkedAnswerArea[0];
var wElLinkedAnswerHelpArea=$Element($$.getSingle("div._linkedAnswerHelpArea",wElLinkedAnswerArea.$value()));
if(wElLinkedAnswerHelpArea)wElLinkedAnswerHelpArea.removeClass("is-show");var wElLinkedAnswerHelpAreaOpenBtn=
$Element($$.getSingle("a._linkedAnswerHelpAreaOpenBtn",wElLinkedAnswerArea.$value()));if(wElLinkedAnswerHelpAreaOpenBtn)wElLinkedAnswerHelpAreaOpenBtn.removeClass("pressed")},
_getProcessedList:function(aList){if(!aList)return null;for(var i=0,len=aList.length;i<len;i++){var oListItem=
aList[i];var nDirId=oListItem["dirId"]||0;var nDocId=oListItem["docId"]||0;if(nDirId&&nDocId)oListItem["detailUrl"]=
"/mobile/qna/detail.nhn?d1Id\x3d"+nhn.Kin.getD1Id(nDirId)+"\x26dirId\x3d"+nDirId+"\x26docId\x3d"+nDocId}return aList},
_destroy:function(){if(this._wEvent&&this._oElement){if(nhn.Kin.OS.ios||nhn.Kin.OS.android){if(this._fnOnResizeWindow){jindo.m.unbindRotate(this._fnOnResizeWindow);
this._fnOnResizeWindow=null}}else if(this._wEvent["resize"]){this._wEvent["resize"].detach(window,"resize");
this._wEvent["resize"]=null}if(this._wEvent["pageshow"])this._wEvent["pageshow"].detach(window,"pageshow");
if(this._wEvent["scroll"]){this._wEvent["scroll"].detach(window,"scroll");this._wEvent["scroll"]=null}if(this._wEvent["helpAreaList"])for(var i=
0,len=this._wEvent["helpAreaList"].length;i<len;i++){var oCurrentEvent=this._wEvent["helpAreaList"][i];
if(oCurrentEvent)oCurrentEvent["event"].detach(oCurrentEvent["target"],oCurrentEvent["action"])}if(this._wEvent["contentsScroll"]&&
this._oElement["endContentsArea"]){this._wEvent["contentsScroll"].detach(this._oElement["endContentsArea"],
"scroll");this._wEvent["contentsScroll"]=null}}this._oElement=this._wElement=this._wTemplate=this._wEvent=
null}});
