"undefined"==typeof nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},nhn.mobile.fs=nhn.mobile.fs||{},nhn.mobile.fs.createClass=function(t){var e=function(){t.construct instanceof Function&&t.construct.apply(this,arguments)};return e.prototype=t,e.prototype.constructor=e,e.extend=nhn.mobile.fs.extend,e},nhn.mobile.fs.extend=function(t){var e,n,i,s=this,o=function(){s.apply(this,arguments),t.construct instanceof Function&&t.construct.apply(this,arguments)};e=function(){},e.prototype=s.prototype,n=new e;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return o.prototype=n,o.prototype.constructor=o,o.extend=arguments.callee,o},nhn.mobile.fs.Component=nhn.mobile.fs.createClass({construct:function(t){this._htHandler={},this._htOption={},this.option(t||{})},option:function(t,e){var n,i;switch(typeof t){case"undefined":n={};for(i in this._htOption)n[i]=this._htOption[i];return n;case"string":if("undefined"==typeof e)return this._htOption[t];this._htOption[t]=e;break;case"object":for(i in t)this._htOption[i]=t[i]}return this},fire:function(t,e){e=e||{};var n,i,s,o,a=this._htHandler[t]||[],r=a.length>0;if(!r)return!0;for(a=a.concat(),e.sType=t,"undefined"==typeof e._aExtend&&(e._aExtend=[],e.stop=function(){e._aExtend.length>0&&(e._aExtend[e._aExtend.length-1].bCanceled=!0)}),e._aExtend.push({sType:t,bCanceled:!1}),n=[e],s=arguments.length,i=2;i<s;i++)n.push(arguments[i]);for(i=0;o=a[i];i++)o.apply(this,n);return!e._aExtend.pop().bCanceled},on:function(t,e){var n,i=this._htHandler[t];if(1===arguments.length){for(n in arguments[0])this.on(n,arguments[0][n]);return this}return!i&&(i=this._htHandler[t]=[]),i.push(e),this},off:function(t,e){var n,e,i=this._htHandler[t];if(1===arguments.length){for(n in arguments[0])this.off(n,arguments[0][n]);return this}if(i)for(n=0;e=i[n];n++)if(e===e){i=i.splice(n,1);break}return this},offAll:function(t){var e,n=this._htHandler;if(arguments.length)return"undefined"==typeof n[t]?this:(delete n[t],this);for(e in n)delete n[e];return this},callback:function(t,e,n,i){return"string"==typeof t&&(t=this[t]),e=e||this,function(){var s=arguments.length?Array.prototype.slice.call(arguments):[];return n&&(s=n.concat(s)),i&&(s=s.concat(i)),t.apply(e,s)}}}),nhn.mobile.fs.Storage=nhn.mobile.fs.Component.extend({construct:function(){this._initVar()},ready:function(){return!this.isReady()&&this.fire("ready",{bIsSupport:this.isSupport()}),this._bIsReady=!0,this},isReady:function(){return!!this._bIsReady},isSupport:function(){return this._isSupportsLocalStorage()},setItem:function(t,e){try{this._oLocalStorage.setItem(t,e),this.fire("addItem",{itemKey:t})}catch(n){console.error(n)}},setItems:function(t){var e;try{for(e in t)this._oLocalStorage.setItem(e,t[e])}catch(n){console.error(n)}},getItem:function(t){var e;try{e=this._oLocalStorage.getItem(t),this.fire("readItem",{itemValue:e,itemKey:t})}catch(n){console.error(n)}return e},getAllItems:function(){var t,e,n=0,i={};try{for(n=this._oLocalStorage.length,e=0;e<n;e++)t=this._oLocalStorage.key(e),i[t]=this._oLocalStorage.getItem(t);this.fire("readAllItem",{item:i})}catch(s){console.error(s)}return i},removeItem:function(t){try{this._oLocalStorage.removeItem(t),this.fire("removeItem",{itemKey:t})}catch(e){console.error(e)}},clearStorage:function(){try{this._oLocalStorage.clear(),this.fire("clearStorage")}catch(t){console.error(t)}},getLength:function(){var t=0;try{t=this._oLocalStorage.length}catch(e){console.error(e)}return t},_isSupportsLocalStorage:function(){var t=!1;try{t="localStorage"in window&&null!==window.localStorage}catch(e){console.error(e)}return t},reloadStorage:function(){try{this._oLocalStorage=window.localStorage}catch(t){console.error(t)}},destroy:function(){this._oLocalStorage=null},_initVar:function(){try{this._oLocalStorage=window.localStorage}catch(t){console.error(t)}}}),nhn.mobile.fs.Storage.VERSION="2.0.1","undefined"==typeof window.nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},nhn.mobile.ac=nhn.mobile.ac||{},nhn.mobile.kh=nhn.mobile.kh||{},nhn.mobile.ac.createClass=function(t){var e=function(){t.construct instanceof Function&&t.construct.apply(this,arguments)};return e.prototype=t,e.prototype.constructor=e,e.extend=nhn.mobile.ac.extend,e},nhn.mobile.ac.extend=function(t){var e,n,i,s=this,o=function(){s.apply(this,arguments),t.construct instanceof Function&&t.construct.apply(this,arguments)};e=function(){},e.prototype=s.prototype,n=new e;for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return o.prototype=n,o.prototype.constructor=o,o.extend=arguments.callee,o},nhn.mobile.ac.$=function(t){function e(t){return t=t||this.el,!!t&&("object"==typeof HTMLElement?t instanceof HTMLElement:"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName)}function n(t,e,n){var i,s,o,a=[];for(i in e)a.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return s="jsonp"+Math.round(+new Date+1000001*Math.random()),t=t.substr(0,t.length-1)+s+"&"+a.join("&"),window[s]=function(t){n(t),delete window[s],document.head.removeChild(o),o=null},o=this._elScript=document.createElement("script"),o.setAttribute("type","text/javascript"),o.setAttribute("src",t),document.head.appendChild(o),{abort:function(){o&&(window[s]=function(){delete window[s]},document.head.removeChild(o),o=null)}}}function i(t,n){var i=arguments.callee,s=null;return this instanceof i?t instanceof i?t:(s=e(t)||t===document||t===window?t:n?n.querySelector(t):document.querySelector(t),void(this.el=s)):new i(t,n)}return i.prototype=t,i.prototype.constructor=i,i.prototype.isElement=e,i.getJSON=n,i}({on:function(t,e){return this.el.addEventListener(t,e),this},off:function(t,e){return this.el.removeEventListener(t,e),this},show:function(){return this.el.style.display="block",this},hide:function(){return this.el.style.display="none",this},is:function(t){if(":visible"===t)return"none"!==this.el.style.display},html:function(t){return"undefined"==typeof t?this.el.innerHTML:(this.el.innerHTML=t,this)},text:function(t){return"undefined"==typeof t?this.el.textContent:(this.el.textContent=t+"",this)},hasClass:function(t){return(" "+this.el.className+" ").indexOf(" "+t+" ")>-1},addClass:function(t){var e=this.el.className;return this.hasClass(t)||(this.el.className=e?e+" "+t:t),this},removeClass:function(t){var e;return this.hasClass(t)&&(e=new RegExp("(\\s|^)"+t+"(\\s|$)"),this.el.className=this.el.className.replace(e," ").replace(/^\s+|\s+$/g,"")),this},get:function(t){return this.el},append:function(t){var e=document.createElement("div");return e.innerHTML=t,this.el.appendChild(e.firstChild),this}}),nhn.mobile.ac.Component=nhn.mobile.ac.createClass({construct:function(){this._htHandler={},this._htOption={}},option:function(t,e){var n,i;switch(typeof t){case"undefined":n={};for(i in this._htOption)n[i]=this._htOption[i];return n;case"string":if("undefined"==typeof e)return this._htOption[t];this._htOption[t]=e;break;case"object":for(i in t)this._htOption[i]=t[i]}return this},fire:function(t,e){e=e||{};var n,i,s,o,a=this._htHandler[t]||[],r=a.length>0;if(!r)return!0;for(a=a.concat(),e.sType=t,"undefined"==typeof e._aExtend&&(e._aExtend=[],e.stop=function(){e._aExtend.length>0&&(e._aExtend[e._aExtend.length-1].bCanceled=!0)}),e._aExtend.push({sType:t,bCanceled:!1}),n=[e],s=arguments.length,i=2;i<s;i++)n.push(arguments[i]);for(i=0;o=a[i];i++)o.apply(this,n);return!e._aExtend.pop().bCanceled},on:function(t,e){var n;if(1===arguments.length){for(n in arguments[0])this.on(n,arguments[0][n]);return this}var i=this._htHandler[t];return"undefined"==typeof i&&(i=this._htHandler[t]=[]),i.push(e),this},off:function(t,e){var n,i,s;if(1===arguments.length){for(n in arguments[0])this.off(n,arguments[0][n]);return this}if(s=this._htHandler[t])for(n=0;i=s[n];n++)if(i===e){s=s.splice(n,1);break}return this},offAll:function(t){var e,n=this._htHandler;if(arguments.length)return"undefined"==typeof n[t]?this:(delete n[t],this);for(e in n)delete n[e];return this},callback:function(t,e,n,i){return"string"==typeof t&&(t=this[t]),e=e||this,function(){var s=arguments.length?Array.prototype.slice.call(arguments):[];return n&&(s=n.concat(s)),i&&(s=s.concat(i)),t.apply(e,s)}},getCookie:function(t){var e,n,i=document.cookie.split(/\s*;\s*/),s=i.length,o=new RegExp("^(\\s*"+t+"\\s*=)");for(n=0;n<s;n++)if(e=i[n],o.test(e))return decodeURIComponent(e.substr(RegExp.$1.length));return null},setCookie:function(t,e,n,i,s){var o="";n&&(o="; expires="+new Date((new Date).getTime()+1e3*n*60*60*24).toGMTString()),i||(i=""),s||(s="/"),document.cookie=t+"="+encodeURIComponent(e)+o+"; path="+s+(i?"; domain="+i:"")},isAndroid:function(){return/Android/.test(navigator.userAgent)},isIOS:function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)},isIPad:function(){return/iPad/.test(navigator.userAgent)},getOSVersion:function(){var t=navigator.userAgent,e=null;return this.isAndroid()?(aMatchResult=t.match(/Android ([\d|\.]+)/),null!==aMatchResult&&void 0!==aMatchResult[1]&&(e=aMatchResult[1])):this.isIOS()&&(aMatchResult=t.match(/(iPhone )?OS ([\d|_]+)/),null!==aMatchResult&&void 0!==aMatchResult[2]&&(e=String(aMatchResult[2]).split("_").join("."))),e},isMobileDevice:function(){return/(iPad|Mobile|Android|Nokia|webOS|BlackBerry|Opera Mini)/.test(navigator.userAgent)}}),function(t){nhn.mobile.ac.Input=nhn.mobile.ac.Component.extend({construct:function(e){this.option(e||{}),this.elInput=e.elInput,this.elClearBtn=e.elClearBtn,this.elClearBtn&&(this._$elClearBtn=t(this.elClearBtn)),this.elSubmitBtn=e.elSubmitBtn,this._sValue=this.getValue(),this._bMustFocused=!1,this.oAC=null,this.oData=null,this.oView=null,this._attachEvent()},getValue:function(){return this.elInput.value},setValue:function(t){return this.elInput.value=this._sValue=t,this},change:function(){return this.oData.request(this.getValue()),this},focus:function(){return this._bIsAndroidLT3_0()&&(this._bMustFocused=!0),this.elInput.focus(),this},blur:function(){return this.elInput.blur(),this},setPlaceholderText:function(t){return this.elInput.setAttribute("placeholder",t),this},isComponentElement:function(t){return t===this.elInput||t===this.elClearBtn||t===this.elSubmitBtn},setRelatedObject:function(t){return this.oAC=t.oAC,this.oData=t.oData,this.oView=t.oView,this},isFocused:function(){return!!this._bIsFocused},_attachEvent:function(){var e=t(document),n=this.isMobileDevice()?"touchstart":"mousedown";t(this.elInput).on("focus",this.callback("_onFocus")).on("blur",this.callback("_onBlur")).on(this.isIOS()?"keyup":"input",this.callback("_onInput")),e.on(n,this.callback("_onDocumentMouseDown")).on("click",this.callback("_onDocumentClick")),this._bIsAndroidLT3_0()&&e.on(n,this.callback("_onDocumentMouseDown4AndroidLT3_0"))},_bIsAndroidLT3_0:function(){return this.isAndroid()&&this.getOSVersion()<"3.0"},_fireChangeEvent:function(){var t=this.getValue();this.oAC.fire("change",{sValue:t})&&this.oData.request(t)},_onFocus:function(t){this.oAC.fire("focus")&&(this._bIsFocused=!0,this.elClearBtn&&this.getValue()&&this._$elClearBtn.show(),this.getValue()&&this.oData.request(this.getValue()),this.oAC.fire("focused"))},_onBlur:function(t){this._bMustFocused||this._bIsTouchAtClearBtn||this.oAC.fire("blur",{bIsTouchAtSWElement:this._bIsTouchAtSWElement})&&(this._bIsFocused=!1,this.elClearBtn&&!this.getValue()&&this._$elClearBtn.hide(),this.oAC.fire("blurred"))},_onInput:function(t){this._sValue!==this.getValue()&&(this._sValue=this.getValue(),this._fireChangeEvent())},_onClearBtnClick:function(t){this._bIsTouchAtSWElement=this._bIsTouchAtClearBtn=!1,this.oAC.fire("clear")&&(this.elInput.focus(),this.elInput.value="",this._fireChangeEvent(),this._bIsAndroidLT3_0()&&(this._bMustFocused=!0))},_onDocumentMouseDown:function(t){this._bIsTouchAtClearBtn=this.elClearBtn&&this.elClearBtn.contains(t.target),this._bIsTouchAtClearBtn||this.elSubmitBtn&&this.elSubmitBtn.contains(t.target)?this._bIsTouchAtSWElement=!0:this._bIsTouchAtSWElement=!1},_onDocumentClick:function(t){this._bIsTouchAtClearBtn&&this._onClearBtnClick()},_onDocumentMouseDown4AndroidLT3_0:function(t){this._bMustFocused=!1}})}(nhn.mobile.ac.$),function(t){nhn.mobile.ac.Data=nhn.mobile.ac.Component.extend({construct:function(t){this.option({sQueryKey:"q"}),this.option(t||{}),this.oAC=null,this.oView=null,this._oJSON=null},request:function(e){var e,n;if(this._oJSON&&this._oJSON.abort(),!this.oAC.isUse())return void(e?this.oView.show():this.oView.hide());if(e=this._sQuery=e.replace(/^\s+/g,""),!e)return void this.oView.paint({query:[],answer:[],data:[]},e);if(this._htCache){if(this._htCache[e]&&this._htCache.hasOwnProperty(e))return void this.oView.paint(this._htCache[e],e)}else this._htCache={};n=this.option("htAPIParam"),n[this.option("sQueryKey")]=e,this._oJSON=t.getJSON(this.option("sAPIURL")+"?_callback=?",n,this.callback("_handleJSON",this,[e]))},setRelatedObject:function(t){this.oAC=t.oAC,this.oView=t.oView},_handleJSON:function(t,e){var n,i;try{n=[];for(var s=0;s<e.items.length;s++)if(n[s]=[],i=e.items[s],i.length>0)for(var o=0;o<i.length;o++)n[s][o]=1===i[o].length?i[o][0]:i[o];this._htCache[t]={query:e.query,answer:e.answer,noresult:e.noresult,partial_match:e.partial_match,corrected_query:e.corrected_query,data:n},this.oView.paint(this._htCache[t],t)}catch(a){console.error(a);try{this.oView.paint({query:[],answer:[],data:[]},t)}catch(a){console.error(a)}}}})}(nhn.mobile.ac.$),function(t){nhn.mobile.ac.View=nhn.mobile.ac.Component.extend({construct:function(e){this.option({sListSelector:"ul",nEllipsis:30,nDisplay:10}),this.option(e||{}),this.el=e.el,this.$el=t(e.el),this.oAC=null,this.oInput=null},toggle:function(){this.isShown()?this.hide():this.show()},show:function(){this.isShown()||this.oAC.fire("show")&&(this.$el.show(),this.oAC.fire("shown"))},hide:function(){this.isShown()&&this.oAC.fire("hide")&&(this.$el.hide(),this.oAC.fire("hided"))},isShown:function(){return this.$el.is(":visible")},setRelatedObject:function(t){this.oAC=t.oAC,this.oInput=t.oInput},paint:function(t){},select:function(t){},extendKeyword:function(t){},use:function(){},unuse:function(){}})}(nhn.mobile.ac.$),nhn.mobile.ac.Autocomplete=nhn.mobile.ac.Component.extend({construct:function(t){this.option({sCookieName:"autocomplete",sCookieDomain:"naver.com"}),this.option(t||{}),this.oInput=t.oInput,this.oData=t.oData,this.oView=t.oView,this.oInput.setRelatedObject({oAC:this,oData:t.oData,oView:t.oView}),this.oData.setRelatedObject({oAC:this,oView:t.oView}),this.oView.setRelatedObject({oAC:this,oInput:t.oInput}),this._bUse=this._initUse()},request:function(){this.oData.request(this.oInput.getValue())},show:function(){this.oView.show()},hide:function(){this.oView.hide()},isShown:function(){return this.oView.isShown()},select:function(t){this.oView.select(t)},extendKeyword:function(t){this.oView.extendKeyword(t)},use:function(){this.fire("use")&&(this.setCookie(this.option("sCookieName"),"use",21900,this.option("sCookieDomain")),this._bUse=!0,this.oView.use())},unuse:function(){this.fire("unuse")&&(this.setCookie(this.option("sCookieName"),"unuse",21900,this.option("sCookieDomain")),this._bUse=!1,this.oView.unuse())},setUse:function(t){this._bUse=t,t?this.oView.use():(this.hide(),this.oView.unuse())},isUse:function(){return this._bUse},_initUse:function(){var t=this.getCookie(this.option("sCookieName")),e=!0;return t&&(e="use"===t),!e&&this.oView.unuse(),e}}),nhn.mobile.ac.Autocomplete.VERSION="3.0.1",nhn.mobile.kh.Data=nhn.mobile.ac.Component.extend({construct:function(t){this.option({sUsageKey:"AC_H_U",sHistoryKey:"search_history",nDisplay:20,nEllipsis:30,bIsUseRemote:!1,htLFSParam:{sHost:"",sPath:"",elFrame:null}}),this.option(t||{}),this._bIsReady=!1,this._bIsSupport=!1,this._oS=this._getStorageObject(),this._oS.on({ready:this.callback("_onReady")})},ready:function(){this._oS.ready()},isReady:function(){return this._bIsReady},isSupport:function(){return this._bIsSupport},setRelatedObject:function(t){this.oKH=t.oKH,this.oView=t.oView},add:function(t){var e,n=this._aData,i=n.length,s=[];if(t=this._trim(t)){for(e=0;e<i;e++)t!==n[e].in_txt&&s.push(n[e]);s=[{txt:this._cutStr(t,this.option("nEllipsis")),in_txt:t,date:this._getDateString()}].concat(s),s.length>this.option("nDisplay")&&s.pop(),this._setHistory(s)}},remove:function(t){this._aData.splice(t,1),this._setHistory(this._aData)},removeAll:function(){this._setHistory([])},getHistory:function(){return this._aData||[]},count:function(){return this._aData.length},removeHistory:function(){this._oS.removeItem(this.option("sHistoryKey"))},getUseState:function(){return this._sUse},setUseState:function(t){this._sUse=t,this._oS.setItem(this.option("sUsageKey"),t)},removeUseState:function(){this._sUse=null,this._oS.removeItem(this.option("sUsageKey"))},reload:function(t){this._fReloadCallback=t,this._oS.on("readItem",this.callback("_onHistoryDataLoad")).getItem(this.option("sHistoryKey"))},_getStorageObject:function(){return this.option("bIsUseRemote")?new nhn.mobile.fs.LocalFrameStorage(this.option("htLFSParam")):new nhn.mobile.fs.Storage},_makeData:function(t){var e,n,i,s;for(this._aData=[],aData=t?t.split("&"):[],n=aData.length,e=0;e<n;e++)aData[e]&&(i=aData[e].split("#"),s=i[0].replace(/\|\^\|/g,"&").replace(/\|@\|/g,"#"),this._aData.push({rank:e,txt:this._cutStr(s,this.option("nEllipsis")),in_txt:s,date:i.length>1&&i[1]?i[1]:""}));return this._bLoaded=!0,this._aData},_cutStr:function(t,e){var n=e>0&&t.length>e?t.substring(0,e)+"...":t;return n},_trim:function(t){return t.replace(/^\s+|\s+$/g,"")},_getDateString:function(){var t=new Date,e=t.getMonth()+1,n=t.getDate();return(e>=10?e:"0"+e)+"."+(n>=10?n:"0"+n)},_setHistory:function(t){var e,n,i=[],s=t.length;for(e=0;e<s;e++)n=t[e],n.rank=e,i.push(n.in_txt.replace(/\&/g,"|^|").replace(/#/g,"|@|")+"#"+n.date);this._aData=t,this._oS.setItem(this.option("sHistoryKey"),i.join("&"))},_onReady:function(t){t.bIsSupport?this._oS.on("readItem",this.callback("_onHistoryDataLoad")).getItem(this.option("sHistoryKey")):(!this._bIsReady&&this.fire("ready",{bIsSupport:!1}),this._bIsReady=!0,this._bIsSupport=!1)},_onHistoryDataLoad:function(t){this._aData=this._makeData(t.itemValue),this._oS.off("readItem",arguments.callee).on("readItem",this.callback("_onUsageDataLoad")).getItem(this.option("sUsageKey"))},_onUsageDataLoad:function(t){this._sUse=t.itemValue,this._oS.off("readItem",arguments.callee),!this._bIsReady&&this.fire("ready",{bIsSupport:!0}),this._bIsReady=!0,this._bIsSupport=!0,this._fReloadCallback&&this._fReloadCallback(),this._fReloadCallback=null}}),function(t){nhn.mobile.kh.View=nhn.mobile.ac.Component.extend({construct:function(e){this.option({sListSelector:"ul"}),this.option(e||{}),this.elView=e.elView,this.$elView=t(e.elView),this._$elList=t(e.sListSelector,e.elView),this._sTemplate=this._$elList.get(0)?this._$elList.html():""},setRelatedObject:function(t){this.oKH=t.oKH,this.oData=t.oData},paint:function(t){},select:function(t){},remove:function(t){},use:function(){this.paint(this.oData.getHistory())},unuse:function(){this.paint([])},show:function(){this.isShown()||this.oKH.fire("show")&&(this.paint(this.oData.getHistory()),this.$elView.show(),this.oKH.fire("shown"))},hide:function(){this.isShown()&&this.oKH.fire("hide")&&(this.$elView.hide(),this.oKH.fire("hided"))},isShown:function(){return this.$elView.is(":visible")}})}(nhn.mobile.ac.$),nhn.mobile.kh.KeywordHistory=nhn.mobile.ac.Component.extend({construct:function(t){this.option({sRemoveAllMsg:"최근검색어를 모두\n삭제하시겠습니까?",sUseMsg:"최근검색어 저장 기능을\n사용 하시겠습니까?",sUnuseMsg:"최근검색어 저장 기능을\n사용 중지하시겠습니까?"}),this.option(t||{}),this.oData=t.oData,this.oView=t.oView,this.oData.setRelatedObject({oKH:this,oView:t.oView}),this.oView.setRelatedObject({oKH:this,oData:t.oData}),this.oData.on("ready",this.callback("_onDataReady"))},ready:function(){this.oData.ready()},close:function(){this.fire("close")&&this.hide()},show:function(){this.oView.show()},hide:function(){this.oView.hide()},isShown:function(){return this.oView.isShown()},toggleUse:function(){this.isUse()?this.unuse():this.use()},use:function(){this.fire("use")&&(this._hasConfirmBug()?(this._bUse=!0,this.oData.removeUseState(),this.oView.use()):confirm(this.option("sUseMsg"))&&(this._bUse=!0,this.oData.removeUseState(),this.oView.use()))},unuse:function(){this.fire("unuse")&&(this._hasConfirmBug()?(this._bUse=!1,this.oData.setUseState("N"),this.oView.unuse()):confirm(this.option("sUnuseMsg"))&&(this._bUse=!1,this.oData.setUseState("N"),this.oView.unuse()))},remove:function(t){this.oView.remove(t)},removeAll:function(t){this.fire("removeAll")&&confirm(this.option("sRemoveAllMsg"))&&(this.oData.removeAll(),this.oView.paint([]))},select:function(t){this.oView.select(t)},add:function(t){this.isUse()&&this.oData.add(t)},isReady:function(){return!!this._bIsReady},isUse:function(){return this._bUse},get:function(){return this.isUse()?this.oData.getHistory():[]},count:function(){return this.isUse()?this.oData.count():0},reload:function(t){this.oData.reload(t)},paint:function(){this.oView.paint(this.oData.getHistory())},_hasConfirmBug:function(){var t=navigator.userAgent,e=!!t.match("Android"),n=!!t.match(/Chrome\/40.0/);return!(!e||!n)},_onDataReady:function(t){this._bIsReady=!0,this._bUse="N"!==this.oData.getUseState(),this.fire("ready",{bIsSupport:t.bIsSupport})}}),nhn.mobile.kh.KeywordHistory.VERSION="3.0.1","undefined"==typeof window.nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},nhn.mobile.search_bar=nhn.mobile.search_bar||{},nhn.mobile.search_bar.ac=nhn.mobile.search_bar.ac||{},nhn.mobile.search_bar.kh=nhn.mobile.kh||{},nhn.mobile.search_bar.htNaverApp=function(t){var e=t.match(/NAVER\((.+?)\)/),n=!!e,i=(e||["",""])[1].split("; ");return{bIsNaverApp:n,sBrowserEngine:i[0]||"",sServiceCode:i[1]||"",sBrowserServiceCode:i[2]||"",sServiceVersion:i[3]||"",sHiggsEngineVersion:i[4]||""}}(navigator.userAgent),nhn.mobile.search_bar.useAppStorage=function(){var t=/iPhone/.test(navigator.userAgent)&&nhn.mobile.search_bar.htNaverApp.sBrowserServiceCode>550,e=/iPad/.test(navigator.userAgent)&&nhn.mobile.search_bar.htNaverApp.sBrowserServiceCode>133,n=/iPhone|iPad|iPod/.test(navigator.platform);return n&&nhn.mobile.search_bar.htNaverApp.bIsNaverApp&&(t||e)},nhn.mobile.search_bar.getQueryString=function(){var t,e,n=location.search.substr(1),i=n?n.split("&"):[],s=i.length,o={};for(e=0;e<s;e++)t=i[e].split("="),o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return o},nhn.mobile.search_bar.trace=function(t){var e,n=document.getElementById("trace")||document.createElement("div"),i=nhn.mobile.ac.$(n);n.setAttribute("id","trace"),n.setAttribute("style","z-index:10000;position:absolute;top:50px;left:0px;width:100%;height:200px;background-color:rgba(234, 210, 210, 0.6);"),document.body.appendChild(n),e=i.html(),!i.is(":visible")&&i.show(),i.html(e+"<br/>"+t)},function(t){nhn.mobile.search_bar.ac.Data=nhn.mobile.ac.Data.extend({request:function(e){var n;if(this._oJSON&&this._oJSON.abort(),!this.oAC.isUse())return void(e?this.oView.show():this.oView.hide());if(e=e.replace(/^\s+/g,""),!e)return void this.oView.paint(this._getEmptyResponse(),e);if(this._htCache){if(this._htCache[e]&&this._htCache.hasOwnProperty(e))return void this.oView.paint(this._htCache[e],e)}else this._htCache={};n=this.option("htAPIParam"),n[this.option("sQueryKey")]=e,this._oJSON=t.getJSON(this.option("sAPIURL")+"?_callback=?",n,this.callback("_handleJSON",this,[e]))},_handleJSON:function(t,e){var n,i;try{n=[];for(var s=0;s<e.items.length;s++)if(n[s]=[],i=e.items[s],i.length>0)for(var o=0;o<i.length;o++)n[s][o]=1===i[o].length?i[o][0]:i[o];this._htCache[t]={query:e.query,answer:e.answer,intend:e.intend,noresult:e.noresult,partial_match:e.partial_match,corrected_query:e.corrected_query,data:n,age:e.age,sex:e.sex},this.oView.paint(this._htCache[t],t)}catch(a){console.warn(a);try{this.oView.paint(this._getEmptyResponse(),t)}catch(a){console.error(a)}}},_getEmptyResponse:function(){return{query:[],answer:[],intend:[],noresult:"",partial_match:"",corrected_query:"",data:[],age:"",sex:""}}})}(nhn.mobile.ac.$),function(t){nhn.mobile.search_bar.ac.View=nhn.mobile.ac.View.extend({construct:function(e){this.option({sListSelector:"ul._u_atcp",aElDoNotBlur:[]}),this.option(e||{}),this._USE_MSG="자동완성 기능을\n사용 하시겠습니까?",this._UNUSE_MSG="자동완성 기능을\n사용 중지 하시겠습니까?",this._USE_BTN_TXT="자동완성 끄기",this._UNUSE_BTN_TXT="자동완성 켜기",this._$elToggle=t(e.elToggleBtn),this._$elClose=t(e.elCloseBtn),this._$elHelp=t(e.elHelpBtn),this._$elList=t(e.sListSelector,this.el),this._$elAnswer=t(e.sAnswerSelector,this.el),this._$elACPlusRoot=t(e.elACPlusRoot),this._$elACPlusSwitch=t("#ck_plus1",e.elACPlusRoot),this._$elACPlusLayer=t("._layer_plus",e.elACPlusRoot),this._$elACPlusClose=t("._btn_close",this._$elACPlusLayer.get(0)),this._$elACPlusLogin=t("._btn_login",this._$elACPlusLayer.get(0)),this._fOnDocumentTouchStart=this.callback("_onDocumentTouchStart"),this._hasACPlusUI=!!this._$elACPlusSwitch.get(0),this._$elToggle.get(0)&&this._$elToggle.on("click",this.callback("_onToggleUse")),this._$elHelp.get(0)&&this._$elHelp.on("click",this.callback("_onHelp")),this._$elClose.get(0)&&this._$elClose.on("click",this.callback("_onClose")),this._hasACPlusUI&&(this._$elACPlusSwitch.on("click",this.callback("_onACPlusSwitchClick")),this._$elACPlusClose.on("click",this.callback("_onACPlusCloseClick")),this._$elACPlusLogin.on("click",this.callback("_onACPlusLoginClick"))),this._sTemplate=this._$elList.html(),this._$elList.html("")},setRelatedObject:function(t){nhn.mobile.ac.View.prototype.setRelatedObject.call(this,t),this.oAC.on({focus:this.callback("_onFocus"),blur:this.callback("_onBlur"),hided:this.callback("_onACPlusCloseClick")})},paint:function(t,e){var n,i,s,o,a,r,h,l,c,u=t.query,_=t.answer,p=t.intend||[],f=p.length,d=t.data,m=this.option("nDisplay"),g=this._getCount(d),b=g<m?g:m,y=!!(_&&_.length>0),C=[],w=[],S=1,v=this._sTemplate,A="1"===t.partial_match,I="1"===t.corrected_query,k="1"===t.noresult;if(i=this._getAnswerHTML(_),n=this._getIntendHTML(p,u,d),this._$elAnswer.html(i+n),S+=f,e){for(s=this._getPersonalization(e,w,S),l=0;l<s.length;l++)C[C.length]=s[l];S+=s.length}else e=u[0];t:for(l=0;l<d.length;l++)if(d[l])for(c=0;c<d[l].length;c++)if(r="string"==typeof d[l][c]?d[l][c]:d[l][c][0],!(w.indexOf&&0<=w.indexOf(r))&&(a=this._isURL(r),o={rank:S++,txt:this._cutStr(r,this.option("nEllipsis")),in_txt:r,ex_btn:a||e==r?"none":"block",link_btn:a?"block":"none",link_css:a?" u_atcp_ag":"",li_class:[A?" _partialMatch":"",I?" _correctedQuery":""].join("")},C[C.length]=this._applyTemplate(v,o,u),S-w.length-f>b))break t;(C.length>0||y)&&!k?(h=C.join(""),this._$elList.show()):(h="",this._$elList.hide()),this._$elList.html(h),this._showNoResultCausedByEllection(k),this._hasACPlusUI&&this._updateACPlusDescAndLayer(t,C.length+_.length),this.oAC.fire("painted")},select:function(e){var n=this.oInput.getValue(),i=e.currentTarget,s=t(i),o=i.parentElement,a=o.getAttribute("data-query"),r=parseInt(o.getAttribute("data-rank"),10),h=s.hasClass("_personal"),l=s.hasClass("_partialMatch"),c=s.hasClass("_correctedQuery");e.preventDefault(),this.oAC.fire("select",{nRank:r,sText:a,sUserText:n,bPersonal:h,bPartialMatch:l,bCorrectedQuery:c})&&(this.oInput.setValue(a),this.oAC.option("elForm").submit())},use:function(){this.oInput.change(),this._$elList.show(),this._$elAnswer.show(),this._$elToggle.text(this._USE_BTN_TXT)},unuse:function(){this._$elList.hide(),this._$elAnswer.hide(),this._$elToggle.text(this._UNUSE_BTN_TXT)},selectAnswer:function(t,e,n,i,s){var o=this.oAC.option("elForm"),a=this.oInput.getValue(),r=parseInt(t.currentTarget.parentElement.getAttribute("data-rank"),10);this.oInput.setValue(i),this.oAC.fire("selectAnswer",{nRank:r,sUserText:a,elTarget:t.target,nAnswerId:e,sKeyword:i,sLog:s})?n&&o&&o.submit():t.preventDefault()},extendKeyword:function(t){var e=t.currentTarget.parentElement.getAttribute("data-query");t.preventDefault(),this.oAC.fire("extendKeyword",{sText:e})&&this.oInput.setValue(e).change().focus()},moveURL:function(t){var e=t.currentTarget.parentElement.getAttribute("data-query");t.preventDefault(),e=0==e.search(/^(https?:\/\/)/)?e:"http://"+e,this.oAC.fire("moveURL",{sURL:e})&&(location.href=e)},showToggleBtn:function(){this._$elToggle.get(0).style.display=""},hideToggleBtn:function(){this._$elToggle.hide()},switchOnACPlus:function(){this._hasACPlusUI&&(this._$elACPlusSwitch.get(0).checked=!0)},switchOffACPlus:function(){this._hasACPlusUI&&(this._$elACPlusSwitch.get(0).checked=!1)},showACPlus:function(){this._hasACPlusUI&&this._$elACPlusRoot.show()},hideACPlus:function(){this._hasACPlusUI&&this._$elACPlusRoot.hide()},hideACPlusLayer:function(){this._hasACPlusUI&&this._$elACPlusLayer.hide()},_hasConfirmBug:function(){var t=navigator.userAgent,e=t.match(/Chrome\/40.0/);return this.isAndroid()&&e},_applyTemplate:function(t,e,n){var i,s;for(i in e)s=e[i],"txt"===i?s=this._highlight(s,n):"in_txt"===i&&(s=this._characterToEntity(s)),e.propertyIsEnumerable(i)&&(t=t.replace(new RegExp("@"+i+"@","g"),s));return t},_getIntendHTML:function(e,n,s){var o,a,r,h=e.length,l=t("#_atcp_answer_16").html()||"",c=h?'<ul class="u_atcp u_atcp_at">':"";for(i=0;i<h&&(r=e[i],a=r.query,o=l.concat(),a===n[0]||a===n[1]||s[0][0]&&a===s[0][0][0]);i++)o=o.replace(/@txt@/,this._characterToEntity(a)).replace(/@query@/,r.transQuery).replace(/@intend@/,r.intend).replace(/@rank@/,i+1).replace(/@1@/,r.transQuery).replace(/@2@/,"asct"),c+=o;return h&&(c+="</ul>"),c},_getAnswerHTML:function(e){var n,i,s,o,a,r,h,l,c,u=e.length,_="";for(l=0;l<u&&(o=e[l],a=o[1],r=o.length,i=o[0],s=t("#_atcp_answer_"+i),n=s.get(0)?s.html():"","16"!==i);l++){for(c=1;c<r;c++)h=this._characterToEntity(o[c]),n=n.replace(new RegExp("http(s)?://_"+c+"_","g"),h).replace(new RegExp("(http://)?@"+c+"@","g"),h),"3"===i&&(n=n.replace("@datetime@",o[13].replace(/\./g,"-")));_+=n}return _},_getPersonalization:function(t,e,n){var i,s,o,a,r=new RegExp("[.^$*+?|()\\[\\]{}\\\\]","g"),h=new RegExp(t.replace(r,"\\$&"),"i"),l=this.option("nPsnCount"),c=this.option("htPsnTemplate"),u=[],_=n,p=oKeywordHistory.get(),f=p.length;if(!p)return u;for(a=0;a<f;a++){if(l<=u.length)return u;i=this._copyHistoryData(p[a]),s=i.in_txt,s&&s.match(h)&&e.indexOf(s)<0&&(o=c.sHistory,i.rank=_++,i.ex_btn=t===s?"none":"block",u[u.length]=this._applyTemplate(o,i,[t]),e[e.length]=s)}return u},_copyHistoryData:function(t){var e,n,i,s;if(!t||"object"!=typeof t)return t;if(t instanceof Date)return e=new Date,e.setTime(t.getTime()),e;if(t instanceof Array){for(e=[],n=t.length,i=0;i<n;i++)e[i]=this._copyHistoryData(t[i]);return e}if(t instanceof Object){e={};for(s in t)t.hasOwnProperty(s)&&(e[s]=this._copyHistoryData(t[s]));return e}throw new Error("Unable to copy Data.")},_getCount:function(t){var e,n=0,i=t.length;for(e=0;e<i;e++)n+=t[e].length;return n},_cutStr:function(t,e){return e>0&&t.length>e?t.substring(0,e)+"...":t},_isURL:function(t){return/(^((https?):\/\/)?([a-z0-9-]+\.)+(edu|org|net|com|gov|info|coop|biz|kr|cn|de|es|eu|fr|hk|in|jp|us|uk|au|sg)([\/?]\S*)?)$/i.test(t)},_highlight:function(t,e){var n,i,s=e.length;for(n=0;n<s;n++)if(i=this._makeStrong(t,e[n]))return i;return this._characterToEntity(t)},_makeStrong:function(t,e){var n,i,s=new RegExp("[.^*+?|()\\[\\]{}\\\\]","g"),o=e.replace(/()/g," ").replace(/^\s+|\s+$/g,""),a=o.match(/\S/g),r=[],h=a.length,l="<mark class='u_atcp_mk'>",c="</mark>",u="{@_sOpenTag_@}",_="{@_sCloseTag_@}",p=new RegExp(u,"g"),f=new RegExp(_,"g");for(i=0;i<h;i++)r.push(a[i].replace(/[\S]+/g,"["+a[i].replace(s,"\\$&")+"] ").replace(/[\s]+/g,"[\\s]*"));return o="("+r.join("")+")",n=t.replace(new RegExp(o,"gi"),function(t,e,n,i){return u+t+_}),n=this._characterToEntity(n),n=n.replace(p,l).replace(f,c)},_characterToEntity:function(t){return t&&(t=t.replace(/\$/g,"$$$$")),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},_hasClassToUpper:function(e,n){return!!t(e).hasClass(n)||!!e.parentElement&&this._hasClassToUpper(e.parentElement,n)},_isDoNotBlurElement:function(t){var e,n=this.option("aElDoNotBlur"),i=n.length,s=!1;for(e=0;e<i;e++)n[e]===t&&(s=!0);return s},_showNoResultCausedByEllection:function(e){
var n=t("#nx_ac_alert");n.get(0)&&(e&&!t("#nx_qrecmd_election").get(0)?n.show():n.hide())},_showACPlusLayer:function(e){var n=t("._on_dsc",this._$elACPlusLayer.get(0)),i=t("._off_dsc",this._$elACPlusLayer.get(0)),s=t("._btn_login",this._$elACPlusLayer.get(0));e?(n.show(),i.hide(),s.hide()):(n.hide(),i.show(),s.get(0).style.display=""),this._$elACPlusLayer.show()},_updateACPlusDescAndLayer:function(t,e){var n="1"===t.noresult;e>3&&!n&&this._$elACPlusLayer.removeClass("type_bottom"),(e<=3||n)&&this._$elACPlusLayer.addClass("type_bottom")},_onFocus:function(e){t(document).on("touchstart",this._fOnDocumentTouchStart)},_onBlur:function(e){t(document).off("touchstart",this._fOnDocumentTouchStart)},_onHelp:function(t){var e=this.option("sHelpURL");this.oAC.fire("help",{sURL:e})&&(location.href=e)},_onClose:function(){this.oAC.fire("close")&&this.hide()},_onToggleUse:function(t){var e=this.oAC.isUse();this._hasConfirmBug()?(e&&this.oAC.unuse(),!e&&this.oAC.use()):e&&confirm(this._UNUSE_MSG)?this.oAC.unuse():!e&&confirm(this._USE_MSG)&&this.oAC.use()},_onDocumentTouchStart:function(t){var e=this.isAndroid(),n=this.getOSVersion(),i=navigator.userAgent,s=i.indexOf("SM-N900")>-1,o=e&&"4.4.2"===n,a=e&&n<"3.0",r=!!i.match(/Version\/\d.\d/g),h=t.target,l=this._hasClassToUpper(h,"_u_atcp_add"),c=this.oInput,u=c.isComponentElement(h),_=this._isDoNotBlurElement(h);s&&o&&r||a||l||u||_||c.blur()},_onACPlusSwitchClick:function(t){this._showACPlusLayer(this.oAC.option("bIsLogin")),this.oAC.fire("acPlusSwitchClick",{el:t.target,checked:t.target.checked})},_onACPlusCloseClick:function(t){this.hideACPlusLayer()},_onACPlusLoginClick:function(t){this.oAC.fire("acPlusLoginClick")}})}(nhn.mobile.ac.$),nhn.mobile.search_bar.ac.Input=nhn.mobile.ac.Input.extend({_onFocus:function(t){this.bIsDocumentTouchStart=!1,nhn.mobile.ac.Input.prototype._onFocus.call(this,t)},_onDocumentMouseDown:function(t){this.bIsDocumentTouchStart=!0,nhn.mobile.ac.Input.prototype._onDocumentMouseDown.call(this,t)}}),nhn.mobile.search_bar.ac.Autocomplete=nhn.mobile.ac.Autocomplete.extend({construct:function(t){this.oS=this._getStorageObject(t.htLFSParam),this.on({acPlusSwitchClick:this.callback("_onACPlusSwitchClick"),acPlusLoginClick:this.callback("_onAcPlusLoginClick"),use:this.callback("_onUse"),unuse:this.callback("_onUnuse")}),this.oS.on("readItem",this.callback("_onItemRead")),this._bUse=this._initUse(),this.oS.getItem(this.option("sACPlusStorageKey"))},use:function(){nhn.mobile.search_bar.useAppStorage()?this.fire("use")&&(this.oS.setItem(this.option("sCookieName"),"use"),this._bUse=!0,this.oView.use()):nhn.mobile.ac.Autocomplete.prototype.use.call(this)},unuse:function(){nhn.mobile.search_bar.useAppStorage()?this.fire("unuse")&&(this.oS.setItem(this.option("sCookieName"),"unuse"),this._bUse=!1,this.oView.unuse()):nhn.mobile.ac.Autocomplete.prototype.unuse.call(this)},_initUse:function(){var t,e=!0;return nhn.mobile.search_bar.useAppStorage()?this.oS?(t=this.oS.getItem(this.option("sCookieName")),t&&(e="use"===t),!e&&this.oView.unuse(),e):e:nhn.mobile.ac.Autocomplete.prototype._initUse.call(this)},selectAnswer:function(t,e,n,i,s){this.oView.selectAnswer(t,e,n,i,s)},moveURL:function(t){this.oView.moveURL(t)},switchOnACPlus:function(){this.oView.switchOnACPlus(),this._setAPIParam4ACPlus(),this._saveACPlusState(),this._clearACCacheAndRequest()},switchOffACPlus:function(){this.oView.switchOffACPlus(),this._setAPIParam4ACPlus(),this._saveACPlusState(),this._clearACCacheAndRequest()},initializeACPlus:function(){if(!this._bInitiallized&&this._bItemRead)return this.option("bIsLogin")&&this.usePlus&&(this.oView.switchOnACPlus(),this._setAPIParam4ACPlus(),this._clearACCacheAndRequest()),!this.isUse()&&this.oView.hideACPlus(),this._bInitiallized=!0,this},_saveACPlusState:function(){this.oS.setItem(this.option("sACPlusStorageKey"),JSON.stringify(this.usePlus))},_setAPIParam4ACPlus:function(){this.oData.option("htAPIParam").con=this.usePlus?"1":"0"},_clearACCacheAndRequest:function(){this.isUse()&&(this.oData._htCache={},this.request())},_getStorageObject:function(t){return nhn.mobile.search_bar.useAppStorage()?new nhn.mobile.search_bar.AppStorage:t?new nhn.mobile.fs.LocalFrameStorage(t):new nhn.mobile.fs.Storage},_onACPlusSwitchClick:function(t){this.option("bIsLogin")?t.checked?(this.usePlus=!0,this.switchOnACPlus()):(this.usePlus=!1,this.switchOffACPlus()):t.el.checked=!1},_onUse:function(t){this.oView.showACPlus()},_onUnuse:function(t){this.oView.hideACPlus()},_onAcPlusLoginClick:function(t){this.usePlus=!0,this._saveACPlusState()},_onItemRead:function(t){if(t.itemKey===this.option("sACPlusStorageKey")){if(this._bItemRead=!0,"true"===t.itemValue)this.usePlus=!0;else if("false"===t.itemValue)this.usePlus=!1;else if("string"==typeof t.itemValue)try{this.usePlus=JSON.parse(t.itemValue).usePlus}catch(t){this.usePlus=!0}else this.usePlus=!t.itemValue||t.itemValue.usePlus;this.initializeACPlus()}}}),nhn.mobile.search_bar.kh.Data=nhn.mobile.kh.Data.extend({_getStorageObject:function(){return nhn.mobile.search_bar.useAppStorage()?new nhn.mobile.search_bar.AppStorage:this.option("bIsUseRemote")?new nhn.mobile.fs.LocalFrameStorage(this.option("htLFSParam")):new nhn.mobile.fs.Storage},doMigration:function(t){var e,n,i,s="",o=this.option("nListMax"),a=t.length;for(this._aData=[],e=0;e<a&&e<o;e++)n=t[e].keyword,i=t[e].date,s.push(n.replace(/\&/g,"|^|").replace(/#/g,"|@|")+"#"+i),this._aData.push({rank:e,txt:this._cutStr(n,this.option("nStrMax")),in_txt:n,date:i});this._oS.setItem(this.option("sHistoryKey"),s.join("&"))},setHistoryFromApp:function(t){var e,n,i,s,o,a=[],r=[];if(t){for(e=t.length,o=0;o<e;o++)n=t[o],2===n.length&&(i=n[0],s=n[1]||"",r.push(i.replace(/\&/g,"|^|").replace(/#/g,"|@|")+"#"+s),a.push({rank:o,txt:this._cutStr(i,this.option("nStrMax")),in_txt:i,date:s}));this._aData=a,this._oS.setItem(this.option("sHistoryKey"),r.join("&"))}}}),function(t){nhn.mobile.search_bar.kh.View=nhn.mobile.kh.View.extend({construct:function(e){this.option({sUseClass:"opt_on",sUnuseClass:"opt_off"}),this.option(e||{}),this._elInput=e.elInput,this._elForm=e.elForm,this._$elSggtFixer=t("._sggt_fixer",e.elView),e.elClearBtn&&t(e.elClearBtn).on("click",this.callback("_onClearBtnClick")),e.elCloseBtn&&t(e.elCloseBtn).on("click",this.callback("_onCloseBtnClick")),e.elUnuseBtn&&t(e.elUnuseBtn).on("click",this.callback("_onUnuseBtnClick")),this._isIPadAndGTorEQ119()&&e.elCloseBtn&&t(e.elCloseBtn).show()},paint:function(e){var n,i=[],s=this._sTemplate,o=this._$elList,a=t(this.option("elClearBtn").parentElement),r=t(this.option("elNothingLayer")),h=t(this.option("elUnuseBtn")),l=t(this.option("elOffLayer")),c=this._$elSggtFixer,u=e.length;if(this.oKH.isUse()){for(l.hide(),n=0;n<u;n++)i[i.length]=this._applyTemplate(s,e[n]);i.length?(o.show(),a.show(),r.hide(),c.get(0)&&c.removeClass("type_off")):(o.hide(),a.hide(),r.show(),c.get(0)&&c.addClass("type_off")),h.addClass(this.option("sUnuseClass")).removeClass(this.option("sUseClass"))}else o.hide(),r.hide(),h.addClass(this.option("sUseClass")).removeClass(this.option("sUnuseClass")),a.hide(),l.show(),c.get(0)&&c.addClass("type_off");o.html(i.join("")),this.oKH.fire("painted")},select:function(t){var e=t.currentTarget.parentElement,n=e.getAttribute("data-query"),i=parseInt(e.getAttribute("data-rank"),10)+1;t.preventDefault(),this.oKH.fire("select",{text:n,rank:i})&&(this.oData.add(n),this._elInput.value=n,this._elForm.submit())},remove:function(t){var e=t.currentTarget.parentElement,n=parseInt(e.getAttribute("data-rank"),10);t.preventDefault(),this.oKH.fire("remove")&&(this.oData.remove(n),this.paint(this.oData.getHistory()),this.oKH.fire("removed"))},_applyTemplate:function(t,e){var n,i;for(n in e)e.propertyIsEnumerable(n)&&(i=e[n],"txt"!==n&&"in_txt"!==n||(i=this._escapeHTML(i)),t=t.replace(new RegExp("@"+n+"@","g"),i));return t},_escapeHTML:function(t){var e={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};return t&&(t=t.replace(/\$/g,"$$$$")),t.replace(/[<>&"']/g,function(t){return e[t]?"&"+e[t]+";":t})},_isIPadAndGTorEQ119:function(){var t=navigator.userAgent,e=!!t.match("iPad"),n=t.match(/NAVER\((.+?)\)/),n=n?n[1].split("; "):[],i="search"===n[1],s=n[2]?parseInt(n[2],10):0,o=s>=119;return e&&i&&o},_onClearBtnClick:function(t){t.preventDefault(),this.oKH.isUse()&&this.oData.getHistory().length&&this.oKH.removeAll()},_onCloseBtnClick:function(t){t.preventDefault(),this.oKH.close()},_onUnuseBtnClick:function(t){t.preventDefault(),this.oKH.toggleUse()}})}(nhn.mobile.ac.$),nhn.mobile.search_bar.AppStorage=nhn.mobile.fs.Storage.extend({_initVar:function(){},getItem:function(t){var e="";try{e=window.__naverapp__.searchBar.get(t)}catch(n){console.warn(n)}finally{return this.fire("readItem",{itemKey:t,itemValue:e}),e}},getItems:function(t){var e,n,i={},s=t.length;try{for(n=0;n<s;n++)e=t[n],i[e]=window.__naverapp__.searchBar.get(e)}catch(o){console.warn(o)}finally{return this.fire("readItems",{item:i}),i}},getAllItems:function(){},setItem:function(t,e){try{window.__naverapp__.searchBar.set(t,e),this.fire("addItem",{itemKey:t,itemValue:e})}catch(n){console.warn(n)}},setItems:function(t){try{for(var e in t)window.__naverapp__.searchBar.set(e,t[e]);this.fire("addItems",{item:t})}catch(n){console.warn(n)}},removeItem:function(t){try{window.__naverapp__.searchBar.set(t,""),this.fire("removeItem",{itemKey:t})}catch(e){console.warn(e)}}}),function(t){nhn.mobile.search_bar.Floating=nhn.mobile.ac.Component.extend({construct:function(e){this.option({nOffset:2,sPersistKey:"search_bar_floating"}),this.option(e||{}),this._elBody=document.body,this._elSCHTab=e.elSCHTab,this._welBody=t(this._elBody),this._htPersist=jq.persist(this.option("sPersistKey")),this._nPrevScrollTop=this._getBodyScrollTop(),this._nSCHTabTop=this._elSCHTab.offsetHeight,this._bIsIOSSafari=/(iPhone|iPod|iPad).*like Gecko\) Version/.test(navigator.userAgent),this._bIsIOSChrome=/(iPhone|iPod|iPad).*CriOS/.test(navigator.userAgent),this._bIsIOSWebView=this.isIOS()&&!this._bIsIOSSafari&&!this._bIsIOSChrome,this._bIsSoloEntered=!1,this._bIsLTAndroid5=this.isAndroid()&&parseFloat(this.getOSVersion())<5,this._bIsLTIOS10=this.isIOS()&&parseFloat(this.getOSVersion())<10,this._fOnTransitionEnd=this.callback("_onTransitionEnd"),this._fDoShowOrHide=this.callback("_doShowOrHide"),this._bIsShown=!0,this._scrollAtFirst=!0,this._bIsActivating=!0,this._nSearchBarHeight=t("._sch_w",e.elsection).get(0).offsetHeight,this._elRSRoot=e.elRSRoot,this._bIsIOSWebView?t(window).on("scroll",this.callback("_onScroll4IOSWebView")):t(window).on("scroll",this._fDoShowOrHide),t(window).on("pageshow",this.callback("_onPageshow")),t(this._elSCHTab).on("transitionEnd",this._fOnTransitionEnd).on("webkitTransitionEnd",this._fOnTransitionEnd),this.option("oAutoComplete").on({shown:this.callback("_onACKHShown"),hided:this.callback("_onACKHHided"),close:this.callback("_onCloseClick"),painted:this.callback("_onACPainted"),focuse:this.callback("_onACFocus"),focused:this.callback("_onACFocused")}),this.option("oKeywordHistory").on({shown:this.callback("_onACKHShown"),hided:this.callback("_onACKHHided"),close:this.callback("_onCloseClick"),painted:this.callback("_assignHeaderHeight")}),nhn.mobile.search_bar.oFloating=this,this._chagneStatusBarColor(),this._updatePaddingTopOfContainer()},show:function(t){return this.isActivating()&&!this.isSoloEntered()&&(t?this.fire("show")&&(this._show(),this.fire("shown")):this._show()),this},hide:function(t,e){return this.isActivating()&&!this.isSoloEntered()&&(t&&this.fire("hide")&&(this._hide(e),this.fire("hided")),this._hide(e)),this},isShown:function(){return this._bIsShown},enterSolo:function(t){return!this.isActivating()||this.isSoloEntered()?this:(t?this.fire("soloEnter")&&(this._bIsLTAndroid5?setTimeout(this.callback(function(){this._enterSolo(),this.fire("soloEntered")}),50):(this._enterSolo(),this.fire("soloEntered"))):this._enterSolo(),this)},exitSolo:function(t){return this.isActivating()&&this.isSoloEntered()?(t?this.fire("soloExit")&&(this._exitSolo(),this.fire("soloExited")):this._exitSolo(),this):this},isSoloEntered:function(){return this._bIsSoloEntered},activate:function(){return this._bIsActivating=!0,this},deactivate:function(){return this._bIsActivating=!1,this},isActivating:function(){return this._bIsActivating},_getBodyScrollTop:function(){return document.documentElement.scrollTop||this._elBody.scrollTop},_show:function(){this._bIsShowing||this.isShown()||(this._bIsShowing=!0,this._bIsHiding=!1,this._setTranslateY(0))},_hide:function(e){t(this._elSCHTab).removeClass("open"),!this._bIsHiding&&this.isShown()&&(this._bIsHiding=!0,this._bIsShowing=!1,e?(this._setTransition("noAni"),this._setTranslateY(this._nSCHTabTop*-1),setTimeout(this.callback("_setTransition"),100)):this._setTranslateY(this._nSCHTabTop*-1))},_setTransition:function(t){t?(this._elSCHTab.style.transition="transform 0.001s",this._elSCHTab.style.webkitTransition="-webkit-transform 0.001s"):(this._elSCHTab.style.transition="",this._elSCHTab.style.webkitTransition="")},_getTranslateY:function(){var t=this._elSCHTab.style.transform||this._elSCHTab.style.webkitTransform||"",e=t.match(/translateY\((.+?)\)/i)||["","0px"];return parseInt(e[1],10)},_setTranslateY:function(t){var e="translateY("+t+"px)",n=this._elSCHTab.style;n.transform=e,n.webkitTransform=e},_enterSolo:function(){this.isShown()||this.show(!0),this.option("oAutoComplete").isShown()||this.option("oAutoComplete").request(),this._nScrollTopBeforeEnterSolo=this._getBodyScrollTop(),this._welBody.addClass("open_autocomplete"),t(this._elSCHTab).removeClass("open"),this.option("elContainer").style.paddingTop="0px",this._assignHeaderHeight(),scrollTo(0,0),nhn.mobile.search_bar.htNaverApp.bIsNaverApp&&(location.href="naverapp://floatingtoolbar?bottomMargin=-100",window.naverAppFloatingToolBarBottomMargin=-100),this._bIsSoloEntered=!0},_exitSolo:function(){this.option("oAutoComplete").isShown()&&this.option("oAutoComplete").hide(),this.option("oKeywordHistory").isShown()&&this.option("oKeywordHistory").hide(),this._welBody.removeClass("open_autocomplete"),this._elBody.scrollTop=this._nPrevScrollTop=this._nScrollTopBeforeEnterSolo,this.option("elHeader").style.height="",this.option("elContainer").style.paddingTop="",this._bIsSoloEntered=!1,this._bIsFocused=!1,nhn.mobile.search_bar.htNaverApp.bIsNaverApp&&(location.href="naverapp://floatingtoolbar?bottomMargin=0",window.naverAppFloatingToolBarBottomMargin=0),this._onTransitionEnd()},_assignHeaderHeight:function(){var t=0;this._bIsIOSSafari&&(t=Math.max(this.option("elSCH").getBoundingClientRect().height,window.innerHeight)+40,this.option("elHeader").style.height=t+"px")},_doShowOrHide:function(){if(!this.isSoloEntered()&&this.isActivating()&&"none"!==this._elSCHTab.style.display){var t=Math.max(this._getBodyScrollTop(),0),e=Math.abs(this._nPrevScrollTop-t),n=this._nPrevScrollTop<t,i=this._nPrevScrollTop>t;this._scrollAtFirst&&0===e&&(this._htPersist&&this._htPersist.show||this.hide(!0,!0)),e>this.option("nOffset")&&(n&&this.hide(!0),i&&this.show(!0)),this._nPrevScrollTop=t,this._scrollAtFirst=!1}},_showIfUppermostScrollTop:function(t){this._getBodyScrollTop()<=0&&this.show(!0)},_onShow:function(){this._bIsShowing=this._bIsHiding=!1,this._bIsShown=!0,this._chagneStatusBarColor(),jq.persist(this.option("sPersistKey"),{show:!0})},_onHide:function(){this._bIsShowing=this._bIsHiding=!1,this._bIsShown=!1,this._chagneStatusBarColor(),jq.persist(this.option("sPersistKey"),{show:!1}),this._showIfUppermostScrollTop()},_chagneStatusBarColor:function(){window.NStatusBar&&(this.isSoloEntered()?window.NStatusBar.cancel():this.isShown()&&window.NStatusBar.cancel())},_updatePaddingTopOfContainer:function(){this.isAndroid()||this.isIOS()||(t("#container").get(0).style.paddingTop=this.option("elHeader").getBoundingClientRect().height+this.option("elSCHTab").getBoundingClientRect().height+"px")},_onPageshow:function(t){t.persisted&&(this.isSoloEntered()&&this.exitSolo(!0),this._onTransitionEnd())},_onScroll4IOSWebView:function(t){clearTimeout(this._ref),this._ref=setTimeout(this._fDoShowOrHide,20)},_onTransitionEnd:function(t){0===this._getTranslateY()?this._onShow():this._onHide()},_onACKHShown:function(t){this.enterSolo(!0)},_onACKHHided:function(t){this._bDoExitSolo&&(this._bDoExitSolo=!1,this.exitSolo(!0))},_onCloseClick:function(t){this._bDoExitSolo=!0},_onACPainted:function(t){this.isSoloEntered()&&this._assignHeaderHeight()},_onACFocus:function(t){window.scrollTo(0,0),document.documentElement.scrollTop=0,document.body.scrollTop=0},_onACFocused:function(t){this._bIsLTIOS10&&setTimeout(scrollTo,100,0,0)}})}(nhn.mobile.ac.$),nhn.mobile.search_bar.search_init=function(t){var e=nhn.mobile.ac.$,n=e("#nx_query").get(0),i=document.forms.search,s=e(i),o=e("#_sch");oKeywordHistory=new nhn.mobile.kh.KeywordHistory({oData:new nhn.mobile.kh.Data,oView:new nhn.mobile.search_bar.kh.View({elForm:i,elInput:n,elView:e("#nx_suggest_recent").get(0),elNothingLayer:e("#nx_suggest_recent_nothing").get(0),elOffLayer:e("#nx_suggest_recent_off").get(0),elClearBtn:e("#nx_suggest_recent_clear").get(0),elUnuseBtn:e("#nx_suggest_recent_unuse").get(0),elCloseBtn:e("#nx_suggest_recent_close").get(0),sListSelector:"._kwd_lst"})}).on({close:function(t){tCR("a=sxt.close"),o.removeClass("sch_write")},select:function(t){s.append("<input type='hidden' name='acr'>"),i.sm.value="mtb_sly.hst",i.acr.value=t.rank},use:function(t){tCR("a=sxt.on")},unuse:function(t){tCR("a=sxt.off")},remove:function(){tCR("a=sxt.x")},removeAll:function(){tCR("a=sxt.del")}}),oKeywordHistory.ready(),oAutoComplete=new nhn.mobile.search_bar.ac.Autocomplete({oInput:new nhn.mobile.search_bar.ac.Input({elInput:n,elClearBtn:e("#nx_input_clear").get(0)}),oData:new nhn.mobile.search_bar.ac.Data({sAPIURL:t.sAPIURL,sQueryKey:"q",htAPIParam:{q_enc:"UTF-8",st:"1",frm:"mobile_nv",r_format:"json",r_enc:"UTF-8",r_unicode:"0",t_koreng:"1",ans:"2",run:"2",rev:"4"}}),oView:new nhn.mobile.search_bar.ac.View({el:e("#nx_ac_layer").get(0),elToggleBtn:e("#nx_ac_toggle").get(0),elCloseBtn:e("#nx_ac_layer_close").get(0),elACPlusRoot:e("._u_atcp_plus",o.get(0)).get(0),aElDoNotBlur:[i,e("._sch_inpw_in",o.get(0)).get(0)],sListSelector:"._u_atcp",sAnswerSelector:"._atcp_answer_wrap",nPsnCount:3,htPsnTemplate:{sHistory:['<li class="u_atcp_l u_atcp_lsc" data-rank="@rank@" data-query="@in_txt@">','<a href="javascript:;" class="u_atcp_a u_atcp_av _personal" onclick="oAutoComplete.select(event);"><div class="u_atcp_ap">@txt@</div></a>','<span class="u_atcp_date">@date@.</span>','<button type="button" class="u_atcp_add _u_atcp_add" style="display:@ex_btn@" onclick="oAutoComplete.extendKeyword(event);">','<span class="u_atcp_addb"><span class="u_vc">추가</span></span>',"</button>","</li>"].join("")}}),elForm:i,sCookieName:"NaverSuggestUse",bIsLogin:t.bIsLogin,sACPlusStorageKey:"search_bar_ac_plus"}).on({change:function(t){this.oInput.getValue()?(oKeywordHistory.hide(),oAutoComplete.show(),e(this.oInput.elClearBtn).show(),this.oInput.setPlaceholderText("")):(oKeywordHistory.show(),oAutoComplete.hide(),e(this.oInput.elClearBtn).hide(),this.oInput.setPlaceholderText("검색어 입력"))},select:function(t){oKeywordHistory.add(t.sText),s.append("<input type='hidden' name='qdt' value='0'>"),s.append("<input type='hidden' name='acq'>"),s.append("<input type='hidden' name='acr'>"),t.bPersonal?i.sm.value="mtb_sug.psn":t.bPartialMatch?i.sm.value="mtb_sug.pat":t.bCorrectedQuery?i.sm.value="mtb_sug.mbk":i.sm.value="mtb_sug.top",i.acq.value=t.sUserText,i.acr.value=t.nRank},selectAnswer:function(t){i.sm.value="mtb_sug."+t.sLog,16===t.nAnswerId&&(s.append("<input type='hidden' name='acq' value='"+t.sUserText+"'>"),s.append("<input type='hidden' name='acr' value='"+t.nRank+"'>"))},extendKeyword:function(t){tCR("a=sug.plus")},moveURL:function(t){t.stop(),gCR(t.sURL,"sug.go1")},use:function(t){tCR("a=sug.on")},unuse:function(t){tCR("a=sug.off")},close:function(t){o.removeClass("sch_write"),tCR("a="+(this.isUse()?"sug.onc":"sug.offc"))},voteOpen:function(t){tCR("a=sug.vopen")},voteClose:function(t){tCR("a=sug.vclose")},voteHelp:function(t){gCR("http://m.help.naver.com/faq/detail.nhn?faqId=22006","sug.vhelp")},focus:function(t){this.oInput.getValue()?(oKeywordHistory.hide(),oAutoComplete.show(),this.oInput.setPlaceholderText("")):(oKeywordHistory.show(),oAutoComplete.hide(),this.oInput.setPlaceholderText("검색어 입력")),o.addClass("sch_write")},show:function(t){!this.oInput.getValue()&&t.stop()},blur:function(t){!this.oInput.bIsDocumentTouchStart&&nhn.mobile.search_bar.oFloating&&(o.removeClass("sch_write"),nhn.mobile.search_bar.oFloating.exitSolo())},blurred:function(t){this.oInput.setPlaceholderText(this.oInput.getValue()?"":"검색어 입력")},acPlusSwitchClick:function(t){t.checked?tCR("a=sug.cxon"):tCR("a=sug.cxoff")}}),e(window).on("pageshow",function(t){t.persisted&&(n.blur(),n.value=headerfooter_query,o.removeClass("sch_write"),e(oAutoComplete.oInput.elClearBtn).show(),oAutoComplete.hide(),oKeywordHistory.hide())});var a=function(){return oAutoComplete.isAndroid()?parseFloat(oAutoComplete.getOSVersion())>=4.3:!oAutoComplete.isIOS()||!(/iPhone.*Version/.test(navigator.userAgent)&&414===screen.width&&736===screen.height)};a()&&(e(document.body).addClass("type_floating"),window.f=new nhn.mobile.search_bar.Floating({elHeader:e("._header").get(0),elSCH:e("#_sch").get(0),elSection:e("._section").get(0),elSCHTab:e("._sch_tab").get(0),elRSRoot:e("#_rs_content").get(0),elACKHRoot:e("._u_atcp_wrap").get(0),elContainer:e("#container").get(0),oAutoComplete:oAutoComplete,oKeywordHistory:oKeywordHistory}))};