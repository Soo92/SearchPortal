!function t(e,n,i){function o(a,r){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){e.exports={createClassFunction:function(t){var e=function(){return"function"==typeof this.$init&&this.$init.apply(this,arguments),this};return e.prototype=t,e.prototype.constructor=e,e},findElement:function(t,e){if(!t)return e;var n,i=this.wrapElement(e);return n=window.jQuery?i.find(t):jindo.$Element(i.query(t)),this.getElement(n)},getElement:function(t){return window.jQuery?t.length>0?t[0]:null:t?t.$value():null},wrapElement:function(t){return null===t?null:window.jQuery?jQuery(t):jindo.$Element(t)},removeElement:function(t){var e=this.wrapElement(t);window.jQuery?e.remove():e.leave()},on:function(t,e,n,i){if(2===arguments.length){var o,s=arguments[0];for(o in s)s.hasOwnProperty(o)&&this.on(t,o,s[o],i)}window.jQuery?jQuery(t).on(e,n):jindo.$Element.prototype.attach?jindo.$Element(t).attach(e,n):this["_wFn_"+i]=jindo.$Fn(n).attach(t,e)},off:function(t,e,n,i){window.jQuery?jQuery(t).off(e,n):jindo.$Element.prototype.detach?jindo.$Element(t).detach(e,n):(i="_wFn_"+i,this[i]&&(this[i].detach(t,e),this[i]=null,delete this[i]))},proxy:function(){var t=arguments[0],e=arguments[1],n=arguments[2];return n||(n=[]),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},isArray:function(t){return t?t.constructor===Array:!1},visible:function(t){return window.jQuery?jQuery(t).is(":visible"):jindo.$Element(t).visible()},trim:function(t){return window.jQuery?jQuery.trim(t):jindo.$S(t).trim().$value()},tpl:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp(["{=",n,"}"].join(""),"ig"),e[n]));return this.trim(t)}}},{}],2:[function(t,e,n){!function(){var n,i=t("./map/extension.js");n=function(t,e){var o,s=new naver.maps.Map(t,e),a=new i(s);for(var r in a)a.hasOwnProperty(r)&&(s[r]=a[r]);return o=function(){},o.prototype=s,o.prototype.constructor=n,new o},e.exports=n,nhn=window.nhn||{},nhn.mobile=nhn.mobile||{},nhn.mobile.common=nhn.mobile.common||{},nhn.mobile.common.mapExtension=nhn.mobile.common.mapExtension||n,nhn.mobile.common.mapExtension.VERSION=nhn.mobile.common.mapExtension.VERSION||"v0.1.11"}()},{"./map/extension.js":6}],3:[function(t,e,n){!function(){var n=t("../../common/base.js");e.exports=n.createClassFunction({$init:function(t){this._oMap=t,this._htGroup={},this._HtmlOverlay=this._getHtmlOverlayClass(),naver.maps.Event.addListener(t,"idle",n.proxy(function(){this.redraw()},this))},_getHtmlOverlayClass:function(){var t=function(t){this._oMap=t.map,this._wel=t.wel,this._group=t.group,this._data=t.data,this._sAnchorPosition=t.anchor,t.zIndex&&this.xSetZIndex(t.zIndex),this.setPosition(t.position),this.setMap(this._oMap||null)};return t.prototype=new naver.maps.OverlayView,t.prototype.constructor=t,t.prototype.getPosition=function(){return this._position},t.prototype.setPosition=function(t){this._position=t},t.prototype.onAdd=function(){this._wel.appendTo(this.getPanes().overlayLayer)},t.prototype.onRemove=function(){n.removeElement(this.xGetElement())},t.prototype.draw=function(){},t.prototype.xDraw=function(){var t=this.getMap();if(t){var e=this.getProjection(),i=this.getPosition(),o=e.fromCoordToOffset(i),s=o.clone().add(this.getContainerTopLeft()),a=n.visible(this.xGetElement()),r={overlay:this,element:this._wel,position:i,screenPosition:s,data:this._data,group:this._group,intersects:[]};if(!this._isIntersected(t))return a&&naver.maps.Event.trigger(this._oMap,"xBeforeHideHtmlOverlay",r),a&&this._wel.hide(),void(a&&naver.maps.Event.trigger(this._oMap,"xAfterHideHtmlOverlay",r));!a&&naver.maps.Event.trigger(this._oMap,"xBeforeShowHtmlOverlay",r),!a&&this._wel.show(),!a&&naver.maps.Event.trigger(this._oMap,"xAfterShowHtmlOverlay",r);var l,h,u=this._wel.width(),_=this._wel.height();if(0===u||0===_)return void setTimeout(n.proxy(function(){this.xDraw()},this),150);switch(this._sAnchorPosition){case"center":l=o.x-u/2,h=o.y-_/2;break;case"left":l=o.x-u,h=o.y-_/2;break;case"right":l=o.x,h=o.y-_/2;break;case"down":l=o.x-u/2,h=o.y;break;case"up":l=o.x-u/2,h=o.y-_;break;default:l=o.x-u/2,h=o.y-_}this._wel.css({left:l,top:h})}},t.prototype._isIntersected=function(t){if(t){var e=t.getBounds(),n=this.getPosition();return e.hasLatLng(n)}},t.prototype.xGetDrawingRect=function(t){var e,i,o=this.getProjection(),s=this.getPosition(),a=o.fromCoordToOffset(s),r=a.clone().add(this.getContainerTopLeft());return t=t||"._icon",e=n.findElement(t,this.xGetElement()),i=null===e?this._wel:n.wrapElement(e),new naver.maps.PointBounds(new naver.maps.Point(r.x,r.y),new naver.maps.Point(r.x+i.width(),r.y+i.height()))},t.prototype.xGetElement=function(){return n.getElement(this._wel)},t.prototype.xGetGroup=function(){return this._group},t.prototype.xGetData=function(){return this._data},t.prototype.xGetZIndex=function(){return this._wel.css("zIndex")},t.prototype.xSetZIndex=function(t){this._wel.css("zIndex",t)},t},_createOverlay:function(t,e,i,o,s){return new this._HtmlOverlay({wel:n.wrapElement(n.tpl(e,s)),zIndex:o,map:this._oMap,position:s.latlng?new naver.maps.LatLng(s.latlng[0],s.latlng[1]):new naver.maps.LatLng(s.coordinates[1],s.coordinates[0]),anchor:i,group:t,data:s})},_createEventHandler:function(t,e,i){return n.proxy(function(t,e,n){"function"==typeof n.stopBubble?n.stopBubble():"function"==typeof n.stopPropagation&&n.stopPropagation();var o=t.getProjection(),s=t.getPosition(),a=o.fromCoordToOffset(s),r=a.clone().add(t.getContainerTopLeft()),l={overlay:t,element:t.xGetElement(),position:s,screenPosition:r,data:e,group:i,intersects:this.getIntersects(t,i)};naver.maps.Event.trigger(this._oMap,"xClickHtmlOverlay",l)},this,[t,e])},_getGroupList:function(t){return this._htGroup[t]||(this._htGroup[t]=[]),this._htGroup[t]},_addGroup:function(t,e){var i=e.aData;if(i){var o,s,a,r,l,h=e.sTpl||e.vHtml,u=e.nZindex,_=e.sAnchor,p=i.length;for(l=0;p>l;l++)a=n.isArray(h)?h[l]:h,a&&(r=i[l],s=this._createOverlay(t,a,_,u,r),o=this._createEventHandler(s,r,t),n.on(s.xGetElement(),"click",o,[t,l].join("")),this._getGroupList(t).push({overlay:s,handler:o}));return this._getGroupList(t)}},_delGroup:function(t){var e=this._htGroup[t];if(e){var i,o,s,a=e.length;for(s=0;a>s;s++)i=e[s],o=i.overlay,n.off(o.xGetElement(),"click",i.handler,[t,s].join("")),o.setMap(null),i.overlay=null,i.handler=null,delete i.overlay,delete i.handler;this._htGroup[t]=null,delete this._htGroup[t]}},getGroupList:function(t){return this._getGroupList(t)},update:function(t){if(!t)return null;var e,n=t.sId||"noname",i=[];this._delGroup(n),e=this._addGroup(n,t);for(var o=0;o<e.length;o++)i.push(e[o].overlay);return this.redraw(),i},redraw:function(){var t,e,n,i,o=this._htGroup;for(t in o)if(o.hasOwnProperty(t))for(e=this._getGroupList(t),i=e.length,n=0;i>n;n++)e[n].overlay.xDraw()},clear:function(){var t,e=this._htGroup;for(t in e)e.hasOwnProperty(t)&&this._delGroup(t)},getIntersects:function(t,e){e=e||t.xGetGroup();for(var n=this.getGroupList(e),i=t.xGetDrawingRect(),o=[{element:t.xGetElement(),group:t.xGetGroup(),data:t.xGetData()}],s=n.length;s>0;s--){var a=n[s-1].overlay,r=a&&a.getMap()?a.xGetDrawingRect():null;t!==a&&r&&i.intersects&&i.intersects(r)&&o.push({element:a.xGetElement(),group:a.xGetGroup(),data:a.xGetData()})}return o.length>1?o:[]}})}()},{"../../common/base.js":1}],4:[function(t,e,n){!function(){var n=t("../../common/base.js");e.exports=n.createClassFunction({$init:function(t){this._aoPolygon=[],this._oMap=t,this._htPolygon=null,this._htColorStyle=null},_create:function(){var t=null;return t=this._htColorStyle?this._htColorStyle:{strokeColor:"#EF3232",strokeOpacity:.7,strokeWeight:4,fillColor:"#FF8D9D",fillOpacity:.3},new naver.maps.Polygon(t)},_draw:function(t){var e=this._getGeometry(t);if(e&&0===this._aoPolygon.length){var n=e.coordinates,i=e.type;"Polygon"===i?this._drawPolygon(n):"MultiPolygon"===i&&this._drawMultyPolygon(n)}},_drawPolygon:function(t){var e=this._create(),n=this._getLatLngArray(t);e.setPaths(n),e.setMap(this._oMap),this._aoPolygon.push(e)},_drawMultyPolygon:function(t){for(var e=0;e<t.length;e++)this._drawPolygon(t[e])},_getLatLngArray:function(t){for(var e,n,i,o=[],s=0;s<t.length;s++){e=[],n=t[s];for(var a=0;a<n.length;a++)i=n[a],e.push(new naver.maps.LatLng(i[1],i[0]));o.push(e)}return o},_getGeometry:function(t){if(!t||!n.isArray(t.features)||0===t.features.length)return null;var e=t.features[0].geometry;return!e||!n.isArray(e.coordinates)||0===e.coordinates.length||"Polygon"!==e.type&&"MultiPolygon"!==e.type?null:e},clear:function(){for(var t=0;t<this._aoPolygon.length;t++)this._aoPolygon[t].setMap(null),this._aoPolygon[t]=null;this._aoPolygon.length=0},refresh:function(){this._draw(this._htPolygon)},update:function(t){return this.clear(),this._htPolygon=t,t&&this._draw(t),this._aoPolygon},setStyle:function(t){this._htColorStyle=t}})}()},{"../../common/base.js":1}],5:[function(t,e,n){!function(){var n=t("../../common/base.js");e.exports=n.createClassFunction({$init:function(t){this._oMap=t,this._oPolyline=null,this._htColorStyle={strokeColor:"67bd4c",strokeOpacity:1,strokeWeight:2,strokeStyle:"shortdot",strokeLineCap:"round",strokeLineJoin:"round"}},_create:function(){return null===this._oPolyline&&(this._oPolyline=new naver.maps.Polyline(this._htColorStyle)),this._oPolyline},_draw:function(t){var e=this._getGeometry(t);e&&this._drawPolyline(e.coordinates)},_drawPolyline:function(t){var e=this._create(),n=this._getLatLngArray(t);e.setPath(n),e.setMap(this._oMap)},_getLatLngArray:function(t){for(var e,n,i=[],o=0;o<t.length;o++){e=t[o];for(var s=0;s<e.length;s++)n=e[s],i.push(new naver.maps.LatLng(n[1],n[0]))}return i},_getGeometry:function(t){if(!t||!n.isArray(t.features)||0===t.features.length)return null;var e=t.features[0].geometry;return e&&n.isArray(e.coordinates)&&0!==e.coordinates.length&&"Polyline"===e.type?e:null},clear:function(){this._oPolyline&&this._oPolyline.setMap(null),this._oPolyline=null},update:function(t){return this.clear(),this._draw(t),this._oPolyline},setStyle:function(t){this._htColorStyle=t}})}()},{"../../common/base.js":1}],6:[function(t,e,n){!function(){var n=t("../common/base.js"),i=t("./addon/overlay.js"),o=t("./addon/polygon.js"),s=t("./addon/polyline.js");e.exports=function(t){var e=new i(t),a=new o(t),r=new s(t);return{xMoveTo:function(t,e){var n=new naver.maps.LatLng(t[0],t[1]);e?this.morph(n,e):this.panTo(n)},xPanTo:function(t,e){var n=new naver.maps.LatLng(t[1],t[0]);e?this.morph(n,e):this.panTo(n)},xFitBounds:function(t,e){var n=new naver.maps.LatLngBounds(new naver.maps.LatLng(t[1],t[0]),new naver.maps.LatLng(t[3],t[2]));this.fitBounds(n,e)},xUpdatePolygon:function(t,e){return null===a?null:(e&&a.setStyle(e),a.update(t))},xUpdatePolyline:function(t,e){return null===r?null:(e&&r.setStyle(e),r.update(t))},xUpdateHtmlOverlay:function(t){return null===e?[]:null===t?(e.clear(),[]):n.isArray(t)?this.xUpdateHtmlOverlays(t):e.update(t)},xUpdateHtmlOverlays:function(t){if(!n.isArray(t))return[];var e,i=[],o=t.length;for(e=0;o>e;e++)i.push(this.xUpdateHtmlOverlay(t[e]));return i},xGetBestBounds:function(t){var e,n,i=[],o=t.length;for(n=o;n>0;n--)e=t[n-1],i.push(new naver.maps.LatLng(e[1],e[0]));return naver.maps.LatLngBounds.bounds.apply(null,i)},xFitBestBounds:function(t,e){var n=this.xGetBestBounds(t);this.fitBounds(n,e)}}}}()},{"../common/base.js":1,"./addon/overlay.js":3,"./addon/polygon.js":4,"./addon/polyline.js":5}],7:[function(t,e,n){e.exports={loadScript:function(t,e){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,e())}:n.onload=function(){e()},n.src=t,document.body.appendChild(n)},createClassFunction:function(t){var e=function(){return this._htCallback={},"function"==typeof this.$init&&this.$init.apply(this,arguments),this};return e.prototype=t,e.prototype.constructor=e,e.prototype.attach=function(t,e){if(1===arguments.length){var n,i=arguments[0];for(n in i)i.hasOwnProperty(n)&&this.attach(n,i[n]);return this}return this._htCallback[t]=e,this},e.prototype.fireEvent=function(t,e){var n=this._htCallback[t];"function"==typeof n&&n(e)},e},wrapElement:function(t){return null===t?null:window.jQuery?jQuery(t):jindo.$Element(t)},findElement:function(t,e){if(!t)return e;var n,i=this.wrapElement(e);return n=window.jQuery?i.find(t):jindo.$Element(i.query(t)),this.getElement(n)},closestElement:function(t,e){return window.jQuery?jQuery(e).closest(t)[0]:jindo.$$("!"+t,e)[0]},getElement:function(t){return window.jQuery?t.length>0?t[0]:null:t?t.$value():null},visible:function(t){return window.jQuery?jQuery(t).is(":visible"):jindo.$Element(t).visible()},on:function(t,e,n){if(2===arguments.length){var i,o=arguments[0];for(i in o)o.hasOwnProperty(i)&&this.on(t,i,o[i])}window.jQuery?jQuery(t).on(e,n):jindo.$Element.prototype.attach?jindo.$Element(t).attach(e,n):jindo.$Fn(n).attach(t,e)},proxy:function(){var t=arguments[0],e=arguments[1],n=arguments[2];return n||(n=[]),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},isPC:function(){return!this.isMobile()},isMobile:function(){return"undefined"==typeof this._bMobile&&(this._bMobile=function(){var t=navigator.userAgent,e=function(t,e){return(e||"").indexOf(t)>-1};return e("Mobile",t)||e("Android",t)||e("Nokia",t)||e("webOS",t)||e("Opera Mini",t)||e("BlackBerry",t)||e("Windows",t)&&e("PPC",t)||e("Smartphone",t)||e("IEMobile",t)||e("iPad",t)}()),this._bMobile}}},{}],8:[function(t,e,n){!function(){var n,i=t("./base.js"),o=t("./map.js");n=i.createClassFunction({$init:function(t){return this._setOption(t),this._assignElements(),this._initComponents(),this._attachEvents(),this._htOption.bAutoLoad===!0&&this._onClickCover(),this},_setOption:function(t){var e={sToggleCss:"type_multi",nZoom:13,nHeight:330,nSwitchDelay:0,bAutoLoad:!1,bPinchZoom:!0};for(var n in e)"undefined"==typeof t[n]&&e.hasOwnProperty(n)&&(t[n]=e[n]);this._htOption=t},_assignElements:function(){this._elRoot=this._htOption.elRoot,this._elCover=i.findElement("._cover",this._elRoot),this._elLoading=i.findElement("._loading",this._elRoot),this._elMap=i.findElement("._map",this._elRoot),this._elMap||(this._elMap=this._createDivChildOf(this._elRoot)),this._elViewer=i.findElement("._viewer",this._elMap),this._elViewer||(this._elViewer=this._createDivChildOf(this._elMap)),i.wrapElement(this._elViewer).height(this._htOption.nHeight),this._elReset=i.findElement("._reset",this._elMap),this._elZoomIn=i.findElement("._zoomin",this._elMap),this._elZoomOut=i.findElement("._zoomout",this._elMap),this._elClose=i.findElement("._close",this._elMap)},_createDivChildOf:function(t){var e=document.createElement("DIV");return t.insertBefore(e,t.firstChild),e},_initComponents:function(){this._oMap=new o(this._elViewer,this._htOption)},_attachEvents:function(){this._oMap.attach("beforeLoad",i.proxy(this._onLoadViewerBefore,this)),this._oMap.attach("load",i.proxy(this._onLoadViewer,this)),this._oMap.attach("dragend",i.proxy(this._onDragEnd,this)),this._oMap.attach("clickOverlay",i.proxy(this._onClickOverlay,this)),this._oMap.attach("chanageZoom",i.proxy(this._onChangeZoom,this));var t=i.isPC()?"click":"touchend";this._elCover&&i.on(this._elCover,"click",i.proxy(this._onClickCover,this)),this._elClose&&i.on(this._elClose,"click",i.proxy(this._onClickClose,this)),this._elReset&&i.on(this._elReset,t,i.proxy(this._onClickReset,this)),this._elZoomIn&&i.on(this._elZoomIn,t,i.proxy(this._onClickZoomIn,this)),this._elZoomOut&&i.on(this._elZoomOut,t,i.proxy(this._onClickZoomOut,this))},_onLoadViewerBefore:function(){this._elLoading&&i.wrapElement(this._elLoading).show()},_onLoadViewer:function(){this._elLoading&&i.wrapElement(this._elLoading).hide(),this._bInit||(this._onInit(),this._bInit=!0)},_onInit:function(){this._updateByInitData(),this.fireEvent("init",this)},_onChangeZoom:function(t){switch(this._enableButton(this._elZoomIn),this._enableButton(this._elZoomOut),t.status){case"minZoom":this._disableButton(this._elZoomOut);break;case"maxZoom":this._disableButton(this._elZoomIn)}},_onDragEnd:function(){this.fireEvent("dragend")},_onClickOverlay:function(t){this.fireEvent("clickOverlay",t)},_onClickCover:function(){i.wrapElement(this._elRoot).addClass(this._htOption.sToggleCss),this._elCover&&i.wrapElement(this._elCover).hide(),i.wrapElement(this._elMap).show(),this._oMap.load(),this.fireEvent("clickCover")},_onClickClose:function(){this.close(),this.fireEvent("clickClose")},_onClickReset:function(){this._resetViewer(),this.fireEvent("clickReset")},_onClickZoomIn:function(){this._oMap.zoomIn(),this.fireEvent("clickZoomIn")},_onClickZoomOut:function(){this._oMap.zoomOut(),this.fireEvent("clickZoomOut")},_resetViewer:function(){this._oMap.reset()},_updateByInitData:function(){this.updatePolygon(this._htOption.htPolygon,this._htOption.htPolygonStyle),this.updateOverlay(this._htOption.aOverlayData)},_enableButton:function(t){t&&i.wrapElement(t).removeClass("off")},_disableButton:function(t){t&&i.wrapElement(t).addClass("off")},moveTo:function(t,e,n){this._oMap.moveTo(t,e,n)},panTo:function(t,e,n){this._oMap.moveTo([t[1],t[0]],e,n)},fitBounds:function(t,e){this._oMap.fitBounds(t,e)},updateOverlay:function(t){this._oMap.updateOverlay(t)},updatePolygon:function(t,e){this._oMap.updatePolygon(t,e)},close:function(){i.wrapElement(this._elRoot).removeClass(this._htOption.sToggleCss),this._elCover&&i.wrapElement(this._elCover).show(),i.wrapElement(this._elMap).hide(),this._resetViewer()},getNaverMap:function(){return this._oMap.getNaverMap()}}),"undefined"!=typeof e&&e.exports&&(e.exports=n),nhn=window.nhn||{},nhn.mobile=nhn.mobile||{},nhn.mobile.common=nhn.mobile.common||{},nhn.mobile.common.map=nhn.mobile.common.map||{},nhn.mobile.common.map.Controller=nhn.mobile.common.map.Controller||n,nhn.mobile.common.map.VERSION=nhn.mobile.common.map.VERSION||"v1.3.3"}()},{"./base.js":7,"./map.js":9}],9:[function(t,e,n){!function(){var n=t("./base.js"),i=t("sau-map-extension");e.exports=n.createClassFunction({$init:function(t,e){this._elRoot=t,this._htOption=e,this._bLoaded=!1,this._nZoom=this._htOption.nZoom,this._oCenter=null,this._oBounds=null,this._oMap=null,this._bWorldMap=this._htOption.bUseWorldMap,this._sOverlayType=this._htOption.sOverlayType;var n=this._bWorldMap?0:1,i=this._bWorldMap?7:14,o=this._htOption.htNaverMapOption;o&&(n=o.minZoom?o.minZoom:n,i=o.maxZoom?o.maxZoom:i),this._nMinZoom=n,this._nMaxZoom=i,this._bEnableResize=!1},_init:function(){this._initObjects(),this._attachEvents(),this._noticeZoomChanged(),this._bLoaded=!0},_initObjects:function(){this._oBounds=this._getBounds(),this._oCenter=this._getCenter(),this._oMap=this._createMap(this._htOption)},_attachEvents:function(){naver.maps.Event.addListener(this._oMap,"dragend",n.proxy(this._onDragEnd,this)),naver.maps.Event.addListener(this._oMap,"zoom_changed",n.proxy(this._onChangeZoom,this)),naver.maps.Event.addListener(this._oMap,"xClickHtmlOverlay",n.proxy(this._onClickOverlay,this)),n.on(window,"resize",n.proxy(this._onResize,this))},_onDragEnd:function(){this.fireEvent("dragend")},_onChangeZoom:function(){this._noticeZoomChanged()},_onClickOverlay:function(t){this.fireEvent("clickOverlay",t)},_onResize:function(){this._bEnableResize&&(window.clearTimeout(this._nResizeThread),this._nResizeThread=setTimeout(n.proxy(function(){this._resize()},this),300))},_resize:function(){var t=n.closestElement("._map",this._elRoot);if(n.visible(t)){var e=n.wrapElement(t),i=new naver.maps.Size(e.width(),e.height());this._bEnableResize=!1,this._oMap.setSize(i.clone()),window.clearTimeout(this._nResizeAllowThread),this._nResizeAllowThread=setTimeout(n.proxy(function(){this._bEnableResize=!0},this),350)}},_load:function(){this.fireEvent("beforeLoad");var t=n.proxy(function(){var t=this._htOption.nSwitchDelay;setTimeout(n.proxy(function(){this.fireEvent("load"),this._resize()},this),t)},this);this._loadMapApiScript(t)},_isLoadedMapApi:function(){return nhn.mobile._bLoadedOpenApi&&nhn.mobile._bLoadedOpenApi===!0&&!!window.naver&&!!window.naver.maps},_loadMapApiScript:function(t){if(this._isLoadedMapApi())return this._init(),void t();var e=this._htOption.sApi,i=n.proxy(function(){nhn.mobile._bLoadedOpenApi=!0,this._init(),t()},this);n.loadScript(e,i)},_createMap:function(){if(null!==this._oMap)return this._oMap;var t=this._htOption.htNaverMapOption,e={size:new naver.maps.Size(n.wrapElement(this._elRoot).width(),n.wrapElement(this._elRoot).height()),center:this._getCenter(),zoom:this._nZoom,bounds:this._getBounds(),mapTypeId:this._bWorldMap?"world_map":"normal_map",mapTypes:this._getMapType(),scaleControl:!1,logoControl:!1,mapDataControl:!1,zoomControl:!1,scrollWheel:!1,disableDoubleClickZoom:!0,disableDoubleTapZoom:!0,disableKineticPan:!1,disableTwoFingerTapZoom:!0,pinchZoom:this._htOption.bPinchZoom};for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);var s=new i(this._elRoot,e);return s.setOptions("minZoom",this._nMinZoom),s.setOptions("maxZoom",this._nMaxZoom),s},_getCenter:function(){if(null!==this._oCenter)return this._oCenter;if(!this._htOption.aCenter)return null;var t=this._htOption.aCenter;return new naver.maps.LatLng(t[0],t[1])},_getBounds:function(){if(null!==this._oBounds)return this._oBounds;var t=null,e=this._htOption.htPolygon;return t=e&&e.features&&e.features[0]?e.features[0].bbox:this._htOption.aBbox,this._getBboxBounds(t)},_getBboxBounds:function(t){return t?new naver.maps.LatLngBounds(new naver.maps.LatLng(t[1],t[0]),new naver.maps.LatLng(t[3],t[2])):null},_getMapType:function(){var t,e=this._bWorldMap?"g_bl_vc_bg/g_ol_vc_rd/g_ol_vc_an":"bl_vc_bg/ol_vc_an",n=this._sOverlayType?this._sOverlayType:e;return t=new naver.maps.PaneTypeRegistry({normal_map:new naver.maps.ImageMapType(new naver.maps.NaverMapTypeOption({name:"국내지도",overlayType:n})),world_map:new naver.maps.ImageMapType(new naver.maps.NaverMapTypeOption({name:"세계지도",minZoom:this._nMinZoom,maxZoom:this._nMaxZoom,projection:naver.maps.EPSG3857,tileSize:new N.Size(256,256),overlayType:n,repeatX:!0,getTileUrl:function(t,e,n){var i=Math.pow(2,n);return e>=0&&i>e?(e=i-1-e,this.toTileUrl(t,e,n,this.version,this.timeStamp,this.imgFormat,this.overlayType)):""}}))})},_noticeZoomChanged:function(){var t="",e=this._oMap.getZoom();e===this._nMinZoom?t="minZoom":e===this._nMaxZoom&&(t="maxZoom"),this.fireEvent("chanageZoom",{status:t})},_setZoom:function(t,e){this._oMap.getZoom()!==t&&this._oMap.setZoom(t,e)},load:function(){this._bLoaded?(this._resize(),this.fireEvent("load")):this._load()},zoomIn:function(){var t=Math.min(this._nMaxZoom,this._oMap.getZoom()+1);this._setZoom(t,!0)},zoomOut:function(){var t=Math.max(this._nMinZoom,this._oMap.getZoom()-1);this._setZoom(t,!0)},reset:function(){var t=this._getBounds(),e=this._getCenter();(t||e)&&(t?this._oMap.fitBounds(t):(this._oMap.setCenter(e),this._setZoom(this._nZoom,!1)))},moveTo:function(t,e,n){this._oMap.xMoveTo(t,e),n&&(this._oCenter=new naver.maps.LatLng(t[0],t[1]),this._nZoom=e)},fitBounds:function(t,e){var n=this._getBboxBounds(t);this._oMap.fitBounds(n),e&&(this._oBounds=n)},updateOverlay:function(t){this._oMap.xUpdateHtmlOverlay(t)},updatePolygon:function(t,e){this._oMap.xUpdatePolygon(t,e)},getNaverMap:function(){return this._oMap}})}()},{"./base.js":7,"sau-map-extension":2}],10:[function(t,e,n){!function(){t("./component/ToggleView"),t("./component/Carousel");e.exports=$Class({$init:function(t){var e={sPersistId:"_cs_terms"};this.option(e),this.option(t,{}),this._initPersist(this.option("sPersistId"))},_initPersist:function(t){this._sPersistId=t,this._oPersist=new Persist,this._htPersist=this.getPersist(),this._htPersist=this._htPersist?this._htPersist:{},this._htPersist.htCarouselIndexList=this._htPersist.htCarouselIndexList?this._htPersist.htCarouselIndexList:{},this._htPersist.htToggleViewStateList=this._htPersist.htToggleViewStateList?this._htPersist.htToggleViewStateList:{},this._aCarouselList=[],this._aToggleViewList=[]},getPersist:function(){return this._oPersist.persist(this._sPersistId)},_savePersist:function(){this._oPersist.persist(this._sPersistId,this._htPersist)},initCarouselPersist:function(t){var e=this,n=function(){var n=e._aCarouselList.length;return t.setInitIndex(e._htPersist.htCarouselIndexList[n]),function(t){var i=t.nIndex;e._htPersist.htCarouselIndexList[n]=i,e._savePersist(e._htPersist)}}();this._aCarouselList.push(t),t.attach("afterScroll",n)},initToggleViewPersist:function(t){var e=this,n=function(){var n=e._aToggleViewList.length;return t.setClassOnOff(e._htPersist.htToggleViewStateList[n]),function(t){var i=t.toggleView.bIsOnAction;e._htPersist.htToggleViewStateList[n]=i,e._savePersist(e._htPersist)}}();this._aToggleViewList.push(t),t.attach("toggle",n)}}).extend(jindo.m.Component)}()},{"./component/Carousel":12,"./component/ToggleView":14}],11:[function(t,e,n){!function(){var n=t("./lib/AudioPlayer");e.exports=$Class({$init:function(t,e){if(!!t!=!1){var i={htSelector:{sPlayClassName:"play",sDataUrlAttrName:"data-sound-src"}};this.option(i),this.option(e,{}),this._initElement(t,this.option("htSelector")),this._bIsPlay=!1,this._oAudioPlayer=new n,this._initEvent()}},_initElement:function(t,e){this._elRoot=t,this._welRoot=jindo.$Element(t),this._sPlayClassName=e.sPlayClassName,this._sDataUrlAttrName=e.sDataUrlAttrName},_initEvent:function(){this._welRoot.attach("click",$Fn(this._onClickPlayBtn,this).bind()),jindo.$Element(window).attach("pageshow",jindo.$Fn(this.stop,this).bind())},_onClickPlayBtn:function(t){this.isPlay()?this.pause():(this.fireEvent("beforePlay"),this.play())},getSoundUrl:function(){return this._welRoot.attr(this._sDataUrlAttrName)},isPlay:function(){return this._bIsPlay},play:function(){this._bIsPlay=!0,this._welRoot.addClass(this._sPlayClassName),this._oAudioPlayer.play(this.getSoundUrl())},pause:function(){this._bIsPlay=!1,this._welRoot.removeClass(this._sPlayClassName),this._oAudioPlayer.pause()},stop:function(){this._oAudioPlayer.stop()}}).extend(jindo.m.Component)}()},{"./lib/AudioPlayer":15}],12:[function(t,e,n){!function(){e.exports=$Class({$init:function(t,e){if(!!t!=!1){var n={htSelector:{sMoreATag:"._more_link"}};this.option(n),this.option(e,{}),this._initElement(t,this.option("htSelector")),this._nInitIndex=0,this.initCarousel()}},_initElement:function(t,e){this._elRoot=t,this._welRoot=jindo.$Element(t),this._welMoreATag=this._welRoot.query(e.sMoreATag)},isVisible:function(){return this._welRoot.width()>0},initCarousel:function(){this.isVisible()&&!!this._oCarousel==!1&&(this._oCarousel=new nhn.mobile.common.Carousel(this._elRoot,this.option("htCarouselOption")),this._initEvent(),this.setInitIndex(this._nInitIndex))},_initEvent:function(){this._openCarouselEvent("afterPullUp"),this._openCarouselEvent("afterScroll"),this._openCarouselEvent("clicklog-carousel")},_openCarouselEvent:function(t){this._oCarousel.attach(t,jindo.$Fn(function(e){"afterPullUp"===t&&this._onAfterPullUpToMore(e),this.fireEvent(t,e)},this).bind())},_onAfterPullUpToMore:function(t){t.carousel=t.carousel?t.carousel:{},t.carousel.sMoreLink=this._getMoreLink()},_getMoreLink:function(){return!!this._welMoreATag==!0?this._welMoreATag.attr("href"):void 0},setInitIndex:function(t){void 0!==t&&(!!this._oCarousel==!0?this._oCarousel.moveTo(t,0):this._nInitIndex=t)}}).extend(jindo.m.Component)}()},{}],13:[function(t,e,n){!function(){var n=t("./lib/DynamicMap");e.exports=$Class({$init:function(t,e){var i=e?e:{};i.sLocPinTplId=i.sLocPinTplId?i.sLocPinTplId:"_cs_terms_map_dynamic_pin_tpl",this._DynamicMap=new n(t,e),this._DynamicMap.attach({dragend:$Fn(this._onDragEnd,this).bind()})},_onDragEnd:function(t){this.fireEvent("dragend",t)}}).extend(jindo.m.Component)}()},{"./lib/DynamicMap":16}],14:[function(t,e,n){!function(){t("./Carousel");e.exports=$Class({$init:function(t,e){if(null!==t){var n={htSelector:{sToggleBtn:"._cs_terms_toggle_btn",sToggleTarget:"._cs_terms_toggle_target"},sToggleClassAttrName:"data-toggle-class"};this.option(n),this.option(e,{});var i=this.option("htSelector");this._initElement(t,i),!!this._welToogleBtn==!0&&this._welToogleTarget&&(this._sToggleClassName=this._welToogleTarget.attr(this.option("sToggleClassAttrName")),this._welToogleBtn.attach("click",jindo.$Fn(this.onClickToggleBtn,this).bind()))}},_initElement:function(t,e){this._elRoot=t,this._welRoot=jindo.$Element(this._elRoot),this._welRoot.hasClass(e.sToggleBtn.replace(/^\./,""))?this._welToogleBtn=this._welRoot:(this._welToogleBtn=this._welRoot.query(e.sToggleBtn),!!this._welToogleBtn==!1&&(this._welToogleBtn=this._welRoot)),this._welRoot.hasClass(e.sToggleTarget.replace(/^\./,""))?this._welToogleTarget=this._welRoot:(this._welToogleTarget=this._welRoot.query(e.sToggleTarget),!!this._welToogleTarget==!1&&(this._welToogleTarget=this._welRoot))},onClickToggleBtn:function(t){this._welToogleTarget.toggleClass(this._sToggleClassName),t.toggleView={},t.toggleView["this"]=this,t.toggleView.bIsOnAction=this._welToogleTarget.hasClass(this._sToggleClassName),this.fireEvent("toggle",t)},setClassOnOff:function(t){void 0!==t&&(t?this._welToogleTarget.addClass(this._sToggleClassName):this._welToogleTarget.removeClass(this._sToggleClassName))}}).extend(jindo.m.Component)}()},{"./Carousel":12}],15:[function(t,e,n){!function(){e.exports=$Class({$init:function(){this._createAudio()},_createAudio:function(){this._oAudio=new Audio,this._oAudio.autoplay=!1,this._bPlaying=!1,this._bPaused=!1,this._attachEvents()},_attachEvents:function(){var t=$Fn(function(t,e){this._oAudio.addEventListener(t,$Fn(e,this).bind(),!1)},this).bind();t("loadstart",this._onLoadStart),t("canplaythrough",this._onPlay),t("ended",this._onEnded),t("timeupdate",this._onTimeupdate)},_onLoadStart:function(){this._notifyStatus("loadstart")},_onPlay:function(){this._bPlaying=!0,this._bPaused=!1,this._notifyStatus("play")},_onTimeupdate:function(){var t=this._oAudio.currentTime,e=this._oAudio.duration;isNaN(t)||(this._notifyStatus("timeupdate"),t===e&&this._onEnded())},_onEnded:function(){clearTimeout(this._nFireThread),this._nFireThread=setTimeout($Fn(function(){this._stop()},this).bind(),100)},_play:function(t){this._oAudio.pause(),this._oAudio.src=t,this._oAudio.play()},_resume:function(){this._oAudio&&this._oAudio.play(),this._bPlaying=!0,this._bPaused=!1,this._notifyStatus("resume")},_pause:function(){this._oAudio&&this._oAudio.pause(),this._bPlaying=!1,this._bPaused=!0,this._notifyStatus("pause")},_stop:function(){this._oAudio&&this._oAudio.pause(),this._bPlaying=!1,this._bPaused=!1,this._notifyStatus("stop")},_notifyStatus:function(t){var e=this._oAudio.currentTime,n=this._oAudio.duration;this.fireEvent("change",{status:t,currentTime:e.toFixed(3),durationTime:n.toFixed(3)})},isPlaying:function(){return this._bPlaying},isPaused:function(){return this._bPaused},play:function(t){return this._bPaused?void this._resume():void this._play(t)},pause:function(){this._pause()},reset:function(){this._stop(),this._createAudio()}}).extend(jindo.m.Component)}()},{}],16:[function(t,e,n){!function(){var n=t("jindo-sau-map");e.exports=$Class({$init:function(t,e){null!==t&&(this._assignVars(t,e),this._initComponents(),this._attachEvents(),this._resize())},_assignVars:function(t,e){this._welRoot=t,this._welImage=t.query("img"),this._htMap=e,this._sPinTpl=$(this._htMap.sLocPinTplId||"_au_kindic_map_pin_tpl").innerHTML},_initComponents:function(){this._oMap=new n({elRoot:this._welRoot.$value(),sApi:this._htMap.sNaverMapApi||naver.search.map_api.v3,aCenter:this._htMap.aInitCenter,nZoom:this._htMap.nInitZoom||3,nHeight:this._htMap.nExpandHeight||195,sToggleCss:this._htMap.sToggleCss,bUseWorldMap:this._htMap.bUseWorldMap||!0,sOverlayType:this._htMap.sOverlayType||"g_bl_vc_bg/g_ol_vc_rd/g_ol_vc_an",
htNaverMapOption:this._htMap.htNaverMapOption||{mapDataControl:!0}})},_attachEvents:function(){this._oMap.attach({init:$Fn(this._onInitMap,this).bind(),dragend:$Fn(this._onDragEnd,this).bind(),clickReset:$Fn(this._onClickReset,this).bind()}),jindo.m.bindRotate($Fn(this._onRotate,this).bind())},_onInitMap:function(){this._resetPosition(!0),this._drawPin()},_onDragEnd:function(){this.fireEvent("dragend")},_onClickReset:function(){this._resetPosition(!1)},_onRotate:function(){this._resize()},_resetPosition:function(){this._htMap.aInitLocData.length>1&&this._setAutoZoomLevelAndCenter(),this._oMap.moveTo(this._htMap.aInitCenter,this._htMap.nInitZoom,!0)},_setAutoZoomLevelAndCenter:function(){var t,e=this._htMap.aInitLocData,n=e.length,i=[],o=this._oMap.getNaverMap();for(t=0;n>t;t++)i.push([e[t].latlng[1],e[t].latlng[0]]);o.xFitBestBounds(i,{top:50,right:50,bottom:50,left:50});var s=o.getCenter();this._htMap.nInitZoom=o.getZoom(),this._htMap.aInitCenter=[s.y,s.x]},_drawPin:function(){this._oMap.updateOverlay({aData:this._htMap.aInitLocData,vHtml:this._htMap.aInitLocHtml?this._htMap.aInitLocHtml:this._sPinTpl})},_resize:function(){var t=this._welRoot.width(),e=this._welImage.$value().src;t>0&&(this._welImage.$value().src=e.replace(/&w=.*&h=/gi,"&w="+t+"&h="))}}).extend(jindo.m.Component)}()},{"jindo-sau-map":8}],17:[function(t,e,n){!function(){var e=t("./component/Audio"),n=t("./component/Carousel"),i=t("./component/Map"),o=t("./component/ToggleView"),s=t("./BfCacheManager");nhn.mobile.search.termsAll.Controller=$Class({$init:function(t,e){if(!!t!=!1){var n={htSelector:{sMapRoot:"._cs_terms_map",sToggleViewArea:"._cs_terms_toggle",sCarousel:"._cs_terms_carousel",sAudio:"._cs_terms_audio"}};this.option(n),this.option(e,{});var i=this.option("htSelector");this._initElement(t,i),this._oBfCacheManager=new s,this._initComponent_ToggleView(),this._initPersist_ToggleView(),this._initComponent_Carousel(),this._initPersist_Carousel(),this._initComponent_Audio(),this._initComponent_Map(),this._initEvent()}},_initElement:function(t,e){this._elRoot=t,this._welRoot=jindo.$Element(this._elRoot),this._aToggleAreaJindoElementList=this._welRoot.queryAll(e.sToggleViewArea),this._waToggleAreaJindoElementList=jindo.$A(this._aToggleAreaJindoElementList),this._aCarouselJindoElementList=this._welRoot.queryAll(e.sCarousel),this._waCarouselJindoElementList=jindo.$A(this._aCarouselJindoElementList),this._aAudioJindoElementList=this._welRoot.queryAll(e.sAudio),this._waAudioJindoElementList=jindo.$A(this._aAudioJindoElementList),this._welMapRoot=this._welRoot.query(e.sMapRoot)},_initComponent_ToggleView:function(){var t=this,e=this.option("htToggleView");this._waToggleViewList=jindo.$A(),this._waToggleAreaJindoElementList.forEach(function(n,i,s){t._waToggleViewList.push(new o(n,e))})},_initPersist_ToggleView:function(){var t=this;this._waToggleViewList.forEach(function(e,n,i){t._oBfCacheManager.initToggleViewPersist(e)})},_initComponent_Carousel:function(){var t=this;this.option("htCarousel");this._waCarouselList=jindo.$A(),this._waHiddenCarouselList=jindo.$A(),this._waCarouselJindoElementList.forEach(function(e,i,o){var s=new n(e.$value());t._waCarouselList.push(s),s.isVisible()===!1&&t._waHiddenCarouselList.push(s)})},_initPersist_Carousel:function(){var t=this;this._waCarouselList.forEach(function(e,n,i){t._oBfCacheManager.initCarouselPersist(e)})},_initComponent_Map:function(){var t=this.option("htMap");this._oMap=new i(this._welMapRoot,t)},_initComponent_Audio:function(){var t=this;this._waAudioList=jindo.$A(),this._waAudioJindoElementList.forEach(function(n,i,o){t._waAudioList.push(new e(n.$value(),t.option("htAudio")))})},_pauseAllAudio:function(){this._waAudioList.forEach(function(t,e,n){t.isPlay()&&t.pause()})},_initEvent:function(){var t=this;this._waToggleViewList.forEach(function(e,n,i){e.attach("toggle",function(e){var n=t._waHiddenCarouselList.filter(function(t){return t.isVisible()});n.forEach(function(t){t.initCarousel()})})}),this._waCarouselList.forEach(function(e,n,i){t._openEvent(e,"afterPullUp","carousel@afterPullUp"),t._openEvent(e,"afterScroll","carousel@afterScroll"),t._openEvent(e,"clicklog-carousel","carousel@clicklog-carousel")}),this._waAudioList.forEach(function(e,n,i){e.attach("beforePlay",jindo.$Fn(t._pauseAllAudio,t).bind())}),t._openEvent(this._oMap,"dragend","map@dragend")},_openEvent:function(t,e,n){t.attach(e,jindo.$Fn(function(t){this.fireEvent(n,t)},this).bind())}}).extend(jindo.m.Component)}()},{"./BfCacheManager":10,"./component/Audio":11,"./component/Carousel":12,"./component/Map":13,"./component/ToggleView":14}],18:[function(t,e,n){"undefined"==typeof nhn&&(nhn={}),nhn.mobile=nhn.mobile||{},nhn.mobile.search=nhn.mobile.search||{},nhn.mobile.search.termsAll=nhn.mobile.search.termsAll||{}},{}]},{},[18,16,15,11,12,13,14,10,17]);